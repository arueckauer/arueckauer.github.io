<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Andi Rückauer</title>
        <link>https://arueckauer.github.io/posts/</link>
        <description>Recent content in Posts on Andi Rückauer</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Mon, 10 Mar 2025 11:04:12 +0100</lastBuildDate>
        <atom:link href="https://arueckauer.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Failed retrieving file &#39;community.db&#39; from mirror</title>
            <link>https://arueckauer.github.io/posts/2025/03/failed-retrieving-file-community.db-from-mirror/</link>
            <pubDate>Mon, 10 Mar 2025 11:04:12 +0100</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2025/03/failed-retrieving-file-community.db-from-mirror/</guid>
            <description>&lt;p&gt;When performing a system update on a freshly downloaded Arch Linux WSL, the following error occurs.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;himbeertoni@arch-wsl ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;$ sudo pacman -Syu --noconfirm
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;We trust you have received the usual lecture from the local System
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Administrator. It usually boils down to these three things:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#1) Respect the privacy of others.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#2) Think before you type.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#3) With great power comes great responsibility.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;For security reasons, the password you type will not be visible.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;sudo&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; password &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; himbeertoni:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;:: Synchronizing package databases...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; core downloading...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; extra downloading...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; community downloading...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;error: failed retrieving file &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;community.db&amp;#39;&lt;/span&gt; from geo.mirror.pkgbuild.com : The requested URL returned error: &lt;span style=&#34;color:#ae81ff&#34;&gt;404&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;error: failed retrieving file &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;community.db&amp;#39;&lt;/span&gt; from mirror.rackspace.com : The requested URL returned error: &lt;span style=&#34;color:#ae81ff&#34;&gt;404&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;error: failed retrieving file &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;community.db&amp;#39;&lt;/span&gt; from mirror.leaseweb.net : The requested URL returned error: &lt;span style=&#34;color:#ae81ff&#34;&gt;404&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;error: failed to synchronize all databases &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;failed to retrieve some files&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;tldr&#34;&gt;tl;dr&lt;/h2&gt;
&lt;p&gt;As part of the git migration the &lt;code&gt;[community]&lt;/code&gt; repository was merged into &lt;code&gt;[extra]&lt;/code&gt;. To fix the error, comment out &lt;code&gt;[community]&lt;/code&gt; related entries in &lt;code&gt;/etc/pacman.conf&lt;/code&gt;.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>When performing a system update on a freshly downloaded Arch Linux WSL, the following error occurs.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>himbeertoni@arch-wsl ~<span style="color:#f92672">]</span>$ sudo pacman -Syu --noconfirm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>We trust you have received the usual lecture from the local System
</span></span><span style="display:flex;"><span>Administrator. It usually boils down to these three things:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#1) Respect the privacy of others.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#2) Think before you type.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#3) With great power comes great responsibility.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>For security reasons, the password you type will not be visible.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>sudo<span style="color:#f92672">]</span> password <span style="color:#66d9ef">for</span> himbeertoni:
</span></span><span style="display:flex;"><span>:: Synchronizing package databases...
</span></span><span style="display:flex;"><span> core downloading...
</span></span><span style="display:flex;"><span> extra downloading...
</span></span><span style="display:flex;"><span> community downloading...
</span></span><span style="display:flex;"><span>error: failed retrieving file <span style="color:#e6db74">&#39;community.db&#39;</span> from geo.mirror.pkgbuild.com : The requested URL returned error: <span style="color:#ae81ff">404</span>
</span></span><span style="display:flex;"><span>error: failed retrieving file <span style="color:#e6db74">&#39;community.db&#39;</span> from mirror.rackspace.com : The requested URL returned error: <span style="color:#ae81ff">404</span>
</span></span><span style="display:flex;"><span>error: failed retrieving file <span style="color:#e6db74">&#39;community.db&#39;</span> from mirror.leaseweb.net : The requested URL returned error: <span style="color:#ae81ff">404</span>
</span></span><span style="display:flex;"><span>error: failed to synchronize all databases <span style="color:#f92672">(</span>failed to retrieve some files<span style="color:#f92672">)</span>
</span></span></code></pre></div><h2 id="tldr">tl;dr</h2>
<p>As part of the git migration the <code>[community]</code> repository was merged into <code>[extra]</code>. To fix the error, comment out <code>[community]</code> related entries in <code>/etc/pacman.conf</code>.</p>
<pre tabindex="0"><code class="language-conf" data-lang="conf">#[community-testing]
#Include = /etc/pacman.d/mirrorlist

#[community]
#Include = /etc/pacman.d/mirrorlist
</code></pre><h2 id="further-reading">Further Reading</h2>
<ul>
<li><a href="https://bbs.archlinux.org/viewtopic.php?id=303841">[SOLVED] unable to retrieve community.db: 404 errors</a></li>
<li><a href="https://archlinux.org/news/cleaning-up-old-repositories/">Cleaning up old repositores</a></li>
<li><a href="https://archlinux.org/news/git-migration-completed/">Git migration completed</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Capturing Exceptions in Sentry Thrown in Mezzio Application</title>
            <link>https://arueckauer.github.io/posts/2022/10/capturing-exceptions-in-sentry-thrown-in-mezzio-application/</link>
            <pubDate>Wed, 26 Oct 2022 10:50:35 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2022/10/capturing-exceptions-in-sentry-thrown-in-mezzio-application/</guid>
            <description>&lt;p&gt;The package &lt;code&gt;arueckauer/mezzio-sentry-delegator&lt;/code&gt; provides a delegator factory and an error listener with which exceptions thrown in a Mezzio application can be captured in Sentry.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://github.com/arueckauer/mezzio-sentry-delegator&#34;&gt;README&lt;/a&gt; describes how to use the package.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>The package <code>arueckauer/mezzio-sentry-delegator</code> provides a delegator factory and an error listener with which exceptions thrown in a Mezzio application can be captured in Sentry.</p>
<p>The <a href="https://github.com/arueckauer/mezzio-sentry-delegator">README</a> describes how to use the package.</p>
]]></content>
        </item>
        
        <item>
            <title>Capturing Exceptions in Sentry Thrown in Symfony Console Application</title>
            <link>https://arueckauer.github.io/posts/2022/10/capturing-exceptions-in-sentry-thrown-in-symfony-console-application/</link>
            <pubDate>Wed, 26 Oct 2022 10:00:19 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2022/10/capturing-exceptions-in-sentry-thrown-in-symfony-console-application/</guid>
            <description>&lt;p&gt;This article describes how to capture exceptions thrown in Symfony console application in Sentry. The fundamental solution is posted on &lt;a href=&#34;https://stackoverflow.com/a/60411421/9364246&#34;&gt;StackOverflow&lt;/a&gt;. In here I describe it in more detail.&lt;/p&gt;
&lt;p&gt;To capture exceptions thrown in Symfony console application in Sentry, the Symfony Event Dispatcher is used.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;composer require symfony/event-dispatcher
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The Event Dispatcher provides a &lt;code&gt;console.error&lt;/code&gt; event. A listener will be called when an exception is thrown. The listener will then capture the exception in Sentry.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>This article describes how to capture exceptions thrown in Symfony console application in Sentry. The fundamental solution is posted on <a href="https://stackoverflow.com/a/60411421/9364246">StackOverflow</a>. In here I describe it in more detail.</p>
<p>To capture exceptions thrown in Symfony console application in Sentry, the Symfony Event Dispatcher is used.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>composer require symfony/event-dispatcher
</span></span></code></pre></div><p>The Event Dispatcher provides a <code>console.error</code> event. A listener will be called when an exception is thrown. The listener will then capture the exception in Sentry.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\EventDispatcher\EventDispatcher</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Ensure Sentry is initialized
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>$dispatcher <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">EventDispatcher</span>();
</span></span><span style="display:flex;"><span>$dispatcher<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">addListener</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ConsoleEvents</span><span style="color:#f92672">::</span><span style="color:#a6e22e">ERROR</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">ConsoleErrorEvent</span> $event) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">captureException</span>($event<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getError</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><p>The dispatcher is then passed to the <code>Application</code> class.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Application</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$application <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Application</span>(<span style="color:#e6db74">&#39;My Application&#39;</span>, <span style="color:#e6db74">&#39;1.0.0&#39;</span>);
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setDispatcher</span>($dispatcher);
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Create DateTime from format without time</title>
            <link>https://arueckauer.github.io/posts/2022/07/create-datetime-from-format-without-time/</link>
            <pubDate>Mon, 11 Jul 2022 08:36:34 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2022/07/create-datetime-from-format-without-time/</guid>
            <description>&lt;p&gt;By adding an exclamation mark to the format argument, PHP will ignore the remaining date/time units and set them to zero.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;DateTimeImmutable&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;createFromFormat&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Y-m-d&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;2022-07-11&amp;#39;&lt;/span&gt;))&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;c&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;DateTimeImmutable&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;createFromFormat&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;!Y-m-d&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;2022-07-11&amp;#39;&lt;/span&gt;))&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;format&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;c&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2022-07-11T08:35:53+02:00
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2022-07-11T00:00:00+02:00
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
            <content type="html"><![CDATA[<p>By adding an exclamation mark to the format argument, PHP will ignore the remaining date/time units and set them to zero.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> (<span style="color:#a6e22e">DateTimeImmutable</span><span style="color:#f92672">::</span><span style="color:#a6e22e">createFromFormat</span>(<span style="color:#e6db74">&#39;Y-m-d&#39;</span>, <span style="color:#e6db74">&#39;2022-07-11&#39;</span>))<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;c&#39;</span>) <span style="color:#f92672">.</span> <span style="color:#a6e22e">PHP_EOL</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> (<span style="color:#a6e22e">DateTimeImmutable</span><span style="color:#f92672">::</span><span style="color:#a6e22e">createFromFormat</span>(<span style="color:#e6db74">&#39;!Y-m-d&#39;</span>, <span style="color:#e6db74">&#39;2022-07-11&#39;</span>))<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;c&#39;</span>) <span style="color:#f92672">.</span> <span style="color:#a6e22e">PHP_EOL</span>;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>2022-07-11T08:35:53+02:00
</span></span><span style="display:flex;"><span>2022-07-11T00:00:00+02:00
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Streaming Files as Zip in a Mezzio app</title>
            <link>https://arueckauer.github.io/posts/2022/06/streaming-files-as-zip-in-a-mezzio-app/</link>
            <pubDate>Mon, 27 Jun 2022 14:00:18 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2022/06/streaming-files-as-zip-in-a-mezzio-app/</guid>
            <description>&lt;p&gt;A regular use case in our projects is to provide the user with the ability to download multiple files as a compressed archive. With &lt;a href=&#34;https://github.com/maennchen/ZipStream-PHP&#34;&gt;&lt;code&gt;maennchen/zipstream-php&lt;/code&gt;&lt;/a&gt;, initiated by &lt;a href=&#34;https://twitter.com/maennchen_&#34;&gt;Jonatan&lt;/a&gt;, we found a simplistic and well functioning solution.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A fast and simple streaming zip file downloader for PHP. Using this library will save you from having to write the Zip to disk. You can directly send it to the user, which is much faster. It can work with S3 buckets or any PSR7 Stream.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>A regular use case in our projects is to provide the user with the ability to download multiple files as a compressed archive. With <a href="https://github.com/maennchen/ZipStream-PHP"><code>maennchen/zipstream-php</code></a>, initiated by <a href="https://twitter.com/maennchen_">Jonatan</a>, we found a simplistic and well functioning solution.</p>
<blockquote>
<p>A fast and simple streaming zip file downloader for PHP. Using this library will save you from having to write the Zip to disk. You can directly send it to the user, which is much faster. It can work with S3 buckets or any PSR7 Stream.</p></blockquote>
<p>The <a href="https://www.php-fig.org/psr/psr-7/">PSR-7</a> support allows for easy integration in a Mezzio application. The following class illustrates the usage in a PSR-compliant request handler. For the full context, have a look at <a href="https://github.com/arueckauer/mezzio-zipstream">mezzio-zipstream</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">App\Handler</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Laminas\Diactoros\CallbackStream</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Laminas\Diactoros\Response</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Psr\Http\Message\ResponseInterface</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Psr\Http\Message\ServerRequestInterface</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Psr\Http\Server\RequestHandlerInterface</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">ZipStream\Option\Archive</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">ZipStream\ZipStream</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">dirname</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">file_get_contents</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sprintf</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Zip</span> <span style="color:#66d9ef">implements</span> <span style="color:#a6e22e">RequestHandlerInterface</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">handle</span>(<span style="color:#a6e22e">ServerRequestInterface</span> $request)<span style="color:#f92672">:</span> <span style="color:#a6e22e">ResponseInterface</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $dataPath <span style="color:#f92672">=</span> <span style="color:#a6e22e">dirname</span>(<span style="color:#66d9ef">__DIR__</span>, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>        $items    <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;A.pdf&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">file_get_contents</span>($dataPath <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/data/A.pdf&#39;</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;B.pdf&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">file_get_contents</span>($dataPath <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/data/B.pdf&#39;</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;C.pdf&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">file_get_contents</span>($dataPath <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/data/C.pdf&#39;</span>),
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $zipName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;test.zip&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $stream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">CallbackStream</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">function</span> () <span style="color:#66d9ef">use</span> ($items, $zipName) {
</span></span><span style="display:flex;"><span>                $options <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Archive</span>();
</span></span><span style="display:flex;"><span>                $options<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setContentType</span>(<span style="color:#e6db74">&#39;application/octet-stream&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                $zip <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">ZipStream</span>($zipName, $options);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">foreach</span> ($items <span style="color:#66d9ef">as</span> $basename <span style="color:#f92672">=&gt;</span> $content) {
</span></span><span style="display:flex;"><span>                    $zip<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">addFile</span>($basename, $content);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                $zip<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">finish</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $headers <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;Cache-Control&#39;</span>       <span style="color:#f92672">=&gt;</span> <span style="color:#ae81ff">1200</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;Content-Type&#39;</span>        <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;application/octet-stream&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;Content-Disposition&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#39;attachment; filename=&#34;%s&#34;&#39;</span>, $zipName),
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>($stream, <span style="color:#ae81ff">200</span>, $headers);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Change one or more older commit messages</title>
            <link>https://arueckauer.github.io/posts/2021/09/change-one-or-more-older-commit-messages/</link>
            <pubDate>Mon, 06 Sep 2021 13:01:22 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/09/change-one-or-more-older-commit-messages/</guid>
            <description>&lt;p&gt;As &lt;a href=&#34;https://twitter.com/EmmaBostian&#34;&gt;EmmaBostian&lt;/a&gt; &lt;a href=&#34;https://twitter.com/EmmaBostian/status/1288803743237103617&#34;&gt;said&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If it makes you feel any better&amp;hellip; nobody &lt;em&gt;actually&lt;/em&gt; knows how to use Git. We all just memorize a few shell commands and hope nothing implodes.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The post &lt;a href=&#34;https://linuxize.com/post/change-git-commit-message/&#34;&gt;&lt;em&gt;How to Change a Git Commit Message&lt;/em&gt;&lt;/a&gt; helped me to change the commit messages on previous commits. A word of caution: &lt;code&gt;rebase&lt;/code&gt; rewrites the commit history. It is &lt;strong&gt;strongly discouraged&lt;/strong&gt; to rebase commits that are already pushed remote/origin.&lt;/p&gt;
&lt;p&gt;To change the message of any of the last 5 commits, execute the following command which will display the latest 5 commits in the editor.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>As <a href="https://twitter.com/EmmaBostian">EmmaBostian</a> <a href="https://twitter.com/EmmaBostian/status/1288803743237103617">said</a>:</p>
<blockquote>
<p>If it makes you feel any better&hellip; nobody <em>actually</em> knows how to use Git. We all just memorize a few shell commands and hope nothing implodes.</p></blockquote>
<p>The post <a href="https://linuxize.com/post/change-git-commit-message/"><em>How to Change a Git Commit Message</em></a> helped me to change the commit messages on previous commits. A word of caution: <code>rebase</code> rewrites the commit history. It is <strong>strongly discouraged</strong> to rebase commits that are already pushed remote/origin.</p>
<p>To change the message of any of the last 5 commits, execute the following command which will display the latest 5 commits in the editor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git rebase -i HEAD~5
</span></span></code></pre></div><p>In the editor replace <code>pick</code> with <code>reword</code> of the messages, you would like to change.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plain" data-lang="plain"><span style="display:flex;"><span>pick 43f8707f9 Updates FooTest
</span></span><span style="display:flex;"><span>reword cea1fb88a Removes baz
</span></span><span style="display:flex;"><span>reword aa540c364 Adds foo and bar
</span></span><span style="display:flex;"><span>pick c5e078656 Fixes CS
</span></span><span style="display:flex;"><span>pick 11ce0ab34 Updates dependencies
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Rebase 7e59e8ead..11ce0ab34 onto 7e59e8ead (5 commands)
</span></span></code></pre></div><p>Push the changes.</p>
<pre tabindex="0"><code>git push --force
</code></pre>]]></content>
        </item>
        
        <item>
            <title>Testing Legacy Code: Filesystem Interaction</title>
            <link>https://arueckauer.github.io/posts/2021/07/testing-legacy-code-filesystem-interaction/</link>
            <pubDate>Thu, 08 Jul 2021 15:04:22 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/07/testing-legacy-code-filesystem-interaction/</guid>
            <description>&lt;p&gt;This is the third article in the series of Testing Legacy Code. Check out the first part &lt;a href=&#34;https://arueckauer.github.io/posts/2021/07/testing-legacy-code-echo-output/&#34;&gt;Testing Legacy Code: Echo Output&lt;/a&gt; in which I provide information about the origin of these examples.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;vfsStream is a stream wrapper for a virtual file system that may be helpful in unit tests to mock the real file system. It can be used with any unit test framework, like PHPUnit or SimpleTest.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/bovigo/vfsStream&#34;&gt;https://github.com/bovigo/vfsStream&lt;/a&gt;&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>This is the third article in the series of Testing Legacy Code. Check out the first part <a href="/posts/2021/07/testing-legacy-code-echo-output/">Testing Legacy Code: Echo Output</a> in which I provide information about the origin of these examples.</p>
<blockquote>
<p>vfsStream is a stream wrapper for a virtual file system that may be helpful in unit tests to mock the real file system. It can be used with any unit test framework, like PHPUnit or SimpleTest.</p></blockquote>
<p><a href="https://github.com/bovigo/vfsStream">https://github.com/bovigo/vfsStream</a></p>
<h2 id="function-with-filesystem-interaction">Function with filesystem interaction</h2>
<p>Given is a method which increments the counter persisted in the local filesystem.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">RefactoringLegacyCode</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">file_get_contents</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">file_put_contents</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FilesystemInteraction</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">countHit</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $count <span style="color:#f92672">=</span> <span style="color:#a6e22e">file_get_contents</span>(<span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/hit_counter.txt&#39;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">file_put_contents</span>(<span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/hit_counter.txt&#39;</span>, <span style="color:#f92672">++</span>$count);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Before writing a test for it, a change to inject the dependency is required.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">RefactoringLegacyCode</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">file_get_contents</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">file_put_contents</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FilesystemInteraction</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">countHit</span>(<span style="color:#a6e22e">string</span> $file <span style="color:#f92672">=</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/hit_counter.txt&#39;</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $count <span style="color:#f92672">=</span> <span style="color:#a6e22e">file_get_contents</span>($file);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">file_put_contents</span>($file, <span style="color:#f92672">++</span>$count);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="test">Test</h2>
<p>With the changed method, vfsStream can now be utilized to inject a virtual file for testing.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">RefactoringLegacyCodeTest</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">org\bovigo\vfs\vfsStream</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">RefactoringLegacyCode\FilesystemInteraction</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FilesystemInteractionTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @covers \RefactoringLegacyCode\FilesystemInteraction::countHit
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test_countHit</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $vfs <span style="color:#f92672">=</span> <span style="color:#a6e22e">vfsStream</span><span style="color:#f92672">::</span><span style="color:#a6e22e">setup</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $hitCounterFile <span style="color:#f92672">=</span> <span style="color:#a6e22e">vfsStream</span><span style="color:#f92672">::</span><span style="color:#a6e22e">newFile</span>(<span style="color:#e6db74">&#39;test_hit_counter.txt&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">at</span>($vfs)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setContent</span>(<span style="color:#e6db74">&#39;1337&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $filesystemInteraction <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">FilesystemInteraction</span>();
</span></span><span style="display:flex;"><span>        $filesystemInteraction<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">countHit</span>($hitCounterFile<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">url</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">assertSame</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;1338&#39;</span>,
</span></span><span style="display:flex;"><span>            $hitCounterFile<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getContent</span>()
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Testing Legacy Code: Static Method Invocation</title>
            <link>https://arueckauer.github.io/posts/2021/07/testing-legacy-code-static-method-invocation/</link>
            <pubDate>Wed, 07 Jul 2021 14:37:12 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/07/testing-legacy-code-static-method-invocation/</guid>
            <description>&lt;p&gt;This is the second article in the series of Testing Legacy Code. Check out the first part &lt;a href=&#34;https://arueckauer.github.io/posts/2021/07/testing-legacy-code-echo-output/&#34;&gt;Testing Legacy Code: Echo Output&lt;/a&gt; in which I provide information about the origin of these examples.&lt;/p&gt;
&lt;p&gt;The second example covers the invocation of static methods. One of the legacy projects I am supporting is making heavily usage of static methods and no unit tests were written before I started on the project. PHPUnit used to support mocking of static methods with the &lt;code&gt;staticExpects()&lt;/code&gt; method. With the help of &lt;a href=&#34;https://github.com/mockery/mockery&#34;&gt;Mockery&lt;/a&gt;, mocking static methods is possible.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>This is the second article in the series of Testing Legacy Code. Check out the first part <a href="/posts/2021/07/testing-legacy-code-echo-output/">Testing Legacy Code: Echo Output</a> in which I provide information about the origin of these examples.</p>
<p>The second example covers the invocation of static methods. One of the legacy projects I am supporting is making heavily usage of static methods and no unit tests were written before I started on the project. PHPUnit used to support mocking of static methods with the <code>staticExpects()</code> method. With the help of <a href="https://github.com/mockery/mockery">Mockery</a>, mocking static methods is possible.</p>
<p>Be aware that aliasing classes is supported, but not recommended. See <a href="https://docs.mockery.io/en/latest/reference/creating_test_doubles.html#aliasing">Mockery documentation</a>. The prefered way would be to not use static methods.</p>
<h2 id="function-with-invokes-a-static-method">Function with invokes a static method</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">RefactoringLegacyCode</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StaticMethodInvocation</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getPowerLevel</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">string</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#a6e22e">Goku</span><span style="color:#f92672">::</span><span style="color:#a6e22e">powerLevel</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $result <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">9000</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;It is over 9000!&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Suppressed.&#39;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="test">Test</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">RefactoringLegacyCodeTest</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Mockery</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">RefactoringLegacyCode\StaticMethodInvocation</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StaticMethodInvocationTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @covers \RefactoringLegacyCode\StaticMethodInvocation::getPowerLevel
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @runInSeparateProcess
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @preserveGlobalState disabled
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test_getPowerLevel_under_9000</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Mockery</span><span style="color:#f92672">::</span><span style="color:#a6e22e">mock</span>(<span style="color:#e6db74">&#39;alias:RefactoringLegacyCode\Goku&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">shouldReceive</span>(<span style="color:#e6db74">&#39;powerLevel&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">andReturn</span>(<span style="color:#ae81ff">37</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">assertSame</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;Suppressed.&#39;</span>,
</span></span><span style="display:flex;"><span>            (<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">StaticMethodInvocation</span>())<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getPowerLevel</span>()
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @covers \RefactoringLegacyCode\StaticMethodInvocation::getPowerLevel
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @runInSeparateProcess
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @preserveGlobalState disabled
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test_getPowerLevel_over_9000</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Mockery</span><span style="color:#f92672">::</span><span style="color:#a6e22e">mock</span>(<span style="color:#e6db74">&#39;alias:RefactoringLegacyCode\Goku&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">shouldReceive</span>(<span style="color:#e6db74">&#39;powerLevel&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">andReturn</span>(<span style="color:#ae81ff">15000</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $legacyCode <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">StaticMethodInvocation</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">assertSame</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;It is over 9000!&#39;</span>,
</span></span><span style="display:flex;"><span>            (<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">StaticMethodInvocation</span>())<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getPowerLevel</span>()
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Testing Legacy Code: Echo Output</title>
            <link>https://arueckauer.github.io/posts/2021/07/testing-legacy-code-echo-output/</link>
            <pubDate>Tue, 06 Jul 2021 13:51:58 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/07/testing-legacy-code-echo-output/</guid>
            <description>&lt;p&gt;A &lt;a href=&#34;https://twitter.com/fn_schubert/status/1393870665179140096&#34;&gt;tweet&lt;/a&gt; of &lt;a href=&#34;https://twitter.com/fn_schubert&#34;&gt;Simon Schubert&lt;/a&gt; made me aware of an awesome talk entitled &lt;a href=&#34;https://www.youtube.com/watch?v=U5BkMJpv_ZQ&#34;&gt;Testing Legacy Code: Safe Refactoring&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/maccath&#34;&gt;Katy Ereira&lt;/a&gt;. She presented this last year at PHP UK 2020 with tons of valuable information about how to write tests for refactoring legacy code.&lt;/p&gt;
&lt;p&gt;Since refactoring legacy code is part of my daily job, some of these insights are quite useful and I would like to keep a note for myself in a few blog posts.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>A <a href="https://twitter.com/fn_schubert/status/1393870665179140096">tweet</a> of <a href="https://twitter.com/fn_schubert">Simon Schubert</a> made me aware of an awesome talk entitled <a href="https://www.youtube.com/watch?v=U5BkMJpv_ZQ">Testing Legacy Code: Safe Refactoring</a> by <a href="https://twitter.com/maccath">Katy Ereira</a>. She presented this last year at PHP UK 2020 with tons of valuable information about how to write tests for refactoring legacy code.</p>
<p>Since refactoring legacy code is part of my daily job, some of these insights are quite useful and I would like to keep a note for myself in a few blog posts.</p>
<p>The used examples are all taken from the talk. I made few adjustments to make them runnable instead focusing on the bear minimum. They are also available int the <a href="https://github.com/arueckauer/testing-legacy-code">testing-legacy-code</a> repository.</p>
<h2 id="function-with-echo-output">Function with echo output</h2>
<p>Given is a function which echos or prints an output.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">RefactoringLegacyCode</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EchoOutput</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">yodel</span>(<span style="color:#f92672">?</span><span style="color:#a6e22e">string</span> $tune <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($tune) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">echo</span> $tune;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;Odl lay ee&#39;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="test">Test</h2>
<p>The test is utilizing output buffering control to capture the echo output and make assertions on it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">RefactoringLegacyCodeTest</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">RefactoringLegacyCode\EchoOutput</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ob_get_clean</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ob_start</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EchoOutputTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @covers \RefactoringLegacyCode\EchoOutput::yodel
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test_yodel_with_null_argument</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ob_start</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        (<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">EchoOutput</span>())<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">yodel</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $output <span style="color:#f92672">=</span> <span style="color:#a6e22e">ob_get_clean</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">assertSame</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;Odl lay ee&#39;</span>,
</span></span><span style="display:flex;"><span>            $output
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @covers \RefactoringLegacyCode\EchoOutput::yodel
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test_yodel_with_string_argument</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ob_start</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        (<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">EchoOutput</span>())<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">yodel</span>(<span style="color:#e6db74">&#39;Oh, lorolo lolalalalalalalalolalalolalalola lo la lo&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $output <span style="color:#f92672">=</span> <span style="color:#a6e22e">ob_get_clean</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">assertSame</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;Oh, lorolo lolalalalalalalalolalalolalalola lo la lo&#39;</span>,
</span></span><span style="display:flex;"><span>            $output
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Log potential calls of a deprecated method</title>
            <link>https://arueckauer.github.io/posts/2021/04/log-potential-calls-of-a-deprecated-method/</link>
            <pubDate>Mon, 05 Apr 2021 14:50:55 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/04/log-potential-calls-of-a-deprecated-method/</guid>
            <description>&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;declare&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;strict_types&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;namespace&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;arueckauer\Php80&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Exception&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;JetBrains\PhpStorm\Deprecated&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Psr\Log\LoggerInterface&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;explode&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SomeClass&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;LoggerInterface&lt;/span&gt; $logger;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; __construct(&lt;span style=&#34;color:#a6e22e&#34;&gt;LoggerInterface&lt;/span&gt; $logger)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $this&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;logger&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; $logger;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#[Deprecated]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;deprecated&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $this&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;logger&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;error&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;__METHOD__&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;trace&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;explode&lt;/span&gt;(
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    (&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Exception&lt;/span&gt;())&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getTraceAsString&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                ),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
            <content type="html"><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">arueckauer\Php80</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Exception</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">JetBrains\PhpStorm\Deprecated</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Psr\Log\LoggerInterface</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">explode</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">PHP_EOL</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SomeClass</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">LoggerInterface</span> $logger;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __construct(<span style="color:#a6e22e">LoggerInterface</span> $logger)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">logger</span> <span style="color:#f92672">=</span> $logger;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#[Deprecated]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">deprecated</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">logger</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">error</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">__METHOD__</span>,
</span></span><span style="display:flex;"><span>            [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;trace&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">explode</span>(
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">PHP_EOL</span>,
</span></span><span style="display:flex;"><span>                    (<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Exception</span>())<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getTraceAsString</span>()
</span></span><span style="display:flex;"><span>                ),
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Comma separated list with and in PHP</title>
            <link>https://arueckauer.github.io/posts/2021/03/comma-separated-list-with-and-in-php/</link>
            <pubDate>Mon, 01 Mar 2021 14:14:48 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/03/comma-separated-list-with-and-in-php/</guid>
            <description>&lt;p&gt;How to display an array to comma separated values with a last &amp;ldquo;and&amp;rdquo; by &lt;a href=&#34;https://twitter.com/FredBouchery&#34;&gt;Frédéric Bouchery&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;declare&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;strict_types&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$array &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;b&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;c&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;d&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;e&amp;#39;&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;implode&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;array_slice&lt;/span&gt;($array, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39; and &amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;end&lt;/span&gt;($array);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://3v4l.org/Nchc1&#34;&gt;3v4l.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/FredBouchery/status/1273175925002317825&#34;&gt;Source&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
            <content type="html"><![CDATA[<p>How to display an array to comma separated values with a last &ldquo;and&rdquo; by <a href="https://twitter.com/FredBouchery">Frédéric Bouchery</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$array <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>,<span style="color:#e6db74">&#39;e&#39;</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> <span style="color:#a6e22e">implode</span>(<span style="color:#e6db74">&#39;, &#39;</span>, <span style="color:#a6e22e">array_slice</span>($array, <span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)) <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39; and &#39;</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">end</span>($array);
</span></span></code></pre></div><ul>
<li><a href="https://3v4l.org/Nchc1">3v4l.org</a></li>
<li><a href="https://twitter.com/FredBouchery/status/1273175925002317825">Source</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>could not bind to address [::]:80 - Webserver port 80 blocked on Windows</title>
            <link>https://arueckauer.github.io/posts/2021/02/could-not-bind-to-address-80-webserver-port-80-blocked-on-windows/</link>
            <pubDate>Mon, 01 Feb 2021 13:54:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/02/could-not-bind-to-address-80-webserver-port-80-blocked-on-windows/</guid>
            <description>&lt;p&gt;Several Windows services might block port 80 and the local webserver like &lt;a href=&#34;https://httpd.apache.org/&#34;&gt;Apache HTTP&lt;/a&gt; or &lt;a href=&#34;https://nginx.org/&#34;&gt;Nginx&lt;/a&gt; from starting.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PS C:\www\httpd-&lt;span style=&#34;color:#ae81ff&#34;&gt;2.4&lt;/span&gt;.&lt;span style=&#34;color:#ae81ff&#34;&gt;46&lt;/span&gt;-win64-VS16\Apache24&amp;gt; .\bin\httpd.exe
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(OS &lt;span style=&#34;color:#ae81ff&#34;&gt;10013&lt;/span&gt;)An attempt was made to access a socket &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; a way forbidden by its access permissions.  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; AH00072&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; make_sock&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; could not bind to address [::]&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(OS &lt;span style=&#34;color:#ae81ff&#34;&gt;10013&lt;/span&gt;)An attempt was made to access a socket &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; a way forbidden by its access permissions.  &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; AH00072&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; make_sock&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; could not bind to address &lt;span style=&#34;color:#ae81ff&#34;&gt;0.0&lt;/span&gt;.0.&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;AH00451&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; no listening sockets available, shutting down
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;AH00015&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt; Unable to open logs
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;PS C:\www\httpd-&lt;span style=&#34;color:#ae81ff&#34;&gt;2.4&lt;/span&gt;.&lt;span style=&#34;color:#ae81ff&#34;&gt;46&lt;/span&gt;-win64-VS16\Apache24&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The best way to identify the running service(s) I found on &lt;a href=&#34;https://stackoverflow.com/a/26653919/9364246&#34;&gt;Stackoverflow&lt;/a&gt;.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Several Windows services might block port 80 and the local webserver like <a href="https://httpd.apache.org/">Apache HTTP</a> or <a href="https://nginx.org/">Nginx</a> from starting.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>PS C:\www\httpd-<span style="color:#ae81ff">2.4</span>.<span style="color:#ae81ff">46</span>-win64-VS16\Apache24&gt; .\bin\httpd.exe
</span></span><span style="display:flex;"><span>(OS <span style="color:#ae81ff">10013</span>)An attempt was made to access a socket <span style="color:#66d9ef">in</span> a way forbidden by its access permissions.  <span style="color:#960050;background-color:#1e0010">:</span> AH00072<span style="color:#960050;background-color:#1e0010">:</span> make_sock<span style="color:#960050;background-color:#1e0010">:</span> could not bind to address [::]<span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>(OS <span style="color:#ae81ff">10013</span>)An attempt was made to access a socket <span style="color:#66d9ef">in</span> a way forbidden by its access permissions.  <span style="color:#960050;background-color:#1e0010">:</span> AH00072<span style="color:#960050;background-color:#1e0010">:</span> make_sock<span style="color:#960050;background-color:#1e0010">:</span> could not bind to address <span style="color:#ae81ff">0.0</span>.0.<span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>AH00451<span style="color:#960050;background-color:#1e0010">:</span> no listening sockets available, shutting down
</span></span><span style="display:flex;"><span>AH00015<span style="color:#960050;background-color:#1e0010">:</span> Unable to open logs
</span></span><span style="display:flex;"><span>PS C:\www\httpd-<span style="color:#ae81ff">2.4</span>.<span style="color:#ae81ff">46</span>-win64-VS16\Apache24&gt;
</span></span></code></pre></div><p>The best way to identify the running service(s) I found on <a href="https://stackoverflow.com/a/26653919/9364246">Stackoverflow</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>NET stop HTTP
</span></span></code></pre></div><p>It might be helpful to disable the stopped services to prevent further automated starts.</p>
]]></content>
        </item>
        
        <item>
            <title>PHPUnit Test Single Method</title>
            <link>https://arueckauer.github.io/posts/2021/01/phpunit-test-single-method/</link>
            <pubDate>Mon, 04 Jan 2021 11:21:11 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2021/01/phpunit-test-single-method/</guid>
            <description>&lt;p&gt;A common search I need to do after I have not used it in a while is, how to run a single test method.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;phpunit --filter methodName path/to/file.php
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Credits go to &lt;a href=&#34;https://stackoverflow.com/users/1581090/alex&#34;&gt;Alex&lt;/a&gt; on &lt;a href=&#34;https://stackoverflow.com/questions/26095051/how-to-run-single-test-method-with-phpunit/26095567#26095567&#34;&gt;Stackoverflow&lt;/a&gt;&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>A common search I need to do after I have not used it in a while is, how to run a single test method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>phpunit --filter methodName path/to/file.php
</span></span></code></pre></div><p>Credits go to <a href="https://stackoverflow.com/users/1581090/alex">Alex</a> on <a href="https://stackoverflow.com/questions/26095051/how-to-run-single-test-method-with-phpunit/26095567#26095567">Stackoverflow</a></p>
]]></content>
        </item>
        
        <item>
            <title>Upgrade Xdebug 2 to 3</title>
            <link>https://arueckauer.github.io/posts/2020/11/upgrade-xdebug-2-to-3/</link>
            <pubDate>Fri, 27 Nov 2020 11:52:58 +0100</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/11/upgrade-xdebug-2-to-3/</guid>
            <description>&lt;p&gt;&lt;a href=&#34;https://xdebug.org/&#34;&gt;Xdebug&lt;/a&gt; is an essential tool in my developing process. Most often I use it for Step Debugging code invoked from a request or CLI. With the release of &lt;a href=&#34;https://xdebug.org/announcements/2020-11-25&#34;&gt;Xdebug 3.0&lt;/a&gt; the configuration settings changed and need adjustment in the &lt;code&gt;php.ini&lt;/code&gt; and in my case the environment variables as well.&lt;/p&gt;
&lt;p&gt;In this post I am recording what needed to be changed in upgrading Xdebug. For a complete description on what changed, have a look at &lt;a href=&#34;https://xdebug.org/docs/upgrade_guide&#34;&gt;Upgrading from Xdebug 2 to 3&lt;/a&gt;.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><a href="https://xdebug.org/">Xdebug</a> is an essential tool in my developing process. Most often I use it for Step Debugging code invoked from a request or CLI. With the release of <a href="https://xdebug.org/announcements/2020-11-25">Xdebug 3.0</a> the configuration settings changed and need adjustment in the <code>php.ini</code> and in my case the environment variables as well.</p>
<p>In this post I am recording what needed to be changed in upgrading Xdebug. For a complete description on what changed, have a look at <a href="https://xdebug.org/docs/upgrade_guide">Upgrading from Xdebug 2 to 3</a>.</p>
<h2 id="current-configuration-for-xdebug-29">Current configuration for Xdebug 2.9</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[Xdebug]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">zend_extension</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;php_xdebug-2.9.6-7.4-vc15-x86_64.dll&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">xdebug.remote_enable</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">1</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">xdebug.remote_host</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">localhost</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">xdebug.remote_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">9000</span>
</span></span></code></pre></div><p>Environment variables</p>
<pre tabindex="0"><code>XDEBUG_CONFIG=1
</code></pre><h2 id="new-configuration-for-xdebug-30">New configuration for Xdebug 3.0</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[Xdebug]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">zend_extension</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;php_xdebug-3.0.0-7.4-vc15-x86_64.dll&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">xdebug.mode</span><span style="color:#f92672">=</span><span style="color:#e6db74">debug</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">xdebug.start_with_request</span><span style="color:#f92672">=</span><span style="color:#e6db74">yes</span>
</span></span></code></pre></div><p>Environment variables</p>
<pre tabindex="0"><code>XDEBUG_SESSION=xdebug_is_great
</code></pre><h2 id="sponsoring">Sponsoring</h2>
<p>If Xdebug has helped you, you may want to consider <a href="https://github.com/sponsors/derickr">sponsoring Derick</a>.</p>
]]></content>
        </item>
        
        <item>
            <title>Configure Winmerge as Git Mergetool on Windows</title>
            <link>https://arueckauer.github.io/posts/2020/10/configure-winmerge-as-git-mergetool-on-windows/</link>
            <pubDate>Thu, 15 Oct 2020 06:46:34 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/10/configure-winmerge-as-git-mergetool-on-windows/</guid>
            <description>&lt;p&gt;Today I wanted to set up &lt;a href=&#34;https://winmerge.org/&#34;&gt;WinMerge&lt;/a&gt; as default mergetool for Git. In my research I came across this helpful &lt;a href=&#34;https://gist.github.com/shawndumas/6158524&#34;&gt;Gist&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/shawndumas&#34;&gt;Shawn Dumas&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[mergetool]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;prompt&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;false
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    keepBackup = false
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    keepTemporaries = false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[merge]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;tool&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;winmerge&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[mergetool &amp;#34;winmerge&amp;#34;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;WinMerge
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    trustExitCode = true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    cmd = &amp;#34;/c/Program\\ Files\\ \\(x86\\)/WinMerge/WinMergeU.exe&amp;#34; -u -e -dl \&amp;#34;Local\&amp;#34; -dr \&amp;#34;Remote\&amp;#34; $LOCAL $REMOTE $MERGED&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[diff]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;tool&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;winmerge&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[difftool &amp;#34;winmerge&amp;#34;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;WinMerge
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    trustExitCode = true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    cmd = &amp;#34;/c/Program\\ Files\\ \\(x86\\)/WinMerge/WinMergeU.exe&amp;#34; -u -e $LOCAL $REMOTE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As was pointed out in the comments, this will work for diff but can potentially provide some trouble for merge.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Today I wanted to set up <a href="https://winmerge.org/">WinMerge</a> as default mergetool for Git. In my research I came across this helpful <a href="https://gist.github.com/shawndumas/6158524">Gist</a> by <a href="https://twitter.com/shawndumas">Shawn Dumas</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[mergetool]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prompt</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    keepBackup = false
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    keepTemporaries = false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[merge]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tool</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">winmerge</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[mergetool &#34;winmerge&#34;]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">WinMerge
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    trustExitCode = true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    cmd = &#34;/c/Program\\ Files\\ \\(x86\\)/WinMerge/WinMergeU.exe&#34; -u -e -dl \&#34;Local\&#34; -dr \&#34;Remote\&#34; $LOCAL $REMOTE $MERGED</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[diff]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tool</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">winmerge</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[difftool &#34;winmerge&#34;]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">WinMerge
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    trustExitCode = true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    cmd = &#34;/c/Program\\ Files\\ \\(x86\\)/WinMerge/WinMergeU.exe&#34; -u -e $LOCAL $REMOTE</span>
</span></span></code></pre></div><p>As was pointed out in the comments, this will work for diff but can potentially provide some trouble for merge.</p>
<p>To apply this for my machine and scenario, I made some adjustments. Since I am happy with the Git internal diff tool, I will leave out that configuration. The path to the <code>WinMergeU.exe</code> is adjusted. And lastly, the options for mergetool are improved. This is the result:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[mergetool]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prompt</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    keepBackup = false
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    keepTemporaries = false</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[merge]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tool</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">winmerge</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[mergetool &#34;winmerge&#34;]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">WinMerge
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    trustExitCode = true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    cmd = &#34;/c/Program\\ Files/WinMerge/WinMergeU.exe&#34; -u -e -fm -wl -dl &#34;Local&#34; -wr -dr &#34;Remote&#34; $LOCAL $MERGED $REMOTE</span>
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Determine missing required parameters</title>
            <link>https://arueckauer.github.io/posts/2020/06/determine-missing-required-parameters/</link>
            <pubDate>Fri, 12 Jun 2020 13:50:26 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/06/determine-missing-required-parameters/</guid>
            <description>&lt;p&gt;Frequently checking for required parameters is needed. Locating the missing parameters helps in creating a helpful message for the client.&lt;/p&gt;
&lt;h2 id=&#34;test&#34;&gt;Test&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;declare&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;strict_types&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;namespace&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;AppTest\Validator&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHPUnit\Framework\TestCase&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_diff_key&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_flip&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_keys&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;RequiredParameterTest&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;extends&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;TestCase&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;testGetMissingParameters&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $required &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterA&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterB&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterC&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterD&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $data           &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterA&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterD&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $missing  &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterB&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;requiredParameterC&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_keys&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;array_diff_key&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;array_flip&lt;/span&gt;($required), $data));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $this&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assertEquals&lt;/span&gt;($missing, $result);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;validator&#34;&gt;&amp;ldquo;Validator&amp;rdquo;&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;declare&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;strict_types&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;namespace&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;App\Validator&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_diff_key&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_flip&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_keys&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;RequiredParameter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getMissingParameters&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;array&lt;/span&gt; $required, &lt;span style=&#34;color:#66d9ef&#34;&gt;array&lt;/span&gt; $data)&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;array&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;array_keys&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;array_diff_key&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;array_flip&lt;/span&gt;($required), $data));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
            <content type="html"><![CDATA[<p>Frequently checking for required parameters is needed. Locating the missing parameters helps in creating a helpful message for the client.</p>
<h2 id="test">Test</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">AppTest\Validator</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">array_diff_key</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">array_flip</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">array_keys</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequiredParameterTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testGetMissingParameters</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $required <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterA&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterB&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterC&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterD&#39;</span>,
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>        $data           <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterA&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;foo&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterD&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>        $missing  <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterB&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;requiredParameterC&#39;</span>,
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_keys</span>(<span style="color:#a6e22e">array_diff_key</span>(<span style="color:#a6e22e">array_flip</span>($required), $data));
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>($missing, $result);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="validator">&ldquo;Validator&rdquo;</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">App\Validator</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">array_diff_key</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">array_flip</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">array_keys</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequiredParameter</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getMissingParameters</span>(<span style="color:#66d9ef">array</span> $required, <span style="color:#66d9ef">array</span> $data)<span style="color:#f92672">:</span> <span style="color:#66d9ef">array</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">array_keys</span>(<span style="color:#a6e22e">array_diff_key</span>(<span style="color:#a6e22e">array_flip</span>($required), $data));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>How to write unit tests with PHPUnit involving Doctrine entities</title>
            <link>https://arueckauer.github.io/posts/2020/06/how-to-write-unit-tests-with-phpunit-involving-doctrine-entities/</link>
            <pubDate>Tue, 09 Jun 2020 21:16:59 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/06/how-to-write-unit-tests-with-phpunit-involving-doctrine-entities/</guid>
            <description>&lt;p&gt;&lt;em&gt;One of the main reasons for me why tight coupling is a less ideal design choice is the accompanied difficulty in testing these tight coupled components.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Today I was asked to assist in refactoring a component which computes data retrieved from nearly all entities. There were no tests for the units in question. To ensure that the code would end with the expected result after refactoring, tests were needed. But how do you test such code? In a perfect world scenario, each unit would be so small and decoupled that writing a test would be simple, not having to deal with the variance of a changing dataset. After some contemplation, I decided to start by writing tests with a defined dataset for the tests, making it possible to rely on test data.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>One of the main reasons for me why tight coupling is a less ideal design choice is the accompanied difficulty in testing these tight coupled components.</em></p>
<p>Today I was asked to assist in refactoring a component which computes data retrieved from nearly all entities. There were no tests for the units in question. To ensure that the code would end with the expected result after refactoring, tests were needed. But how do you test such code? In a perfect world scenario, each unit would be so small and decoupled that writing a test would be simple, not having to deal with the variance of a changing dataset. After some contemplation, I decided to start by writing tests with a defined dataset for the tests, making it possible to rely on test data.</p>
<blockquote>
<p>Disclaimer: The solution presented in this article is to be considered as working solution for the described issue and nothing more. It is neither a general right fit for testing units relying on database interactions nor best practice.</p></blockquote>
<h2 id="test-data">Test data</h2>
<p>For the tests, that rely on database interactions - in this article read-only - I provide a defined dataset as a MySQL dump. For generating a dump, please refer to the <a href="https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html">documentation</a>. Ensure that either the database or tables are dropped before creation, so that each time the dump is imported, a fresh clean database schema and data is provided. I zipped the dump and stored it in a place for test assets, in my case <code>test\TestAsset\Database\testing.sql.7z</code>.</p>
<h2 id="installing-test-data-before-each-test">Installing test data before each test</h2>
<p>With the help of the <code>setUp()</code> method, the dump is imported before each test. To safe on disk space, the dump is archived. On Windows my favorite choice is <a href="https://www.7-zip.org/">7-Zip</a> because of better compression rates and sometime speed compared to other formats. Extraction requires the 7-Zip binary. To import the dump, the <code>mysql.exe</code>, a database username and password as well as a database is required. The latter might be irrelevant if you set it up in the dump.</p>
<blockquote>
<p>This setup works on a Windows environment only and would need further changes to make automated testing including other environments possible.</p></blockquote>
<p>To configure the options, the PHPUnit configuration file put to work.</p>
<h3 id="phpunitxmldist">phpunit.xml.dist</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;php&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;env</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;SEVEN_ZIP_EXE&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;C:/Program Files/7-Zip/7z.exe&#34;</span> <span style="color:#a6e22e">force=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;env</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;MYSQL_EXE&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;C:/Program Files/MySQL/MySQL Server 8.0/bin/mysql.exe&#34;</span> <span style="color:#a6e22e">force=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;env</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DATABASE_USERNAME&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;acme_unit_test&#34;</span> <span style="color:#a6e22e">force=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;env</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DATABASE_PASSWORD&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;abcdefgh01234567&#34;</span> <span style="color:#a6e22e">force=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;env</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DATABASE&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;acme_unit_test&#34;</span> <span style="color:#a6e22e">force=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/php&gt;</span>
</span></span></code></pre></div><h3 id="setup">setUp()</h3>
<p>Now to extract and import the dump, the <code>setUp()</code> method is put to work.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">AcmeTest</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Acme\RoadRunner</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RoadRunnerTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setUp</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $zippedFile  <span style="color:#f92672">=</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/../../TestAsset/Database/testing.sql.7z&#39;</span>;
</span></span><span style="display:flex;"><span>        $dumpFile    <span style="color:#f92672">=</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/../../TestAsset/Database/testing.sql&#39;</span>;
</span></span><span style="display:flex;"><span>        $extractPath <span style="color:#f92672">=</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/../../TestAsset/Database&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $extractCommand <span style="color:#f92672">=</span> <span style="color:#a6e22e">sprintf</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;&#34;%s&#34; x %s -o%s -y&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;SEVEN_ZIP_EXE&#39;</span>),
</span></span><span style="display:flex;"><span>            $zippedFile,
</span></span><span style="display:flex;"><span>            $extractPath
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">exec</span>($extractCommand);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $importCommand <span style="color:#f92672">=</span> <span style="color:#a6e22e">sprintf</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;cmd /c &#34;%s&#34; -u %s -p%s %s &lt; %s&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;MYSQL_EXE&#39;</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DATABASE_USERNAME&#39;</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DATABASE_PASSWORD&#39;</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DATABASE&#39;</span>),
</span></span><span style="display:flex;"><span>            $dumpFile
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">exec</span>($importCommand);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Some tests
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h2 id="write-tests">Write tests</h2>
<p>Finally, we can start writing tests.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">AcmeTest</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Acme\RoadRunner</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RoadRunnerTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// setUp()...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testGetMessagesInitialValue</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// RoadRunner relying on data provided in setUp()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $roadRunner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">RoadRunner</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertSame</span>($expected, $roadRunner<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">meepMeep</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>The component in question can now be tested and refactored. Results before and after refactoring can be validated. The goal is achieved.</p>
<p>However, it comes with a price. This setup conflicts two of the FIRST (Fast, Isolated, Repeatable, Self-Validating, Timely) properties of unit tests.</p>
<p>The tests are not</p>
<ul>
<li>fast: Database import is costly, execution time is slowed down noticeably,</li>
<li>isolated: They rely on external data (database access).</li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Signing Git Commits with GPG on Windows</title>
            <link>https://arueckauer.github.io/posts/2020/05/signing-git-commits-with-gpg-on-windows/</link>
            <pubDate>Tue, 05 May 2020 06:34:25 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/05/signing-git-commits-with-gpg-on-windows/</guid>
            <description>&lt;p&gt;Setting up signed commits on Windows gave me some troubles. In the end, and if you know how, it is straightforward and easy. This is to my future self or other wandering souls.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Disclaimer: This article does not describe setting up / creating GPG keys.&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;check-your-gpg-keys&#34;&gt;Check your GPG keys&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gpg --list-secret-keys --keyid-format LONG
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Which gives you a list like the following.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;C:/Users/arueckauer/AppData/Roaming/gnupg/pubring.kbx
----------------------------------------------------
sec   rsa4096/E1C0E2DB517C8FBC 2016-07-21 [SC]
      2B30F6F709EF48E6AF669C3FD7EB1106B4940744

uid              [ ultimativ ] Andi Rückauer &amp;lt;arueckauer@example.com&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;setting-gpg-signing-key-as-configuration-setting&#34;&gt;Setting GPG signing key as configuration setting&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global user.signingkey E1C0E2DB517C8FBC
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;configure-gpg-program&#34;&gt;Configure GPG program&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global gpg.program &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C:\Program Files (x86)\GnuPG\bin\gpg.exe&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;et-voilà&#34;&gt;Et voilà&lt;/h2&gt;
&lt;p&gt;Now signing commits should work by passing the &lt;code&gt;-S&lt;/code&gt; option with a commit.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Setting up signed commits on Windows gave me some troubles. In the end, and if you know how, it is straightforward and easy. This is to my future self or other wandering souls.</p>
<blockquote>
<p>Disclaimer: This article does not describe setting up / creating GPG keys.</p></blockquote>
<h2 id="check-your-gpg-keys">Check your GPG keys</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>gpg --list-secret-keys --keyid-format LONG
</span></span></code></pre></div><p>Which gives you a list like the following.</p>
<pre tabindex="0"><code>C:/Users/arueckauer/AppData/Roaming/gnupg/pubring.kbx
----------------------------------------------------
sec   rsa4096/E1C0E2DB517C8FBC 2016-07-21 [SC]
      2B30F6F709EF48E6AF669C3FD7EB1106B4940744

uid              [ ultimativ ] Andi Rückauer &lt;arueckauer@example.com&gt;
</code></pre><h2 id="setting-gpg-signing-key-as-configuration-setting">Setting GPG signing key as configuration setting</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>git config --global user.signingkey E1C0E2DB517C8FBC
</span></span></code></pre></div><h2 id="configure-gpg-program">Configure GPG program</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>git config --global gpg.program <span style="color:#e6db74">&#34;C:\Program Files (x86)\GnuPG\bin\gpg.exe&#34;</span>
</span></span></code></pre></div><h2 id="et-voilà">Et voilà</h2>
<p>Now signing commits should work by passing the <code>-S</code> option with a commit.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>git commit -S -m <span style="color:#e6db74">&#34;This is a signed commit&#34;</span>
</span></span></code></pre></div><h2 id="further-reading">Further reading</h2>
<ul>
<li>Official Git documentation: <a href="https://www.git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work#_signing">7.4 Git Tools - Signing Your Work</a></li>
<li>GitHub Help: <a href="https://help.github.com/en/github/authenticating-to-github/telling-git-about-your-signing-key">Telling Git about your signing key</a></li>
<li>GitHub Help: <a href="https://help.github.com/en/github/authenticating-to-github/signing-commits">Signing commits</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Replace Crlf With Lf in Bash</title>
            <link>https://arueckauer.github.io/posts/2020/05/replace-crlf-with-lf-in-bash/</link>
            <pubDate>Fri, 01 May 2020 07:09:07 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/05/replace-crlf-with-lf-in-bash/</guid>
            <description>&lt;p&gt;While installing a new crontab from a file, an error occured.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error in cron: bad minute
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;errors in crontab file, can&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;t install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Since the file was previously edited on Windows, line breaks consisted of a CRLF, which breaks the crontab impoort. To convert thes to LF, I used a command taken from &lt;a href=&#34;https://stackoverflow.com/a/800644/9364246&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat input.file | sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/\r$//&amp;#39;&lt;/span&gt; &amp;gt; output.file
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
            <content type="html"><![CDATA[<p>While installing a new crontab from a file, an error occured.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Error in cron: bad minute
</span></span><span style="display:flex;"><span>errors in crontab file, can<span style="color:#960050;background-color:#1e0010">&#39;</span>t install
</span></span></code></pre></div><p>Since the file was previously edited on Windows, line breaks consisted of a CRLF, which breaks the crontab impoort. To convert thes to LF, I used a command taken from <a href="https://stackoverflow.com/a/800644/9364246">here</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cat input.file | sed <span style="color:#e6db74">&#39;s/\r$//&#39;</span> &gt; output.file
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Install Composer on Linux</title>
            <link>https://arueckauer.github.io/posts/2020/04/install-composer-on-linux/</link>
            <pubDate>Thu, 30 Apr 2020 08:06:13 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/04/install-composer-on-linux/</guid>
            <description>&lt;p&gt;A self-reminde ron how to install on Linux. Instruction taken from &lt;a href=&#34;https://stackoverflow.com/a/32882331/9364246&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -sS https://getcomposer.org/installer | php
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mv composer.phar /usr/local/bin/composer
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;Note: If the above fails due to permissions, run the mv line again with sudo.&lt;/p&gt;&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl -sS https://getcomposer.org/installer | sudo php -- --install-dir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/usr/local/bin --filename&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;composer
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
            <content type="html"><![CDATA[<p>A self-reminde ron how to install on Linux. Instruction taken from <a href="https://stackoverflow.com/a/32882331/9364246">here</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -sS https://getcomposer.org/installer | php
</span></span><span style="display:flex;"><span>mv composer.phar /usr/local/bin/composer
</span></span></code></pre></div><blockquote>
<p>Note: If the above fails due to permissions, run the mv line again with sudo.</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -sS https://getcomposer.org/installer | sudo php -- --install-dir<span style="color:#f92672">=</span>/usr/local/bin --filename<span style="color:#f92672">=</span>composer
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>How to Setup passwordless SSH Login to Nine Server</title>
            <link>https://arueckauer.github.io/posts/2020/04/how-to-setup-passwordless-ssh-login-to-nine-server/</link>
            <pubDate>Wed, 29 Apr 2020 09:30:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/04/how-to-setup-passwordless-ssh-login-to-nine-server/</guid>
            <description>&lt;h2 id=&#34;add-fingerprint-to-known_hosts&#34;&gt;Add fingerprint to &lt;code&gt;known_hosts&lt;/code&gt;&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;andi@arueckauer:~$ ssh-keyscan -H arueckauer01.nine.ch &amp;gt;&amp;gt; ~/.ssh/known_hosts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;add-key-to-server&#34;&gt;Add key to server&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;andi@arueckauer:~$ cat ~/.ssh/id_rsa.pub | ssh www-data@arueckauer01.nine.ch &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;cat &amp;gt;&amp;gt; ~/.ssh/authorized_keys&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;www-data@arueckauer01.nine.ch&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;s password:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ssh-configuration&#34;&gt;SSH Configuration&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;~/.ssh/config&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Host arueckauer01 arueckauer01.nine.ch
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    HostName arueckauer01.nine.ch
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    IdentityFile ~/.ssh/id_rsa
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    User www-data
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    LocalForward &lt;span style=&#34;color:#ae81ff&#34;&gt;3310&lt;/span&gt; localhost:3306
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;alias&#34;&gt;Alias&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;~/.bashrc&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias arueckauer01&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ssh arueckauer01&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
            <content type="html"><![CDATA[<h2 id="add-fingerprint-to-known_hosts">Add fingerprint to <code>known_hosts</code></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>andi@arueckauer:~$ ssh-keyscan -H arueckauer01.nine.ch &gt;&gt; ~/.ssh/known_hosts
</span></span></code></pre></div><h2 id="add-key-to-server">Add key to server</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>andi@arueckauer:~$ cat ~/.ssh/id_rsa.pub | ssh www-data@arueckauer01.nine.ch <span style="color:#e6db74">&#39;cat &gt;&gt; ~/.ssh/authorized_keys&#39;</span>
</span></span><span style="display:flex;"><span>www-data@arueckauer01.nine.ch<span style="color:#960050;background-color:#1e0010">&#39;</span>s password:
</span></span></code></pre></div><h2 id="ssh-configuration">SSH Configuration</h2>
<p><code>~/.ssh/config</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Host arueckauer01 arueckauer01.nine.ch
</span></span><span style="display:flex;"><span>    HostName arueckauer01.nine.ch
</span></span><span style="display:flex;"><span>    IdentityFile ~/.ssh/id_rsa
</span></span><span style="display:flex;"><span>    User www-data
</span></span><span style="display:flex;"><span>    LocalForward <span style="color:#ae81ff">3310</span> localhost:3306
</span></span></code></pre></div><h2 id="alias">Alias</h2>
<p><code>~/.bashrc</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>alias arueckauer01<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ssh arueckauer01&#39;</span>
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Generate SSH Keys for Windows System account</title>
            <link>https://arueckauer.github.io/posts/2020/04/generate-ssh-keys-for-windows-system-account/</link>
            <pubDate>Tue, 21 Apr 2020 10:27:32 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/04/generate-ssh-keys-for-windows-system-account/</guid>
            <description>&lt;p&gt;Windows services usually run under the System account. In cases where a service needs SSH access like cloning a Git repository, a SSH key pair might be required. But how do you generate these keys for the System account?&lt;/p&gt;
&lt;p&gt;The Sysinternals Process Utilities provide PowerShell tools. Among these is &lt;a href=&#34;https://docs.microsoft.com/en-us/sysinternals/downloads/psexec&#34;&gt;PsExec&lt;/a&gt;, which can be used to invoke a process on a remote machine. But it also allows executing a process on the same machine under a different user. A detailed description on how to download and use this tool is provided in the above linked article.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Windows services usually run under the System account. In cases where a service needs SSH access like cloning a Git repository, a SSH key pair might be required. But how do you generate these keys for the System account?</p>
<p>The Sysinternals Process Utilities provide PowerShell tools. Among these is <a href="https://docs.microsoft.com/en-us/sysinternals/downloads/psexec">PsExec</a>, which can be used to invoke a process on a remote machine. But it also allows executing a process on the same machine under a different user. A detailed description on how to download and use this tool is provided in the above linked article.</p>
<h2 id="start-a-powershell-in-the-system-account">Start a PowerShell in the System account</h2>
<p>For our purpose, we open an elevated PowerShell and start another PowerShell which is then run with the System account.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>PsExec.exe -ids powershell.exe
</span></span></code></pre></div><ul>
<li><code>-i</code> Runs the process in the console session</li>
<li><code>-d</code> Start the process non-interactive - do not wait for the process to end</li>
<li><code>-s</code> Runs the process in the System account</li>
</ul>
<h2 id="generate-ssh-keys">Generate SSH keys</h2>
<p>In the new PowerShell keys can be generated as usual, e.g.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>ssh-keygen.exe -t rsa
</span></span></code></pre></div><h2 id="location-of-systems-account-ssh-keys">Location of System&rsquo;s account SSH keys</h2>
<p>Other than human user accounts, the user&rsquo;s home path is not located in <code>C:\Users</code>. The SSH keys of the System account are in <code>C:\WINDOWS\system32\config\systemprofile\.ssh</code>. Since other users cannot access this path, it is a good idea to copy the public key now to a path which is accessible.</p>
]]></content>
        </item>
        
        <item>
            <title>How to minimize Signal desktop app to system try</title>
            <link>https://arueckauer.github.io/posts/2020/01/how-to-minimize-signal-desktop-app-to-system-try/</link>
            <pubDate>Mon, 20 Jan 2020 10:45:25 +0100</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2020/01/how-to-minimize-signal-desktop-app-to-system-try/</guid>
            <description>&lt;p&gt;Unfortunately the Signal desktop app does not offer any configuration in the GUI to allow minimization to the system tray. But there are start parameters, with which the application behavior can be controlled.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--use-tray-icon&lt;/code&gt; will minimize the app to the system tray when hitting the close button&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--start-in-tray&lt;/code&gt; will start the app already minimized to the tray&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To use a features, adding the wanted parameters to the shortcut.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/signalapp/Signal-Desktop/issues/1480#issuecomment-369331290&#34;&gt;Source&lt;/a&gt;&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Unfortunately the Signal desktop app does not offer any configuration in the GUI to allow minimization to the system tray. But there are start parameters, with which the application behavior can be controlled.</p>
<ul>
<li><code>--use-tray-icon</code> will minimize the app to the system tray when hitting the close button</li>
<li><code>--start-in-tray</code> will start the app already minimized to the tray</li>
</ul>
<p>To use a features, adding the wanted parameters to the shortcut.</p>
<p><a href="https://github.com/signalapp/Signal-Desktop/issues/1480#issuecomment-369331290">Source</a></p>
]]></content>
        </item>
        
        <item>
            <title>self vs. static</title>
            <link>https://arueckauer.github.io/posts/2019/11/self-vs.-static/</link>
            <pubDate>Mon, 04 Nov 2019 06:41:23 +0100</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/11/self-vs.-static/</guid>
            <description>&lt;p&gt;I get confused with &lt;code&gt;self&lt;/code&gt; and &lt;code&gt;static&lt;/code&gt;. Then I research and learn it. Then I forget it again. And so on.&lt;/p&gt;
&lt;h2 id=&#34;tldr&#34;&gt;TLDR&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;self&lt;/code&gt; refers to the same class in which the new keyword is actually written.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;static&lt;/code&gt;, in PHP 5.3&amp;rsquo;s late static bindings, refers to whatever class in the hierarchy you called the method on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://stackoverflow.com/a/5197655/9364246&#34;&gt;By BoltClock on Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;an-example&#34;&gt;An example&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; __invoke()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;self: &amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;self&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;static: &amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;get_class(): &amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_class&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;get_class($this): &amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_class&lt;/span&gt;($this) &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;get_called_class(): &amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_called_class&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;PHP_EOL&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Bar&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;extends&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Foo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Bar&lt;/span&gt;())();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Output&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>I get confused with <code>self</code> and <code>static</code>. Then I research and learn it. Then I forget it again. And so on.</p>
<h2 id="tldr">TLDR</h2>
<blockquote>
<p><code>self</code> refers to the same class in which the new keyword is actually written.</p>
<p><code>static</code>, in PHP 5.3&rsquo;s late static bindings, refers to whatever class in the hierarchy you called the method on.</p></blockquote>
<p><a href="https://stackoverflow.com/a/5197655/9364246">By BoltClock on Stack Overflow</a></p>
<h2 id="an-example">An example</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __invoke()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;self: &#39;</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">PHP_EOL</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;static: &#39;</span> <span style="color:#f92672">.</span> <span style="color:#66d9ef">static</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">PHP_EOL</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;get_class(): &#39;</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">get_class</span>() <span style="color:#f92672">.</span> <span style="color:#a6e22e">PHP_EOL</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;get_class($this): &#39;</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">get_class</span>($this) <span style="color:#f92672">.</span> <span style="color:#a6e22e">PHP_EOL</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#39;get_called_class(): &#39;</span> <span style="color:#f92672">.</span> <span style="color:#a6e22e">get_called_class</span>() <span style="color:#f92672">.</span> <span style="color:#a6e22e">PHP_EOL</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Bar</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Foo</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Bar</span>())();
</span></span></code></pre></div><p>Output</p>
<pre tabindex="0"><code>self: Foo
static: Bar
get_class(): Foo
get_class($this): Bar
get_called_class(): Bar
</code></pre><p>Test it on <a href="https://3v4l.org/PpZA6">3v4l.org</a>.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="https://www.leaseweb.com/labs/2014/04/static-versus-self-php/">Using static:: versus self:: in object oriented PHP</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Console Commands in an Expressive Applicaton II</title>
            <link>https://arueckauer.github.io/posts/2019/10/console-commands-in-an-expressive-applicaton-ii/</link>
            <pubDate>Fri, 18 Oct 2019 07:23:59 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/10/console-commands-in-an-expressive-applicaton-ii/</guid>
            <description>&lt;p&gt;This is an addition to my previous post &lt;a href=&#34;https://arueckauer.github.io/posts/2019/07/console-commands-in-an-expressive-applicaton/&#34;&gt;Console Commands in an Expressive Applicaton&lt;/a&gt;. It provides two more real-world examples for Console Commands in Expressive applications.&lt;/p&gt;
&lt;h2 id=&#34;mwops-blog&#34;&gt;mwop&amp;rsquo;s blog&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/bin/env php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; * @license http://opensource.org/licenses/BSD-2-Clause BSD-2-Clause
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; * @copyright Copyright (c) Matthew Weier O&amp;#39;Phinney
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;namespace&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Mwop&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Symfony\Component\Console\Application&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;use&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Symfony\Component\Console\CommandLoader\ContainerCommandLoader&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;chdir&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;__DIR__&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/../&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;require_once&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;vendor/autoload.php&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$container &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;config/container.php&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$application &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Application&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mwop.net&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$application&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setCommandLoader&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ContainerCommandLoader&lt;/span&gt;($container, [
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;asset:copy-symlinks&amp;#39;&lt;/span&gt;       &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Console\CopyAssetSymlinks&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;asset:create-symlinks&amp;#39;&lt;/span&gt;     &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Console\CreateAssetSymlinks&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;asset:use-dist-templates&amp;#39;&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Console\UseDistTemplates&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;blog:clear-cache&amp;#39;&lt;/span&gt;          &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Blog\Console\ClearCache&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;blog:feed-generator&amp;#39;&lt;/span&gt;       &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Blog\Console\FeedGenerator&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;blog:generate-search-data&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Blog\Console\GenerateSearchData&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;blog:seed-db&amp;#39;&lt;/span&gt;              &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Blog\Console\SeedBlogDatabase&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;blog:tag-cloud&amp;#39;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Blog\Console\TagCloud&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;clear-cache&amp;#39;&lt;/span&gt;               &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Console\ClearCache&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;github:fetch-activity&amp;#39;&lt;/span&gt;     &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Github\Console\Fetch&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;homepage-feeds&amp;#39;&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Console\FeedAggregator&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;]));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$application&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setDefaultCommand&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;list&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$application&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;run&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/weierophinney/mwop.net/blob/master/bin/mwop.net.php&#34;&gt;Source&lt;/a&gt;&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>This is an addition to my previous post <a href="https://arueckauer.github.io/posts/2019/07/console-commands-in-an-expressive-applicaton/">Console Commands in an Expressive Applicaton</a>. It provides two more real-world examples for Console Commands in Expressive applications.</p>
<h2 id="mwops-blog">mwop&rsquo;s blog</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/env php
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @license http://opensource.org/licenses/BSD-2-Clause BSD-2-Clause
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> * @copyright Copyright (c) Matthew Weier O&#39;Phinney
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">Mwop</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Application</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\CommandLoader\ContainerCommandLoader</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">chdir</span>(<span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/../&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">require_once</span> <span style="color:#e6db74">&#39;vendor/autoload.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$container <span style="color:#f92672">=</span> <span style="color:#66d9ef">require</span> <span style="color:#e6db74">&#39;config/container.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$application <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Application</span>(<span style="color:#e6db74">&#39;mwop.net&#39;</span>);
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setCommandLoader</span>(<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">ContainerCommandLoader</span>($container, [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;asset:copy-symlinks&#39;</span>       <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Console\CopyAssetSymlinks</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;asset:create-symlinks&#39;</span>     <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Console\CreateAssetSymlinks</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;asset:use-dist-templates&#39;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Console\UseDistTemplates</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;blog:clear-cache&#39;</span>          <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Blog\Console\ClearCache</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;blog:feed-generator&#39;</span>       <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Blog\Console\FeedGenerator</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;blog:generate-search-data&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Blog\Console\GenerateSearchData</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;blog:seed-db&#39;</span>              <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Blog\Console\SeedBlogDatabase</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;blog:tag-cloud&#39;</span>            <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Blog\Console\TagCloud</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;clear-cache&#39;</span>               <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Console\ClearCache</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;github:fetch-activity&#39;</span>     <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Github\Console\Fetch</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;homepage-feeds&#39;</span>            <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Console\FeedAggregator</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>]));
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setDefaultCommand</span>(<span style="color:#e6db74">&#39;list&#39;</span>);
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">run</span>();
</span></span></code></pre></div><p><a href="https://github.com/weierophinney/mwop.net/blob/master/bin/mwop.net.php">Source</a></p>
<h2 id="zend-framework-3-website">Zend Framework 3 website</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/env php
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">LongTermSupport\Command\FetchRepoVersionDataCommand</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">LongTermSupport\Command\PackageListBuilderCommand</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Application</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\CommandLoader\FactoryCommandLoader</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">require</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/../vendor/autoload.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$container <span style="color:#f92672">=</span> <span style="color:#66d9ef">require</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/../config/container.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$loader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">FactoryCommandLoader</span>([
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;lts:build&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">function</span> () <span style="color:#66d9ef">use</span> ($container) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $container<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">PackageListBuilderCommand</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;lts:fetch-tag-data&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">function</span> () <span style="color:#66d9ef">use</span> ($container) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $container<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">FetchRepoVersionDataCommand</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$application <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Application</span>();
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setCommandLoader</span>($loader);
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">run</span>();
</span></span></code></pre></div><p><a href="https://github.com/zendframework/zf3-web/blob/master/bin/zfweb.php">Source</a></p>
]]></content>
        </item>
        
        <item>
            <title>Logical Operator and Operator Precedence</title>
            <link>https://arueckauer.github.io/posts/2019/10/logical-operator-and-operator-precedence/</link>
            <pubDate>Thu, 17 Oct 2019 09:20:19 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/10/logical-operator-and-operator-precedence/</guid>
            <description>&lt;p&gt;&lt;a href=&#34;https://twitter.com/MichalBundyra&#34;&gt;@MichalBundyra&lt;/a&gt; &lt;a href=&#34;https://twitter.com/MichalBundyra/status/1184533617600544770&#34;&gt;tweeted&lt;/a&gt; yesterday:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TIL &amp;amp;&amp;amp; and AND are not the same&amp;hellip; &lt;a href=&#34;https://3v4l.org/dVVYc&#34;&gt;https://3v4l.org/dVVYc&lt;/a&gt; Thanks &lt;a href=&#34;https://twitter.com/geerteltink&#34;&gt;@geerteltink&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Honestly, I never use(d) &lt;code&gt;and&lt;/code&gt;. But it is interesting to learn that there is an actual difference and not just a flavor.&lt;/p&gt;
&lt;p&gt;Michal compares the output of &lt;code&gt;and&lt;/code&gt; and &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;and&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;var_dump&lt;/span&gt;($a, $b);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;result&#34;&gt;Result&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;int(2)
bool(true)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Wait what?&lt;/p&gt;
&lt;h2 id=&#34;logical-operator-and-and--are-not-identical&#34;&gt;Logical Operator &amp;ldquo;and&amp;rdquo; and &amp;ldquo;&amp;amp;&amp;amp;&amp;rdquo; are not identical&lt;/h2&gt;
&lt;h3 id=&#34;logical-operators&#34;&gt;Logical Operators&lt;/h3&gt;
&lt;p&gt;The documentation for the &lt;a href=&#34;https://www.php.net/manual/en/language.operators.logical.php&#34;&gt;Logical Operators&lt;/a&gt; states:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The reason for the two different variations of &amp;ldquo;and&amp;rdquo; and &amp;ldquo;or&amp;rdquo; operators is that they operate at different precedences. (See Operator Precedence.)&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><a href="https://twitter.com/MichalBundyra">@MichalBundyra</a> <a href="https://twitter.com/MichalBundyra/status/1184533617600544770">tweeted</a> yesterday:</p>
<blockquote>
<p>TIL &amp;&amp; and AND are not the same&hellip; <a href="https://3v4l.org/dVVYc">https://3v4l.org/dVVYc</a> Thanks <a href="https://twitter.com/geerteltink">@geerteltink</a></p></blockquote>
<p>Honestly, I never use(d) <code>and</code>. But it is interesting to learn that there is an actual difference and not just a flavor.</p>
<p>Michal compares the output of <code>and</code> and <code>&amp;&amp;</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$a <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#66d9ef">and</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>$b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">var_dump</span>($a, $b);
</span></span></code></pre></div><h4 id="result">Result</h4>
<pre tabindex="0"><code>int(2)
bool(true)
</code></pre><p>Wait what?</p>
<h2 id="logical-operator-and-and--are-not-identical">Logical Operator &ldquo;and&rdquo; and &ldquo;&amp;&amp;&rdquo; are not identical</h2>
<h3 id="logical-operators">Logical Operators</h3>
<p>The documentation for the <a href="https://www.php.net/manual/en/language.operators.logical.php">Logical Operators</a> states:</p>
<blockquote>
<p>The reason for the two different variations of &ldquo;and&rdquo; and &ldquo;or&rdquo; operators is that they operate at different precedences. (See Operator Precedence.)</p></blockquote>
<h3 id="short-circuiting-operators">Short-circuiting operators</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// foo() will never get called as those operators are short-circuited
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>$a <span style="color:#f92672">=</span> (<span style="color:#66d9ef">false</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">foo</span>());
</span></span><span style="display:flex;"><span>$b <span style="color:#f92672">=</span> (<span style="color:#66d9ef">false</span> <span style="color:#66d9ef">and</span> <span style="color:#a6e22e">foo</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">var_dump</span>($a, $b);
</span></span></code></pre></div><h4 id="result-1">Result</h4>
<pre tabindex="0"><code>bool(false)
bool(false)
</code></pre><h3 id="-has-a-greater-precedence-than-and">&ldquo;&amp;&amp;&rdquo; has a greater precedence than &ldquo;and&rdquo;</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// The result of the expression (true &amp;&amp; false) is assigned to $c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Acts like: ($c = (true &amp;&amp; false))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$c <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// The constant true is assigned to $d before the &#34;and&#34; operation occurs
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Acts like: (($d = true) and false)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$d <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#66d9ef">and</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">var_dump</span>($c, $d);
</span></span></code></pre></div><h4 id="result-2">Result</h4>
<pre tabindex="0"><code>bool(false)
bool(true)
</code></pre><h3 id="operator-precedence">Operator Precedence</h3>
<p>Furthermore, the documentation for <a href="https://www.php.net/manual/en/language.operators.precedence.php">Operator Precedence</a> suggests the usage of parentheses to improve readability.</p>
<blockquote>
<p>The precedence of an operator specifies how &ldquo;tightly&rdquo; it binds two expressions together.</p>
<p>[..]</p>
<p>Use of parentheses, even when not strictly necessary, can often increase readability of the code by making grouping explicit rather than relying on the implicit operator precedence and associativity.</p></blockquote>
<h2 id="conclusion">Conclusion</h2>
<p>So, <code>and</code> can lead to unexpected results (unless you really know how it works). On the top of my head, I cannot think of a scenario, where <code>and</code> would be required.</p>
<p>To prevent unwanted surprises, one can either put <code>and</code> comparison in parentheses or even better use the <code>&amp;&amp;</code> operator.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$a <span style="color:#f92672">=</span> (<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">and</span> <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>$b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">var_dump</span>($a, $b);
</span></span></code></pre></div><h4 id="result-3">Result</h4>
<pre tabindex="0"><code>bool(true)
bool(true)
</code></pre>]]></content>
        </item>
        
        <item>
            <title>MySQL utf8mb4 Unicode</title>
            <link>https://arueckauer.github.io/posts/2019/08/mysql-utf8mb4-unicode/</link>
            <pubDate>Tue, 06 Aug 2019 16:15:08 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/08/mysql-utf8mb4-unicode/</guid>
            <description>&lt;p&gt;In MySQL UTF-8 does not actually mean UTF-8. If you&amp;rsquo;re curious to see why, there is an excellent &lt;a href=&#34;https://mathiasbynens.be/notes/mysql-utf8mb4&#34;&gt;post&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/mathias&#34;&gt;Mathias&lt;/a&gt; explaining in detail why you should choose utf8mb4 over utf8.&lt;/p&gt;
&lt;p&gt;While Mathias nicely covers the upgrade and configuration for MySQL 5.5.3+ on a Unix-Like system, I needed to configure MySQL 8.0.15 on Windows. Now, I won&amp;rsquo;t tell the whole story of how I finally ended up with this configuration, leaving this just here for my future self.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>In MySQL UTF-8 does not actually mean UTF-8. If you&rsquo;re curious to see why, there is an excellent <a href="https://mathiasbynens.be/notes/mysql-utf8mb4">post</a> by <a href="https://twitter.com/mathias">Mathias</a> explaining in detail why you should choose utf8mb4 over utf8.</p>
<p>While Mathias nicely covers the upgrade and configuration for MySQL 5.5.3+ on a Unix-Like system, I needed to configure MySQL 8.0.15 on Windows. Now, I won&rsquo;t tell the whole story of how I finally ended up with this configuration, leaving this just here for my future self.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[client]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">default-character-set</span><span style="color:#f92672">=</span><span style="color:#e6db74">utf8mb4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[mysql]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">default-character-set</span><span style="color:#f92672">=</span><span style="color:#e6db74">utf8mb4</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">character-set-server</span><span style="color:#f92672">=</span><span style="color:#e6db74">utf8mb4</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">collation-server</span><span style="color:#f92672">=</span><span style="color:#e6db74">utf8mb4_unicode_ci</span>
</span></span></code></pre></div><p>To check the server settings after changes are applied and the MySQL service restarted, I executed&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SHOW</span> VARIABLES <span style="color:#66d9ef">WHERE</span> Variable_name <span style="color:#66d9ef">LIKE</span> <span style="color:#e6db74">&#39;character\_set\_%&#39;</span> <span style="color:#66d9ef">OR</span> Variable_name <span style="color:#66d9ef">LIKE</span> <span style="color:#e6db74">&#39;collation%&#39;</span>;
</span></span></code></pre></div><p>&hellip;with the result being&hellip;</p>
<table>
  <thead>
      <tr>
          <th>Variable_name</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>character_set_client</td>
          <td>utf8mb4</td>
      </tr>
      <tr>
          <td>character_set_connection</td>
          <td>utf8mb4</td>
      </tr>
      <tr>
          <td>character_set_database</td>
          <td>utf8mb4</td>
      </tr>
      <tr>
          <td>character_set_filesystem</td>
          <td>binary</td>
      </tr>
      <tr>
          <td>character_set_results</td>
          <td>utf8mb4</td>
      </tr>
      <tr>
          <td>character_set_server</td>
          <td>utf8mb4</td>
      </tr>
      <tr>
          <td>character_set_system</td>
          <td>utf8</td>
      </tr>
      <tr>
          <td>collation_connection</td>
          <td>utf8mb4_0900_ai_ci</td>
      </tr>
      <tr>
          <td>collation_database</td>
          <td>utf8mb4_unicode_ci</td>
      </tr>
      <tr>
          <td>collation_server</td>
          <td>utf8mb4_unicode_ci</td>
      </tr>
  </tbody>
</table>
<p>&hellip;alright except for the <code>collation_connection</code> parameter. Now, I am stil unsure, whether that can be set as server variable or not. Trying to set in in <code>my.ini</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[mysqld]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">collation-connection</span><span style="color:#f92672">=</span><span style="color:#e6db74">utf8mb4_unicode_ci</span>
</span></span></code></pre></div><p>The service no longer started. ☹</p>
<pre tabindex="0"><code class="language-log" data-lang="log">2019-08-06T15:02:14.009170Z 0 [System] [MY-010910] [Server] C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld.exe: Shutdown complete (mysqld 8.0.15)  MySQL Community Server - GPL.
2019-08-06T15:02:40.403776Z 0 [Warning] [MY-010915] [Server] &#39;NO_ZERO_DATE&#39;, &#39;NO_ZERO_IN_DATE&#39; and &#39;ERROR_FOR_DIVISION_BY_ZERO&#39; sql modes should be used with strict mode. They will be merged with strict mode in a future release.
2019-08-06T15:02:40.406958Z 0 [System] [MY-010116] [Server] C:\Program Files\MySQL\MySQL Server 8.0\bin\mysqld.exe (mysqld 8.0.15) starting as process 26140
2019-08-06T15:02:47.154232Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed.
2019-08-06T15:02:47.165349Z 0 [ERROR] [MY-000067] [Server] unknown variable &#39;collation-connection=utf8mb4_unicode_ci&#39;.
2019-08-06T15:02:47.165375Z 0 [Warning] [MY-010952] [Server] The privilege system failed to initialize correctly. If you have upgraded your server, make sure you&#39;re executing mysql_upgrade to correct the issue.
2019-08-06T15:02:47.181314Z 0 [ERROR] [MY-010119] [Server] Aborting
</code></pre><p>For right now, I am happy with the setup and will leave it there. If you have any clue about the <code>collation-connection</code>, I am more than happy to hear about it.</p>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://mathiasbynens.be/notes/mysql-utf8mb4">How to support full Unicode in MySQL databases</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/charset-server.html">MySQL Documentation: 10.3.2 Server Character Set and Collation</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/charset-database.html">MySQL Documentation: 10.3.3 Database Character Set and Collation</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/charset-connection.html">MySQL Documentation: 10.4 Connection Character Sets and Collations</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/charset-configuration.html">MySQL Documentation: 10.14 Character Set Configuration</a></li>
</ul>
<h3 id="options">Options</h3>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-command-options.html#option_mysql_default-character-set">MySQL Documentation: default-character-set</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_character_set_system">MySQL Documentation: character_set_system [utf8]</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_character_set_server">MySQL Documentation: character_set_server [utf8mb4]</a></li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_character_set_client">MySQL Documentation: character_set_client [utf8mb4]</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>JSON-RPC call as Invoke-WebRequest</title>
            <link>https://arueckauer.github.io/posts/2019/08/json-rpc-call-as-invoke-webrequest/</link>
            <pubDate>Mon, 05 Aug 2019 16:56:17 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/08/json-rpc-call-as-invoke-webrequest/</guid>
            <description>&lt;p&gt;Lately I needed to execute a JSON-RPC call, but had neither &lt;a href=&#34;https://www.getpostman.com/&#34;&gt;Postman&lt;/a&gt; nor &lt;a href=&#34;https://insomnia.rest/&#34;&gt;Insomnia&lt;/a&gt; available. I wondered, if &lt;code&gt;Invoke-WebRequest&lt;/code&gt; could do the job.&lt;/p&gt;
&lt;p&gt;Requesting the SMD is as simple as:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Invoke-WebRequest -Uri &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://localhost/api/json-rpc/authentication&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now I needed to send a POST request with some parameters. That needed some further research. After some trial and error I ended up with the following.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$Body = @{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    jsonrpc = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;2.0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    method  = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;authenticate&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    params  = @{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        username = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;arueckauer&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        password = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;F^YgtU)p9Pd3ANTqm@F^sNWFSf9PU}OCg0N0xCC&amp;amp;C8P&amp;gt;=x^6)Hasdh]HHtXQ#dLg&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    };
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    id      = [&lt;span style=&#34;color:#66d9ef&#34;&gt;guid&lt;/span&gt;]::NewGuid()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} | ConvertTo-Json
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Invoke-WebRequest -Uri &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://localhost/api/json-rpc/authentication&amp;#39;&lt;/span&gt; -Method &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;POST&amp;#39;&lt;/span&gt; -Body $Body
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;With the help of &lt;code&gt;[guid]::NewGuid()&lt;/code&gt; a new UUIDv4 is created for each request. And piping the body object to &lt;code&gt;ConvertTo-Json&lt;/code&gt; returns the necessary JSON representation.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Lately I needed to execute a JSON-RPC call, but had neither <a href="https://www.getpostman.com/">Postman</a> nor <a href="https://insomnia.rest/">Insomnia</a> available. I wondered, if <code>Invoke-WebRequest</code> could do the job.</p>
<p>Requesting the SMD is as simple as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Invoke-WebRequest -Uri <span style="color:#e6db74">&#39;https://localhost/api/json-rpc/authentication&#39;</span>
</span></span></code></pre></div><p>Now I needed to send a POST request with some parameters. That needed some further research. After some trial and error I ended up with the following.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>$Body = @{
</span></span><span style="display:flex;"><span>    jsonrpc = <span style="color:#e6db74">&#39;2.0&#39;</span>;
</span></span><span style="display:flex;"><span>    method  = <span style="color:#e6db74">&#39;authenticate&#39;</span>;
</span></span><span style="display:flex;"><span>    params  = @{
</span></span><span style="display:flex;"><span>        username = <span style="color:#e6db74">&#39;arueckauer&#39;</span>;
</span></span><span style="display:flex;"><span>        password = <span style="color:#e6db74">&#39;F^YgtU)p9Pd3ANTqm@F^sNWFSf9PU}OCg0N0xCC&amp;C8P&gt;=x^6)Hasdh]HHtXQ#dLg&#39;</span>
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    id      = [<span style="color:#66d9ef">guid</span>]::NewGuid()
</span></span><span style="display:flex;"><span>} | ConvertTo-Json
</span></span><span style="display:flex;"><span>Invoke-WebRequest -Uri <span style="color:#e6db74">&#39;https://localhost/api/json-rpc/authentication&#39;</span> -Method <span style="color:#e6db74">&#39;POST&#39;</span> -Body $Body
</span></span></code></pre></div><p>With the help of <code>[guid]::NewGuid()</code> a new UUIDv4 is created for each request. And piping the body object to <code>ConvertTo-Json</code> returns the necessary JSON representation.</p>
<p>Et voilà!</p>
]]></content>
        </item>
        
        <item>
            <title>SQL JSON functions</title>
            <link>https://arueckauer.github.io/posts/2019/08/sql-json-functions/</link>
            <pubDate>Mon, 05 Aug 2019 09:17:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/08/sql-json-functions/</guid>
            <description>&lt;p&gt;With version 8.0 MySQL comes with support for JSON. This allows the storage of JSON data in a column and the usage of &lt;a href=&#34;https://dev.mysql.com/doc/refman/8.0/en/json-functions.html&#34;&gt;JSON functions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In a project I needed to check which values are available for a particular property, the JSON column path operator came in handy.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;SELECT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;publicDataJson__de&lt;span style=&#34;color:#f92672&#34;&gt;`-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;$.preisFaktor&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;preisFaktor&lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;COUNT&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;AS&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;numberOfHits&lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FROM&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;products&lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;GROUP&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;BY&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;preisFaktor&lt;span style=&#34;color:#f92672&#34;&gt;`&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Another query was to check for non-empty JSON fields.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;WHERE&lt;/span&gt; JSON_LENGTH(&lt;span style=&#34;color:#66d9ef&#34;&gt;structure&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
            <content type="html"><![CDATA[<p>With version 8.0 MySQL comes with support for JSON. This allows the storage of JSON data in a column and the usage of <a href="https://dev.mysql.com/doc/refman/8.0/en/json-functions.html">JSON functions</a>.</p>
<p>In a project I needed to check which values are available for a particular property, the JSON column path operator came in handy.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">`</span>publicDataJson__de<span style="color:#f92672">`-&gt;</span><span style="color:#e6db74">&#39;$.preisFaktor&#39;</span> <span style="color:#66d9ef">AS</span> <span style="color:#f92672">`</span>preisFaktor<span style="color:#f92672">`</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">COUNT</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">AS</span> <span style="color:#f92672">`</span>numberOfHits<span style="color:#f92672">`</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> <span style="color:#f92672">`</span>products<span style="color:#f92672">`</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">GROUP</span> <span style="color:#66d9ef">BY</span> <span style="color:#f92672">`</span>preisFaktor<span style="color:#f92672">`</span>;
</span></span></code></pre></div><p>Another query was to check for non-empty JSON fields.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> JSON_LENGTH(<span style="color:#66d9ef">structure</span>) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Console Commands in an Expressive Applicaton</title>
            <link>https://arueckauer.github.io/posts/2019/07/console-commands-in-an-expressive-applicaton/</link>
            <pubDate>Thu, 04 Jul 2019 16:09:13 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/07/console-commands-in-an-expressive-applicaton/</guid>
            <description>&lt;p&gt;In a current customer project, I needed the ability to run commands from the CLI.&lt;/p&gt;
&lt;p&gt;Symfony provides a console component which is, among others, used by &lt;a href=&#34;zendframework/zend-expressive-tooling&#34;&gt;&lt;code&gt;zendframework/zend-expressive-tooling&lt;/code&gt;&lt;/a&gt;. The &lt;a href=&#34;https://symfony.com/doc/current/console.html&#34;&gt;documentation&lt;/a&gt; got me off to a quick start and I got my first &lt;code&gt;Hello&lt;/code&gt; command running within minutes.&lt;/p&gt;
&lt;p&gt;I wanted to provide a re-usable package, where the implementation can provide the definition of a command list.&lt;/p&gt;
&lt;p&gt;Since I am not using the package within a Symfony application, I needed somehow access to the Service Container of the Expressive application. I quick search on the internet did not show up any useful results and I was left to use my own brain.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>In a current customer project, I needed the ability to run commands from the CLI.</p>
<p>Symfony provides a console component which is, among others, used by <a href="zendframework/zend-expressive-tooling"><code>zendframework/zend-expressive-tooling</code></a>. The <a href="https://symfony.com/doc/current/console.html">documentation</a> got me off to a quick start and I got my first <code>Hello</code> command running within minutes.</p>
<p>I wanted to provide a re-usable package, where the implementation can provide the definition of a command list.</p>
<p>Since I am not using the package within a Symfony application, I needed somehow access to the Service Container of the Expressive application. I quick search on the internet did not show up any useful results and I was left to use my own brain.</p>
<p>My starting point was the <a href="https://github.com/zendframework/zend-expressive-skeleton/blob/master/public/index.php"><code>public/index.php</code></a> provided by Expressive. From there it was just a small step of adjustments and I could access the configuration by simply loading the service container via <code>$container = require 'config/container.php';</code>.</p>
<p>The next task was to use a factory service for commands that have dependencies. Since I already have the service container, I can simply get the command from it.</p>
<p>The end-result looks like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/env php
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">Arueckauer\Console</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PackageVersions\Versions</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Psr\Container\ContainerInterface</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Application</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Symfony\Component\Console\Command\Command</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">require</span> <span style="color:#e6db74">&#39;vendor/autoload.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">/** @var ContainerInterface $container */</span>
</span></span><span style="display:flex;"><span>$container <span style="color:#f92672">=</span> <span style="color:#66d9ef">require</span> <span style="color:#e6db74">&#39;config/container.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$commandsConfig <span style="color:#f92672">=</span> <span style="color:#66d9ef">require</span> <span style="color:#e6db74">&#39;config/autoload/commands.global.php&#39;</span>;
</span></span><span style="display:flex;"><span>$commandList <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">foreach</span> ($commandsConfig[<span style="color:#a6e22e">CommandList</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>] <span style="color:#66d9ef">as</span> $command) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ($command <span style="color:#a6e22e">instanceof</span> <span style="color:#a6e22e">Command</span>) {
</span></span><span style="display:flex;"><span>        $commandList[] <span style="color:#f92672">=</span> $command;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        $commandList[] <span style="color:#f92672">=</span> $container<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">get</span>($command);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$application <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Application</span>(<span style="color:#e6db74">&#39;Console&#39;</span>);
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">addCommands</span>($commandList);
</span></span><span style="display:flex;"><span>$application<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">run</span>();
</span></span></code></pre></div><p>The configuration of commands is placed in a configuration file like <code>config/autoload/commands.global.php</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Command\Hello</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Command\NeedSomeDependencies</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Elstr\Console\CommandList</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">CommandList</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span> <span style="color:#f92672">=&gt;</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Hello</span>(),
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">NeedSomeDependencies</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>,
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div><p>A day after I completed my implementation, two users mentioned an interesting post by Geert Eltink (aka <a href="https://twitter.com/xtreamwayz">@xtreamwayz</a>) from 2016 <a href="https://www.xtreamwayz.com/blog/2016-02-07-zend-expressive-console-cli-commands">zend-expressive console cli commands</a> and the <a href="https://github.com/zfcampus/zf-console">zfcampus/zf-console</a> library.</p>
<p><img src="/img/console-commands-in-an-expressive-applicaton/slack-thread.jpg" alt="Conversation on Slack"></p>
<p><em>(I blacked out the usernames, since I do not have their permission to use them.)</em></p>
<p>Update 2019-10-18: In an <a href="https://arueckauer.github.io/posts/2019/10/console-commands-in-an-expressive-applicaton-ii/">additional post</a>, I show two more real-world examples.</p>
]]></content>
        </item>
        
        <item>
            <title>Format Seconds as Time in PHP</title>
            <link>https://arueckauer.github.io/posts/2019/06/format-seconds-as-time-in-php/</link>
            <pubDate>Fri, 28 Jun 2019 09:04:39 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/format-seconds-as-time-in-php/</guid>
            <description>&lt;p&gt;Somewhat over ten years ago I was working on a project, where we measured execution time and memory consumption of PHP scripts. To display the execution time in a human-readable way, we used a function to format the timestamp provided by &lt;a href=&#34;https://php.net/microtime&#34;&gt;microtime()&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Application__Helper_Timer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#e6db74&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;     * Calculates the execution time of a script
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;     * @param float $executionTime
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;     * @return string
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;formatExecutionTime&lt;/span&gt;($executionTime)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $seconds &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; $this&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;executionTime&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $hours   &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $minutes &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (($seconds &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3600&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            $hours&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            $seconds &lt;span style=&#34;color:#f92672&#34;&gt;-=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3600&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (($seconds &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;60&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            $minutes&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            $seconds &lt;span style=&#34;color:#f92672&#34;&gt;-=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;60&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strlen&lt;/span&gt;((&lt;span style=&#34;color:#a6e22e&#34;&gt;string&lt;/span&gt;) $hours)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            $hours &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; $hours;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strlen&lt;/span&gt;((&lt;span style=&#34;color:#a6e22e&#34;&gt;string&lt;/span&gt;) $minutes)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            $minutes &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; $minutes;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        $seconds &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;round&lt;/span&gt;($seconds, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!==&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strpos&lt;/span&gt;($seconds, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;list&lt;/span&gt;($seconds, $milliseconds) &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;explode&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;, $seconds);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;strlen&lt;/span&gt;((&lt;span style=&#34;color:#a6e22e&#34;&gt;string&lt;/span&gt;) $seconds)) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                $seconds &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; $seconds;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            $milliseconds &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;00&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;!==&lt;/span&gt; $hours) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sprintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%s:%s:%s,%s&amp;#39;&lt;/span&gt;, $hours, $minutes, $seconds, $milliseconds);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sprintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%s:%s,%s&amp;#39;&lt;/span&gt;, $minutes, $seconds, $milliseconds);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It served the purpose well and I used it in other projects as well.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Somewhat over ten years ago I was working on a project, where we measured execution time and memory consumption of PHP scripts. To display the execution time in a human-readable way, we used a function to format the timestamp provided by <a href="https://php.net/microtime">microtime()</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Application__Helper_Timer</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * Calculates the execution time of a script
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @param float $executionTime
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * @return string
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">formatExecutionTime</span>($executionTime)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $seconds <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">executionTime</span>;
</span></span><span style="display:flex;"><span>        $hours   <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        $minutes <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (($seconds <span style="color:#f92672">-</span> <span style="color:#ae81ff">3600</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            $hours<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            $seconds <span style="color:#f92672">-=</span> <span style="color:#ae81ff">3600</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (($seconds <span style="color:#f92672">-</span> <span style="color:#ae81ff">60</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            $minutes<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            $seconds <span style="color:#f92672">-=</span> <span style="color:#ae81ff">60</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">strlen</span>((<span style="color:#a6e22e">string</span>) $hours)) {
</span></span><span style="display:flex;"><span>            $hours <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">.</span> $hours;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">strlen</span>((<span style="color:#a6e22e">string</span>) $minutes)) {
</span></span><span style="display:flex;"><span>            $minutes <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">.</span> $minutes;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        $seconds <span style="color:#f92672">=</span> <span style="color:#a6e22e">round</span>($seconds, <span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">false</span> <span style="color:#f92672">!==</span> <span style="color:#a6e22e">strpos</span>($seconds, <span style="color:#e6db74">&#39;.&#39;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">list</span>($seconds, $milliseconds) <span style="color:#f92672">=</span> <span style="color:#a6e22e">explode</span>(<span style="color:#e6db74">&#39;.&#39;</span>, $seconds);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">strlen</span>((<span style="color:#a6e22e">string</span>) $seconds)) {
</span></span><span style="display:flex;"><span>                $seconds <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">.</span> $seconds;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            $milliseconds <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#e6db74">&#39;00&#39;</span> <span style="color:#f92672">!==</span> $hours) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#39;%s:%s:%s,%s&#39;</span>, $hours, $minutes, $seconds, $milliseconds);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#39;%s:%s,%s&#39;</span>, $minutes, $seconds, $milliseconds);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>It served the purpose well and I used it in other projects as well.</p>
<p>Today, I needed again a way to format seconds in a way that was easily readable. Remembering that I used that many times before, I pulled it out of the archives, looked at it and started thinking how complicated it was written. There must be an easier way.</p>
<p>So, after pulling up my sleeves and getting to work, I came up with this solution:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">Formatter</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SecondsAsTime</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __invoke(<span style="color:#a6e22e">float</span> $seconds) <span style="color:#f92672">:</span> <span style="color:#a6e22e">string</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $hours   <span style="color:#f92672">=</span> (<span style="color:#a6e22e">int</span>) ($seconds <span style="color:#f92672">/</span> <span style="color:#ae81ff">3600</span>);
</span></span><span style="display:flex;"><span>        $minutes <span style="color:#f92672">=</span> (<span style="color:#a6e22e">int</span>) (($seconds <span style="color:#f92672">-</span> $hours <span style="color:#f92672">*</span> <span style="color:#ae81ff">3600</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">60</span>);
</span></span><span style="display:flex;"><span>        $seconds <span style="color:#f92672">-=</span> ($hours <span style="color:#f92672">*</span> <span style="color:#ae81ff">3600</span> <span style="color:#f92672">+</span> $minutes <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#39;%02d:%02d:%07.4F&#39;</span>, $hours, $minutes, $seconds);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Very simple and readable.</p>
<p>Also, I tested test, which greatly helped in the development process.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">FormatterTest</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Formatter\SecondsAsTime</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SecondsAsTimeTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1PicoSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:00.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">12</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1NanoSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:00.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1MicroSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:00.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">6</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1MilliSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:00.0010&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1CentiSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:00.0100&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1DeciSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:00.1000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1Second</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:01.0000&#39;</span>, $formatter(<span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1DecaSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:00:10.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1HectoSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:01:40.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1KiloSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;00:16:40.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">3</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1MegaSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;277:46:40.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">6</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1GigaSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;277777:46:40.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">9</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">test1TeraSecond</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $formatter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">SecondsAsTime</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#e6db74">&#39;277777777:46:40.0000&#39;</span>, $formatter(<span style="color:#ae81ff">10</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">12</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Intermediate Status</title>
            <link>https://arueckauer.github.io/posts/2019/06/intermediate-status/</link>
            <pubDate>Mon, 17 Jun 2019 16:45:52 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/intermediate-status/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D25&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;25 % of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenges are completed. Time for an intermediate status review.&lt;/p&gt;
&lt;h2 id=&#34;just-do-it&#34;&gt;Just do it&lt;/h2&gt;
&lt;p&gt;As mentioned in my &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/just-do-it/&#34;&gt;starting post&lt;/a&gt;, I wanted this to be a fun and learning experience. I am very happy to see that I&amp;rsquo;ve reached all of my goals so far. My greatest concern was that I would get tired of writing (almost) every day. But this has been good practice and writing becomes easier every day.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D25</em></p>
<hr>
<p>25 % of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenges are completed. Time for an intermediate status review.</p>
<h2 id="just-do-it">Just do it</h2>
<p>As mentioned in my <a href="/posts/2019/05/just-do-it/">starting post</a>, I wanted this to be a fun and learning experience. I am very happy to see that I&rsquo;ve reached all of my goals so far. My greatest concern was that I would get tired of writing (almost) every day. But this has been good practice and writing becomes easier every day.</p>
<h2 id="learnings">Learnings</h2>
<p>Making time for reading an interesting article or trying something out from my to-do list, has been a wonderful achievement experience. Usually those items tend to linger around in lists forever. Now I actually engage in things of personal interest (well, for the most part).</p>
<h2 id="improvements">Improvements</h2>
<p>The thing that bothers me the most is, when I lose focus and just try to accomplish my daily goal to create a new post. The content has little value and writing it lacks fun. Also writing a blog post is a huge time consumer. From the little time I have each night after kids are in bed, I would like to focus more on the actual learnings rather than writing about it.</p>
<p>This is why I want to adjust my <a href="/posts/2019/05/100-days-of-code/">rules</a> in the #100DaysOfBlogging challenge starting today.</p>
<p>Instead of forcing me to blog every day, I want to focus and make time to study, code and learn. My new goal for blogging is to write a blog post once a week. If time and content permits than more often.</p>
<p>To another 75 days!</p>
]]></content>
        </item>
        
        <item>
            <title>Robot Simulator Chapter 2</title>
            <link>https://arueckauer.github.io/posts/2019/06/robot-simulator-chapter-2/</link>
            <pubDate>Sat, 15 Jun 2019 20:57:36 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/robot-simulator-chapter-2/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D24&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;After a mentor left some feedback:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I like that you&amp;rsquo;ve split out the direction and position. I think you can go a bit further though.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I went back to the drawing board. 😊 Seriously, I read the feedback on my mobile and let the thought process do its work. Then I took pen and paper and outlined an improved structure. The result can be found on &lt;a href=&#34;https://github.com/arueckauer/exercism-php/tree/master/robot-simulator&#34;&gt;GitHub&lt;/a&gt;. Where I might upload all my solutions.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D24</em></p>
<hr>
<p>After a mentor left some feedback:</p>
<blockquote>
<p>I like that you&rsquo;ve split out the direction and position. I think you can go a bit further though.</p></blockquote>
<p>I went back to the drawing board. 😊 Seriously, I read the feedback on my mobile and let the thought process do its work. Then I took pen and paper and outlined an improved structure. The result can be found on <a href="https://github.com/arueckauer/exercism-php/tree/master/robot-simulator">GitHub</a>. Where I might upload all my solutions.</p>
<blockquote>
<p>Thanks for the feedback.</p>
<p>I gave it some more thought and came up with the now submitted solution.</p>
<ul>
<li><code>Direction</code> knows current direction and is able to turn either left or right</li>
<li><code>Position</code> is now solely responsible for the movement (depending on given <code>Direction</code>)</li>
<li><code>Robot</code> has a <code>Direction</code> and <code>Position</code> and is able to follow instructions.</li>
</ul>
<p>I thought about implementing a separate <code>Move</code> class. Which would turn the direction and advance the position. That approach would tighten the coupling between classes and add complexity.</p>
<p>Also a <code>Map</code> would IMO only make sense to place n Robots on it.</p>
<p>I&rsquo;m pretty happy with the outcome. One improvement I would add is either making <code>Robot</code> properties private and adding getters and setters or declare type properties. Now it would be possible to mutate them to whatever.</p>
<p>Looking forward to hearing from you.</p></blockquote>
]]></content>
        </item>
        
        <item>
            <title>Robot Simulator</title>
            <link>https://arueckauer.github.io/posts/2019/06/robot-simulator/</link>
            <pubDate>Fri, 14 Jun 2019 21:30:50 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/robot-simulator/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D23&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;p&gt;Today&amp;rsquo;s challenge is to write a robot simulator. A robot is placed on a hypothetical infinite grid phasing either north, east, south or west. It has three possible movements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;turn right,&lt;/li&gt;
&lt;li&gt;turn left and&lt;/li&gt;
&lt;li&gt;advance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A robot can also follow instructions on how to proceed.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;The letter-string &amp;ldquo;RAALAL&amp;rdquo; means:
&lt;ul&gt;
&lt;li&gt;Turn right&lt;/li&gt;
&lt;li&gt;Advance twice&lt;/li&gt;
&lt;li&gt;Turn left&lt;/li&gt;
&lt;li&gt;Advance once&lt;/li&gt;
&lt;li&gt;Turn left yet again&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Say a robot starts at {7, 3} facing north. Then running this stream of instructions should leave it at {9, 4} facing west.&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;roll-up-my-sleeves&#34;&gt;Roll up my sleeves&lt;/h2&gt;
&lt;p&gt;First, I provide a structure that is syntactical correct.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D23</em></p>
<hr>
<h2 id="instructions">Instructions</h2>
<p>Today&rsquo;s challenge is to write a robot simulator. A robot is placed on a hypothetical infinite grid phasing either north, east, south or west. It has three possible movements:</p>
<ul>
<li>turn right,</li>
<li>turn left and</li>
<li>advance.</li>
</ul>
<p>A robot can also follow instructions on how to proceed.</p>
<blockquote>
<ul>
<li>The letter-string &ldquo;RAALAL&rdquo; means:
<ul>
<li>Turn right</li>
<li>Advance twice</li>
<li>Turn left</li>
<li>Advance once</li>
<li>Turn left yet again</li>
</ul>
</li>
<li>Say a robot starts at {7, 3} facing north. Then running this stream of instructions should leave it at {9, 4} facing west.</li>
</ul></blockquote>
<h2 id="roll-up-my-sleeves">Roll up my sleeves</h2>
<p>First, I provide a structure that is syntactical correct.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_NORTH</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;NORTH&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_EAST</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;EAST&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_SOUTH</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SOUTH&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_WEST</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;WEST&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> $position;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> $direction;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __construct(<span style="color:#66d9ef">array</span> $position, <span style="color:#a6e22e">string</span> $direction)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span>  <span style="color:#f92672">=</span> $position;
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> $direction;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnLeft</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnRight</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">advance</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">instructions</span>(<span style="color:#a6e22e">string</span> $path) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Next, I implement the <code>instructions</code> method. It&rsquo;s a command chain where each character is providing a movement instruction. Only three valid commands are available. Everything else will throw an <code>InvalidArgumentException</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">instructions</span>(<span style="color:#a6e22e">string</span> $path) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span> (<span style="color:#a6e22e">str_split</span>($path) <span style="color:#66d9ef">as</span> $direction) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> ($direction) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;L&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;R&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">InvalidArgumentException</span>(<span style="color:#e6db74">&#34;Provided instruction &#39;</span><span style="color:#e6db74">$direction</span><span style="color:#e6db74">&#39; is not supported.&#39;&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The <code>turnLeft</code> method will simply mutate the current direction. <code>turnRight</code> is the same logic in the other direction.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnLeft</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_NORTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_EAST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_SOUTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_WEST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnRight</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_NORTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_EAST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_SOUTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_WEST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="improve-turning-methods-and-direction-constants">Improve turning methods and direction constants</h2>
<p>I&rsquo;m not happy with the look of it. Since the instructions and tests are not specifying the value of the geographic direction, I simplify them as follows.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_NORTH</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_EAST</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_SOUTH</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_WEST</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> $position;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> $direction;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __construct(<span style="color:#66d9ef">array</span> $position, <span style="color:#a6e22e">int</span> $direction)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span>  <span style="color:#f92672">=</span> $position;
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> $direction;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnLeft</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">--</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">0</span> <span style="color:#f92672">===</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>) {
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnRight</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">5</span> <span style="color:#f92672">===</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>) {
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">advance</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">instructions</span>(<span style="color:#a6e22e">string</span> $path) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">foreach</span> (<span style="color:#a6e22e">str_split</span>($path) <span style="color:#66d9ef">as</span> $direction) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">switch</span> ($direction) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;L&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;R&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">InvalidArgumentException</span>(<span style="color:#e6db74">&#34;Provided instruction &#39;</span><span style="color:#e6db74">$direction</span><span style="color:#e6db74">&#39; is not supported.&#39;&#34;</span>);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="advance">Advance</h2>
<p>Now to the last method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">advance</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_NORTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">++</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span>[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_EAST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">++</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span>[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_SOUTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">--</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span>[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span> <span style="color:#a6e22e">DIRECTION_WEST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">--</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span>[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h2 id="splitting-up-into-classes">Splitting up into classes</h2>
<p>I am not happy with how everything is squeezed into the <code>Robot</code> class. I will separate <code>Direction</code> and <code>Position</code> from it.</p>
<h3 id="advance-tests">Advance tests</h3>
<p>First, I adjust the test suite.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">include_once</span> <span style="color:#e6db74">&#39;Direction.php&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">include_once</span> <span style="color:#e6db74">&#39;Position.php&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">include_once</span> <span style="color:#e6db74">&#39;Robot.php&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Exercism\RobotSimulator\Direction</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Exercism\RobotSimulator\Position</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">Exercism\RobotSimulator\Robot</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RobotSimulatorTest</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">PHPUnit\Framework\TestCase</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * A robot is created with a position and a direction
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testCreate</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Robots are created with a position and direction
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>);
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Negative positions are allowed
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>);
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * Rotate the robot&#39;s direction 90 degrees clockwise
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testTurnRight</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from north to east
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from east to south
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from south to west
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from west to north
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Rotate the robot&#39;s direction 90 degrees counterclockwise
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testTurnLeft</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from north to west
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from west to south
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from south to east
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Change the direction from east to north
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * Move the robot forward 1 space in the direction it is pointing
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testAdvance</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Increases the y coordinate by one when facing north
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Decreases the y coordinate by one when facing south
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Increases the x coordinate by one when facing east
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Decreases the x coordinate by one when facing west
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * Where R = Turn Right, L = Turn Left and A = Advance,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * the robot can follow a series of instructions
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * and end up with the correct position and direction
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testInstructions</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Instructions to move west and north
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">instructions</span>(<span style="color:#e6db74">&#39;LAAARALA&#39;</span>);
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">1</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Instructions to move west and south
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">2</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">instructions</span>(<span style="color:#e6db74">&#39;RRAAAAALA&#39;</span>);
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">8</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Instructions to move east and north
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">4</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">instructions</span>(<span style="color:#e6db74">&#39;LAAARRRALLLL&#39;</span>);
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">5</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testMalformedInstructions</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">expectException</span>(<span style="color:#a6e22e">InvalidArgumentException</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">instructions</span>(<span style="color:#e6db74">&#39;LARX&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     * Optional instructions chaining
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testInstructionsChaining</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $robot <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>);
</span></span><span style="display:flex;"><span>        $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>()
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>([<span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">1</span>], $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">toArray</span>());
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">assertEquals</span>(<span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>, $robot<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testMalformedDirectionMinusOne</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">expectException</span>(<span style="color:#a6e22e">InvalidArgumentException</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">testMalformedDirectionFive</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">expectException</span>(<span style="color:#a6e22e">InvalidArgumentException</span><span style="color:#f92672">::</span><span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initRobot</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">initRobot</span>(<span style="color:#66d9ef">array</span> $position, <span style="color:#a6e22e">int</span> $direction) <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Robot</span>(<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Position</span>($position[<span style="color:#ae81ff">0</span>], $position[<span style="color:#ae81ff">1</span>]), <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Direction</span>($direction));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="split-up-classes">Split up classes</h3>
<p>&hellip;and then separate direction and position from <code>Robot</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">Exercism\RobotSimulator</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">InvalidArgumentException</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Direction</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_NORTH</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_EAST</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_SOUTH</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">DIRECTION_WEST</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> $allowableDirections <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">self</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span>,
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> $direction;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __construct(<span style="color:#a6e22e">int</span> $direction)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setDirection</span>($direction);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnLeft</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Direction</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">--</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">0</span> <span style="color:#f92672">===</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>) {
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnRight</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Direction</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">5</span> <span style="color:#f92672">===</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>) {
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getDirection</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setDirection</span>(<span style="color:#a6e22e">int</span> $direction) <span style="color:#f92672">:</span> <span style="color:#a6e22e">Direction</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span> <span style="color:#a6e22e">in_array</span>($direction, <span style="color:#66d9ef">static</span><span style="color:#f92672">::</span>$allowableDirections, <span style="color:#66d9ef">true</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">InvalidArgumentException</span>(<span style="color:#e6db74">&#39;Given direction is not valid.&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> $direction;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">Exercism\RobotSimulator</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Position</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> $x;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> $y;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __construct(<span style="color:#a6e22e">int</span> $x, <span style="color:#a6e22e">int</span> $y)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> $x;
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> $y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">toArray</span>() <span style="color:#f92672">:</span> <span style="color:#66d9ef">array</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">x</span>,
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">y</span>,
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">advanceX</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Position</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">x</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">revertX</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Position</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">--</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">x</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">advanceY</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Position</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">y</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">revertY</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Position</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">--</span>$this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">y</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">Exercism\RobotSimulator</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">use</span> <span style="color:#a6e22e">InvalidArgumentException</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> $position;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> $direction;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __construct(<span style="color:#a6e22e">Position</span> $position, <span style="color:#a6e22e">Direction</span> $direction)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span>  <span style="color:#f92672">=</span> $position;
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span> <span style="color:#f92672">=</span> $direction;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnLeft</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">turnRight</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">advance</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">Robot</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">direction</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">getDirection</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_NORTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advanceY</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_EAST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advanceX</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_SOUTH</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revertY</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Direction</span><span style="color:#f92672">::</span><span style="color:#a6e22e">DIRECTION_WEST</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">position</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">revertX</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">instructions</span>(<span style="color:#a6e22e">string</span> $path) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">foreach</span> (<span style="color:#a6e22e">str_split</span>($path) <span style="color:#66d9ef">as</span> $direction) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">switch</span> ($direction) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;A&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">advance</span>();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;L&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnLeft</span>();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;R&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">turnRight</span>();
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">InvalidArgumentException</span>(<span style="color:#e6db74">&#34;Provided instruction &#39;</span><span style="color:#e6db74">$direction</span><span style="color:#e6db74">&#39; is not supported.&#39;&#34;</span>);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>Tests are passing and the exercise is complete. This looks much cleaner now. There might still be some more improvements to make, but I am ready for a break for now. Looking forward to the mentor&rsquo;s feedback.</p>
]]></content>
        </item>
        
        <item>
            <title>Use return types as much as possible?</title>
            <link>https://arueckauer.github.io/posts/2019/06/use-return-types-as-much-as-possible/</link>
            <pubDate>Thu, 13 Jun 2019 23:42:55 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/use-return-types-as-much-as-possible/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D22&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;A mentor commented on my &lt;a href=&#34;https://arueckauer.github.io/posts/2019/06/grade-school/&#34;&gt;yesterday&amp;rsquo;s solution&lt;/a&gt; to the Grade School exercise.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Good solution&lt;/p&gt;
&lt;p&gt;Awesome! using strict_types&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s approved for me but try to use return types as much as possible, I&amp;rsquo;m missing &lt;strong&gt;initGradeIfItDoesNotExist&lt;/strong&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;This post will reflect some of my personal thoughts. Since the mentor&amp;rsquo;s suggestion could be just some personal preference, I will not name the mentor.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;I am very grateful for each one of them taking time and providing valuable feedback. This has been an awesome experience. And since I am doing these exercises to learn, the caused reflection is what I am looking for. Thank you!&lt;/em&gt;&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D22</em></p>
<hr>
<p>A mentor commented on my <a href="/posts/2019/06/grade-school/">yesterday&rsquo;s solution</a> to the Grade School exercise.</p>
<blockquote>
<p>Good solution</p>
<p>Awesome! using strict_types</p>
<p>It&rsquo;s approved for me but try to use return types as much as possible, I&rsquo;m missing <strong>initGradeIfItDoesNotExist</strong></p></blockquote>
<p><em>This post will reflect some of my personal thoughts. Since the mentor&rsquo;s suggestion could be just some personal preference, I will not name the mentor.</em></p>
<p><em>I am very grateful for each one of them taking time and providing valuable feedback. This has been an awesome experience. And since I am doing these exercises to learn, the caused reflection is what I am looking for. Thank you!</em></p>
<h2 id="reflection">Reflection</h2>
<p>The suggestion to &ldquo;use return types as much as possible&rdquo; made me review my code.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">initGradeIfItDoesNotExist</span>(<span style="color:#a6e22e">int</span> $grade) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span> <span style="color:#a6e22e">isset</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade])) {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade] <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>So first off, <code>initGradeIfItDoesNotExist()</code> has a declared return type. Okay, it is <code>void</code>. And secondly, how could an actual return value improve the method and what should be returned?</p>
<p>A value should only be returned, if it is required. A returned value adds complexity. It is a dependency, to the code invoking the method. And it probably needs some validation, if the returned variable is what is expected.</p>
<p>Since <code>initGradeIfItDoesNotExist()</code> can mutate <code>$this-&gt;students</code>, it could return either that or <code>$this-&gt;students[$grade]</code>. Both variables are an array. The return type could be changed to <code>array</code>. And the caller could possibly check if the returned value is an array of at least <code>0</code> elements. Additionally the <code>if</code> condition could check, if <code>$this-&gt;students[$grade]</code> is set that is is an array. Ending up with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">initGradeIfItDoesNotExist</span>(<span style="color:#a6e22e">int</span> $grade) <span style="color:#f92672">:</span> <span style="color:#66d9ef">array</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span> <span style="color:#a6e22e">isset</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade])
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">||</span> <span style="color:#f92672">!</span> <span style="color:#a6e22e">is_array</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade])
</span></span><span style="display:flex;"><span>    ) {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade] <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Maybe I am missing something here, but that does not make any sense to me.</p>
<p>You have thoughts on that? Happy to hear about it on <a href="https://twitter.com/arueckauer">Twitter</a>.</p>
]]></content>
        </item>
        
        <item>
            <title>Grade School</title>
            <link>https://arueckauer.github.io/posts/2019/06/grade-school/</link>
            <pubDate>Wed, 12 Jun 2019 23:32:10 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/grade-school/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D21&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;This &lt;a href=&#34;https://exercism.io&#34;&gt;Exercism&lt;/a&gt; exercise is straight forward.&lt;/p&gt;
&lt;p&gt;An extract from the instructions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Given students&amp;rsquo; names along with the grade that they are in, create a roster for the school.&lt;/p&gt;
&lt;p&gt;In the end, you should be able to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add a student&amp;rsquo;s name to the roster for a grade&lt;/li&gt;
&lt;li&gt;Get a list of all students enrolled in a grade&lt;/li&gt;
&lt;li&gt;Get a sorted list of all students in all grades. Grades should sort as 1, 2, 3, etc., and students within a grade should be sorted alphabetically by name.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that all our students only have one name. (It&amp;rsquo;s a small town, what do you want?)&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D21</em></p>
<hr>
<p>This <a href="https://exercism.io">Exercism</a> exercise is straight forward.</p>
<p>An extract from the instructions:</p>
<blockquote>
<p>Given students&rsquo; names along with the grade that they are in, create a roster for the school.</p>
<p>In the end, you should be able to:</p>
<ul>
<li>Add a student&rsquo;s name to the roster for a grade</li>
<li>Get a list of all students enrolled in a grade</li>
<li>Get a sorted list of all students in all grades. Grades should sort as 1, 2, 3, etc., and students within a grade should be sorted alphabetically by name.</li>
</ul>
<p>Note that all our students only have one name. (It&rsquo;s a small town, what do you want?)</p></blockquote>
<h2 id="my-solution">My solution</h2>
<p>Although I am not happy with the usage of plain array in PHP, I used them here because of a closed setup where nothing will be added. In a regular project I would implement some custom collection class which checks allows type checking, since <a href="https://wiki.php.net/rfc/generics">Generic Types</a> are not (yet) available in PHP.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">School</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> $students;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">string</span> $name, <span style="color:#a6e22e">int</span> $grade) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initGradeIfItDoesNotExist</span>($grade);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade][] <span style="color:#f92672">=</span> $name;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sort</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">grade</span>(<span style="color:#a6e22e">int</span> $grade) <span style="color:#f92672">:</span> <span style="color:#66d9ef">array</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">initGradeIfItDoesNotExist</span>($grade);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">studentsByGradeAlphabetical</span>() <span style="color:#f92672">:</span> <span style="color:#66d9ef">array</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">asort</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">initGradeIfItDoesNotExist</span>(<span style="color:#a6e22e">int</span> $grade) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span> <span style="color:#a6e22e">isset</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade])) {
</span></span><span style="display:flex;"><span>            $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">students</span>[$grade] <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Meetup (Side Exercise)</title>
            <link>https://arueckauer.github.io/posts/2019/06/meetup-side-exercise/</link>
            <pubDate>Tue, 11 Jun 2019 21:29:52 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/meetup-side-exercise/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D20&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Next up in the PHP sidetrack is the &lt;em&gt;Meetup&lt;/em&gt; exercise.&lt;/p&gt;
&lt;p&gt;A function is provided with the arguments&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(int) year,&lt;/li&gt;
&lt;li&gt;(int) month,&lt;/li&gt;
&lt;li&gt;(string) descriptor and&lt;/li&gt;
&lt;li&gt;(string) weekday&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and expected to process the input and return an instance of &lt;code&gt;DateTime&lt;/code&gt; with the corresponding date.&lt;/p&gt;
&lt;p&gt;While year, month and weekday are an exact representation of their values, the descriptor is a bit more complicated. It can hold one of the following values:&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D20</em></p>
<hr>
<p>Next up in the PHP sidetrack is the <em>Meetup</em> exercise.</p>
<p>A function is provided with the arguments</p>
<ul>
<li>(int) year,</li>
<li>(int) month,</li>
<li>(string) descriptor and</li>
<li>(string) weekday</li>
</ul>
<p>and expected to process the input and return an instance of <code>DateTime</code> with the corresponding date.</p>
<p>While year, month and weekday are an exact representation of their values, the descriptor is a bit more complicated. It can hold one of the following values:</p>
<ul>
<li>teenth,</li>
<li>first,</li>
<li>second,</li>
<li>third,</li>
<li>fourth or</li>
<li>last</li>
</ul>
<p>Thus, making the actual date variable.</p>
<h2 id="function-signature">Function signature</h2>
<p>First, I create the required file <code>meetup.php</code> and declare the function <code>meetup_day()</code> with the known arguments.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">meetup_day</span>(<span style="color:#a6e22e">int</span> $year, <span style="color:#a6e22e">int</span> $month, <span style="color:#a6e22e">string</span> $descriptor, <span style="color:#a6e22e">string</span> $weekday) <span style="color:#f92672">:</span> <span style="color:#a6e22e">DateTime</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">DateTime</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>All tests are failing, but there are no syntax errors - perfect.</p>
<h2 id="year-month-time">Year, month, time</h2>
<p>Breaking this exercise up into pieces, I first comment out all but the first test method. That lets me focus on one feature/requirement at a time.</p>
<p>Since there is only a description of a date and the tests assert always against a time of 0, I can start by initializing a <code>DateTime</code> object and setting the time.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$date <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">DateTime</span>();
</span></span><span style="display:flex;"><span>$date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setTime</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span></code></pre></div><p>Next, I add the year and month. Since <code>DateTime::setDate</code> is expecting also the day as third parameter and do not yet know it, I simply declare it as 1.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setDate</span>($year, $month, <span style="color:#ae81ff">1</span>);
</span></span></code></pre></div><h2 id="modifier">Modifier</h2>
<p>Now I can use <code>DateTime::modify</code> to set the actual date. I start off by just simply using first as modifier.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">modify</span>(<span style="color:#e6db74">&#34;first </span><span style="color:#e6db74">$weekday</span><span style="color:#e6db74"> of this month&#34;</span>);
</span></span></code></pre></div><p>With this implementation, all tests against the first weekday are passing. To handle the other possible values of the descriptor, I first check whether it is equal to <code>'teenth'</code> since I will need to know that later on again. Then I will use <code>'first'</code> as modifier for the <code>'teenth'</code> descriptor. And finally, pass it to the <code>modify()</code> method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$isTeenth <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;teenth&#39;</span> <span style="color:#f92672">===</span> $descriptor;
</span></span><span style="display:flex;"><span>$modifier <span style="color:#f92672">=</span> $isTeenth <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;first&#39;</span> <span style="color:#f92672">:</span> $descriptor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">modify</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">$modifier</span><span style="color:#e6db74"> </span><span style="color:#e6db74">$weekday</span><span style="color:#e6db74"> of this month&#34;</span>);
</span></span></code></pre></div><p>Now all tests are passing except for the descriptors with a value of <code>'teenth'</code>.</p>
<h2 id="teenth">Teenth</h2>
<blockquote>
<p>Note that &ldquo;monteenth&rdquo;, &ldquo;tuesteenth&rdquo;, etc are all made up words. There was a meetup whose members realized that there are exactly 7 numbered days in a month that end in &lsquo;-teenth&rsquo;. Therefore, one is guaranteed that each day of the week (Monday, Tuesday, &hellip;) will have exactly one date that is named with &lsquo;-teenth&rsquo; in every month.</p></blockquote>
<p>From the exercise description I learn that the day of month for the <code>'teenth'</code> descriptor has to be between 13 and 19 inclusive. However, it is not possible to know without doing some math, whether it is the second or third <em>weekday</em> in the month.</p>
<p>The simplest solution that comes to my mind, is to add 1 week to the current date, while the day of the month in not in-between 12 and 20.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">modify_teenth_date</span>(<span style="color:#a6e22e">DateTime</span> $date) <span style="color:#f92672">:</span> <span style="color:#a6e22e">DateTime</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $teenthDays <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;13&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;14&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;15&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;16&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;17&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;18&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;19&#39;</span>,
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span> <span style="color:#a6e22e">in_array</span>($date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;d&#39;</span>), $teenthDays, <span style="color:#66d9ef">true</span>)) {
</span></span><span style="display:flex;"><span>        $date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">modify</span>(<span style="color:#e6db74">&#39;+1 week&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $date;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Et voilà, all tests are passing.</p>
<h2 id="my-solution">My solution</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">meetup_day</span>(<span style="color:#a6e22e">int</span> $year, <span style="color:#a6e22e">int</span> $month, <span style="color:#a6e22e">string</span> $descriptor, <span style="color:#a6e22e">string</span> $weekday) <span style="color:#f92672">:</span> <span style="color:#a6e22e">DateTime</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $isTeenth <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;teenth&#39;</span> <span style="color:#f92672">===</span> $descriptor;
</span></span><span style="display:flex;"><span>    $modifier <span style="color:#f92672">=</span> $isTeenth <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;first&#39;</span> <span style="color:#f92672">:</span> $descriptor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    $date <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">DateTime</span>();
</span></span><span style="display:flex;"><span>    $date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setDate</span>($year, $month, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    $date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">modify</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">$modifier</span><span style="color:#e6db74"> </span><span style="color:#e6db74">$weekday</span><span style="color:#e6db74"> of this month&#34;</span>);
</span></span><span style="display:flex;"><span>    $date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setTime</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ($isTeenth) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">modify_teenth_date</span>($date);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $date;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">modify_teenth_date</span>(<span style="color:#a6e22e">DateTime</span> $date) <span style="color:#f92672">:</span> <span style="color:#a6e22e">DateTime</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $teenthDays <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;13&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;14&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;15&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;16&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;17&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;18&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;19&#39;</span>,
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span> <span style="color:#a6e22e">in_array</span>($date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;d&#39;</span>), $teenthDays, <span style="color:#66d9ef">true</span>)) {
</span></span><span style="display:flex;"><span>        $date<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">modify</span>(<span style="color:#e6db74">&#39;+1 week&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $date;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Sieve of Eratosthenes (Side Exercise)</title>
            <link>https://arueckauer.github.io/posts/2019/06/sieve-of-eratosthenes-side-exercise/</link>
            <pubDate>Mon, 10 Jun 2019 21:31:48 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/sieve-of-eratosthenes-side-exercise/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D19&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Today I am solving the Sieve of Eratosthenes side exercise of the &lt;a href=&#34;https://exercism.io&#34;&gt;Exercism&lt;/a&gt; PHP track.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In mathematics, the Sieve of Eratosthenes is a simple, ancient algorithm for finding all prime numbers up to any given limit.
It does so by iteratively marking as composite (i.e., not prime) the multiples of each prime, starting with the first prime number, 2. The multiples of a given prime are generated as a sequence of numbers starting from that prime, with constant difference between them that is equal to that prime. This is the sieve&amp;rsquo;s key distinction from using trial division to sequentially test each candidate number for divisibility by each prime.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D19</em></p>
<hr>
<p>Today I am solving the Sieve of Eratosthenes side exercise of the <a href="https://exercism.io">Exercism</a> PHP track.</p>
<blockquote>
<p>In mathematics, the Sieve of Eratosthenes is a simple, ancient algorithm for finding all prime numbers up to any given limit.
It does so by iteratively marking as composite (i.e., not prime) the multiples of each prime, starting with the first prime number, 2. The multiples of a given prime are generated as a sequence of numbers starting from that prime, with constant difference between them that is equal to that prime. This is the sieve&rsquo;s key distinction from using trial division to sequentially test each candidate number for divisibility by each prime.</p></blockquote>
<p>See <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes</a>.</p>
<h2 id="my-solution">My solution</h2>
<p>The algorithm is straight forward. There are two exceptions to a default behavior.</p>
<ol>
<li>If the limit is less than 2, an empty array can be returned.</li>
<li>When removing multiples of a prime from an array, make sure to not remove the prime itself.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sieve</span>(<span style="color:#a6e22e">int</span> $limit) <span style="color:#f92672">:</span> <span style="color:#66d9ef">array</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ($limit <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    $prime <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    $range <span style="color:#f92672">=</span> <span style="color:#a6e22e">range</span>($prime, $limit);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (; $prime <span style="color:#f92672">&lt;=</span> $limit; $prime<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">removeMultiplesFromRange</span>($prime, $range);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">array_values</span>($range);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">removeMultiplesFromRange</span>(<span style="color:#a6e22e">int</span> $prime, <span style="color:#66d9ef">array</span> <span style="color:#f92672">&amp;</span>$range) <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span> ($range <span style="color:#66d9ef">as</span> $key <span style="color:#f92672">=&gt;</span> $value) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($prime <span style="color:#f92672">===</span> $value) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">0</span> <span style="color:#f92672">===</span> $value <span style="color:#f92672">%</span> $prime) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">unset</span>($range[$key]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>120(ish) HTML Elements</title>
            <link>https://arueckauer.github.io/posts/2019/06/120ish-html-elements/</link>
            <pubDate>Sat, 08 Jun 2019 20:32:34 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/120ish-html-elements/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D18&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/brucel&#34;&gt;Bruce Lawson&lt;/a&gt; gave an outstanding keynote called &lt;a href=&#34;https://phpconference.com/web-development/how-to-make-loveliness-an-html-treasure-hunt/&#34;&gt;How to make Loveliness: an HTML Treasure Hunt&lt;/a&gt; at the IPC 2019.&lt;/p&gt;
&lt;p&gt;He shared that &lt;a href=&#34;https://speakerdeck.com/brucel/webinale-berlin-4-june-2019?slide=75&#34;&gt;most 2-year-olds can say about 100 words&lt;/a&gt; and with 2 ½ years they know close to 300 words.&lt;/p&gt;
&lt;p&gt;One of his challenges was to&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Learn the semantics of HTML. There are 120(ish) elements, that&amp;rsquo;s all!&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Bruce let us know that using HTML (and CSS) wherever possible, will be&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D18</em></p>
<hr>
<p><a href="https://twitter.com/brucel">Bruce Lawson</a> gave an outstanding keynote called <a href="https://phpconference.com/web-development/how-to-make-loveliness-an-html-treasure-hunt/">How to make Loveliness: an HTML Treasure Hunt</a> at the IPC 2019.</p>
<p>He shared that <a href="https://speakerdeck.com/brucel/webinale-berlin-4-june-2019?slide=75">most 2-year-olds can say about 100 words</a> and with 2 ½ years they know close to 300 words.</p>
<p>One of his challenges was to</p>
<blockquote>
<p>Learn the semantics of HTML. There are 120(ish) elements, that&rsquo;s all!</p></blockquote>
<p>Bruce let us know that using HTML (and CSS) wherever possible, will be</p>
<blockquote>
<ul>
<li>more performant</li>
<li>more accessible</li>
<li>more robust</li>
<li>less code to write</li>
<li>less code to test</li>
<li>more time in the pub / playing CoD / seeing our kids</li>
</ul></blockquote>
<p>Well, if that is not motivation enough, I don&rsquo;t know what is. 😄</p>
<h2 id="challenge-accepted">Challenge accepted</h2>
<p>Today I am reading through the HTML elements, provided by the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element">Mozilla Developer</a> site.</p>
<p>While most elements seem familiar, there are some I&rsquo;ve never heard of and would read what they could be useful for. For example, <code>&lt;hgroup&gt;</code> as well as many inline text semantics elements or image and multimedia and embedded content elements.</p>
<p>It was surprising to me to see that there is a purpose for both <code>&lt;i&gt;</code> and <code>&lt;em&gt;</code> as well as <code>&lt;b&gt;</code> and <code>&lt;strong&gt;</code>. Back in the day I thought the new elements were deprecating the older ones. That&rsquo;s not true. Today I learned that</p>
<blockquote>
<p>Their new use is to semantically represent styles (or intended presentation), whereas <code>&lt;strong&gt;</code> and <code>&lt;em&gt;</code> represent structure.</p></blockquote>
<p>See <a href="https://stackoverflow.com/questions/271743/whats-the-difference-between-b-and-strong-i-and-em#comment8254050_271776">comment</a> by Natan Yellin.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This was a great exercise which I need to repeat.</p>
<h2 id="further-readings">Further readings</h2>
<ul>
<li><a href="https://stellify.net/html5-b-and-i-tags-are-going-to-be-useful-read-semantic-again/">https://stellify.net/html5-b-and-i-tags-are-going-to-be-useful-read-semantic-again/</a></li>
<li><a href="https://www.w3.org/International/questions/qa-b-and-i-tags">https://www.w3.org/International/questions/qa-b-and-i-tags</a></li>
<li><a href="https://dev.w3.org/html5/spec-author-view/the-i-element.html#the-i-element">https://dev.w3.org/html5/spec-author-view/the-i-element.html#the-i-element</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>To JWT or not to JWT</title>
            <link>https://arueckauer.github.io/posts/2019/06/to-jwt-or-not-to-jwt/</link>
            <pubDate>Fri, 07 Jun 2019 19:34:43 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/to-jwt-or-not-to-jwt/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D17&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;At the IPC 2019 Authentication and Authorization was one of the two most interesting topics (event sourcing being the second). Sessions were comparing the usage of traditional authentication with the usage of JWT, maybe the future technology WebAuthn requiring no passwords for registration or login processes, using an identity provider instead of implementing our own processes over and over again, and not so quite common applications of web tokens - like physically opening doors.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D17</em></p>
<hr>
<p>At the IPC 2019 Authentication and Authorization was one of the two most interesting topics (event sourcing being the second). Sessions were comparing the usage of traditional authentication with the usage of JWT, maybe the future technology WebAuthn requiring no passwords for registration or login processes, using an identity provider instead of implementing our own processes over and over again, and not so quite common applications of web tokens - like physically opening doors.</p>
<ul>
<li><a href="https://phpconference.com/performance-security/knock-knock-whos-there-authenticating-your-single-page-apps-using-json-web-tokens/">Knock knock, who’s there? Authenticating your Single Page Apps using JSON Web Tokens</a> by <a href="https://twitter.com/sambego">Sam Bellen</a></li>
<li><a href="https://phpconference.com/php-development/the-future-of-authentication-webauthn-with-php/">The Future of Authentication – WebAuthn with PHP</a> by <a href="https://twitter.com/arneblankerts">Arne Blankerts</a></li>
<li><a href="https://phpconference.com/performance-security/why-you-shouldnt-care-about-security/">Why you shouldn’t care about Security</a> by <a href="https://twitter.com/bendechrai">Ben Dechrai</a></li>
<li><a href="https://phpconference.com/performance-security/opening-doors-with-json-web-tokens/">Opening Doors with JSON Web Tokens</a> by <a href="https://twitter.com/bendechrai">Ben Dechrai</a></li>
</ul>
<h2 id="jwt---just-a-hype">JWT - just a hype?</h2>
<p>Today <a href="https://twitter.com/lyrixx">Gregoire Pineau</a> published an article <em><a href="https://jolicode.com/blog/why-you-dont-need-jwt">Why you don’t need JWT</a></em>, in which he basically declares JWT as hype and says Basic Auth provides a simpler solution to the same problem (in most scenarios).</p>
<blockquote>
<p>But most of the time, you don’t need JWT, and your project will be simpler if you can resist to hype by refusing to use it.</p></blockquote>
<h2 id="jwt-adds-complexity">JWT adds complexity</h2>
<p>Now, JWT is not something trivial. The process, purpose and usage of JWT, JWS, JWE as well as access tokens and refresh tokens take some time to grasp. Probably this complexity is why JWT is so often misused - one of the reasons which is used against the usage of JWT.</p>
<p>Gregoire lists in his post the following complexity points:</p>
<ul>
<li>Usage of private and public key.
<blockquote>
<p>Like all other secrets, it’s always hard to keep them really secret.</p></blockquote>
</li>
<li>No revocation of valid tokens, adding the need of e.g. white-/blacklisting.</li>
<li>Short validity requires reconnect via refresh tokens.</li>
<li>No native JWT implementation in Symfony.</li>
</ul>
<h2 id="alternatives">Alternatives</h2>
<p>In his post, Gregoire demoes an alternative solution by putting HTTP basic auth to work. In Symfony this can be done without any external dependencies. Another solution could be <a href="https://paseto.io/">PASETO (Platform-Agnostic Security Tokens)</a>.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The article and <a href="https://paragonie.com/blog/2017/03/jwt-json-web-tokens-is-bad-standard-that-everyone-should-avoid">security issues</a> make valid points on why to avoid JWT. I have to do some further reading, to fully understand whether the flaw is really in the design or implementation of JWT. What impresses me about JWT is a self-validating token and user storage which could make accessing the user database unnecessary in many scenarios.</p>
]]></content>
        </item>
        
        <item>
            <title>IPC 2019: Day Three</title>
            <link>https://arueckauer.github.io/posts/2019/06/ipc-2019-day-three/</link>
            <pubDate>Thu, 06 Jun 2019 20:49:38 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/ipc-2019-day-three/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D16&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;pragmatic-queue-processing-at-scale&#34;&gt;Pragmatic Queue Processing at Scale&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;By &lt;a href=&#34;https://twitter.com/arneblankerts&#34;&gt;Arne Blankerts&lt;/a&gt;, Principal Consultant at thePHP.cc and &lt;a href=&#34;https://twitter.com/belanur&#34;&gt;Sebastian Heuer&lt;/a&gt;, Developer Advocate at kartenmacherei.de&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Arne and Sebastian deliver messages from real world problems they tackled together. It&amp;rsquo;s not the first presentation of the duo. These sessions belong to the highlights of the conference (Casino night is still #1 😋). The talk gave a wonderful narrative overview of queue pressing, further readings of what might be of interest as well as learnings from their experience. It&amp;rsquo;s always worthwhile to attend.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D16</em></p>
<hr>
<h2 id="pragmatic-queue-processing-at-scale">Pragmatic Queue Processing at Scale</h2>
<p><em>By <a href="https://twitter.com/arneblankerts">Arne Blankerts</a>, Principal Consultant at thePHP.cc and <a href="https://twitter.com/belanur">Sebastian Heuer</a>, Developer Advocate at kartenmacherei.de</em></p>
<p>Arne and Sebastian deliver messages from real world problems they tackled together. It&rsquo;s not the first presentation of the duo. These sessions belong to the highlights of the conference (Casino night is still #1 😋). The talk gave a wonderful narrative overview of queue pressing, further readings of what might be of interest as well as learnings from their experience. It&rsquo;s always worthwhile to attend.</p>
<p>They showed how queue processing can improve performance on legacy applications without the need to refactor or rewrite the whole code base.</p>
<blockquote>
<p>Start with the simplest thing that could possibly work</p></blockquote>
<p>Instead of implementing the latest hype of technology, look at the stack you already have. If MySQL is part of your stack, that is okay for events. Though it will not scale infinitely. Take/chose a pragmatic path.</p>
<p>Scaling &amp; Concurrency</p>
<ul>
<li><a href="https://reactphp.org/">ReactPHP</a> for async I/O usage,</li>
<li><a href="https://www.php.net/manual/en/book.pthreads.php">PThreads</a> - do not use it [in production|at all],</li>
<li><a href="https://www.php.net/manual/en/book.parallel.php">Parallel</a></li>
</ul>
<p>Threading</p>
<ul>
<li>PHP with ZTS (Zend thread safety)</li>
<li>FPM</li>
</ul>
<p>Can PHP talk FastCGI?</p>
<p>The Event Listener starts a handler in its own FPM process. By using <a href="https://github.com/hollodotme/fast-cgi-client">FastCGI client</a>. You can even scale to multiple FPM servers.</p>
<p>FPM Pool configuration. Sequential processing of events. Controlled shutdown by <a href="https://www.php.net/manual/en/ref.pcntl.php">signal handling</a> (better than manually killing processes and ending up in an unknown state if handler has not finished).</p>
<h2 id="do-php-frameworks-still-make-sense-lets-go-frameworkless-to-focus-on-the-domain">Do PHP Frameworks still make Sense? Let’s go Frameworkless to focus on the Domain!</h2>
<p>By <a href="https://twitter.com/damiano_dev">Damiano Petrungaro</a></p>
<p>Damiano proved in this talk his expertise on the topic of framworkless and DDD.</p>
<p>In the beginning he described the importance of frameworks, like:</p>
<ul>
<li>Pushing for innovation</li>
<li>Not reinventing the wheel</li>
<li>Defining new standards</li>
<li>Eases start for newcomers</li>
</ul>
<blockquote>
<p>It&rsquo;s all about dependency
Framework = Dependency</p></blockquote>
<p>He gave a short introduction to frameworkless and the <a href="http://frameworklessmovement.org/">Frameworkless Movement</a>, also explained that Dependencies are bad and how to avoid them.</p>
<p>The last part of his talk covered DDD, strategic and tactical design.</p>
<blockquote>
<p>The domain is not a dependency! It enforces us to model the domain first and then adapts the framework to it.</p></blockquote>
<p>As a conclusion, I take from this talk: <em>Adapt the framework to your domain and not your domain to the framework.</em></p>
<h2 id="migrating-with-a-metal-background">Migrating, with a Metal Background</h2>
<p><em>By <a href="https://twitter.com/johannhartmann">Johann-Peter Hartmann</a>, found and CTO of Mayflower GmbH</em></p>
<p>With <em>metal</em> Johann-Peter is referring to the on-premise server back in the days, when our monolith applications were running on them. We were taken care of everything by ourselves.</p>
<p>In his talk he showed possible options when moving to the cloud - rehosting aka &ldquo;lift and shift&rdquo;. His presentation proved him as a competent speaker on the matter with a broad knowledge. In the following, just some very few notes from his talk.</p>
<ul>
<li>Scaling, reliability up. Operational costs down.</li>
</ul>
<blockquote>
<p>It&rsquo;s 10 % cheaper than on premise</p></blockquote>
<p><em>Amazon</em></p>
<blockquote>
<p>85 % of the time it&rsquo;s more expensive than on premise.</p></blockquote>
<p><em>Dell</em></p>
<p>Downside of serverless: Application lock-in. Platform-specific function is not as easy to move to another platform as running plain PHP on various environments.</p>
<p>Razor &amp; Blades Model (cheap razor, expensive blades. cheap printer, expensive ink)
Lambda is chap, but the APIGateway is expensive.</p>
<blockquote>
<p>Average lifetime of a container in orchestrated environments: 12 hours</p></blockquote>
<p>Ephemeral containers. Everything is temporary. Start it, stop it, destroy it, replicate it, replace it, scale it.</p>
<blockquote>
<p>If you have a container that is active when it is not handling data, it is a server.</p></blockquote>
<p>Great definition of what microservices really are.</p>
<blockquote>
<p>Move complexity to places where you can automate it.</p></blockquote>
<blockquote>
<p>External services are the new silo
Kubernetes is the new OS</p></blockquote>
<h2 id="web-with-sense-how-to-build-a-start-up-that-is-not-only-profitable-but-also-improves-the-world">Web with Sense: How to build a Start-up that is not only profitable, but also improves the World</h2>
<p><em>By Christian Kroll, founder of Ecosia</em></p>
<p>Christian is a self-less person, who started an initiative that might play a major role in stopping the climate change. With the revenue of his search engine <a href="https://www.ecosia.org/">Ecosia</a> he plants trees. The company has already planted nearly 60 million trees.</p>
<blockquote>
<p>You cannot solve the climate change without planting trees. But you can solve it by planting 1 trillion trees.</p></blockquote>
<p>A tree &ldquo;recycles&rdquo; ~50 kg of CO2 during its lifetime. The earth has currently a capacity for ~1.2 trillion trees. It would take 1 % of military budget for the next 20 years to plant 1 trillion trees.</p>
<p>4 years after launch, Ecosia planted their one millionth tree. Until then 80 % of revenue went into tree planting. Then they changed the business model and are now giving away 100 % of their revenue.</p>
<blockquote>
<p>For the sake of profit, we are destroying our planet.</p></blockquote>
<p>Christian is passionate about the climate change and sharing this compassion. He challenged the audience to (1) contemplate what personal changes can be made to contribute to a positive change and (2) share those ideas with the person you sit next to. What a great exercise! I want to purchase vegetables and fruits from local producers where possible.</p>
<p>A fun fact: Ecosia has a TPO - Tree plant officer! 😃</p>
<blockquote>
<p>Sometimes I do use Google, but don&rsquo;t tell anyone</p></blockquote>
<p><a href="https://twitter.com/Christian_KrolI">Twitter</a></p>
<h2 id="opening-doors-with-json-web-tokens">Opening Doors with JSON Web Tokens</h2>
<p><em>By <a href="https://twitter.com/bendechrai">Ben Dechrai</a>, Technologist, Presenter, <a href="https://auth0.com">Auth0</a> Developer Evangelist, Community Advocate</em></p>
<p>Ben gave an interesting presentation on a rather unusual way to use JSON Web Tokens: Opening doors. He elaborated on the Amazon Key Vulnerability. He then demoed the usage of JSON Web Tokens as a safer way which also prevents such attacks. I did not take much notes, but really enjoyed the demo. Thank you for even bringing a door all the way from Australia.</p>
<h2 id="branching-strategies-choose-wisely-to-minimize-costs">Branching Strategies: choose wisely to minimize Costs</h2>
<p><em>By <a href="https://twitter.com/gbtekkie">Georgiana Gligor</a>, Large-Scale Application Architect. Public Speaker. PhD Student.</em></p>
<p>Georgiana made extensive research on Branching Strategies. In this talk she presents her learnings with the audience, so they can</p>
<blockquote>
<p>Choose wisely to minimize costs.</p></blockquote>
<p>She gave a reading recommendation and an analogy on the book from HBR&rsquo;s 10 must read: On Change Management. Because our code basis is about change management.</p>
<p>In this presentation she did not provide a ready-to-use recipe for any situation, rather aimed for:</p>
<ul>
<li>a framework to make informed decisions,</li>
<li>highlight costs and</li>
<li>where to look when one needs help.</li>
</ul>
<p>She continued on talking about various VCS, their current approximate usage. And gave a recommendation to use git, because &ldquo;it is the best&rdquo;.</p>
<blockquote>
<p>It’s not like git got everything right, but it got all the really basic issues right in a way that no other SCM had ever done before.</p></blockquote>
<p><em>Linus Torvalds</em></p>
<p>She is referring to feature branches as topic branches, as it is more suitable in her opinion.</p>
<p>The Merge Workflow generates more noise in the history than the Rebase Workflow.</p>
<p>She compared stable trunk aka trunk-based development with unstable trunk. The latter making usage of release branches.</p>
<p>Strategies</p>
<ul>
<li>Lone wolf (one person working for a long period)</li>
<li>Git flow (high noise due to many branches) perfect in environments where clear rules are required</li>
<li>GitHub flow (stable trunk, pull requests with signoffs/approvals) great when deploying often (like daily)</li>
<li>simple git flow</li>
<li>workflow for agile teams (master as next release, qa branch for releasing)</li>
<li>Gitlab flow (master as next release, staging, production, 2-3 stable, cherry picking) agile approach</li>
<li>Gitworkflows (last stable release, next release, integration testbed, proposed updates, topic branches)</li>
</ul>
<blockquote>
<p>Men have become the tools of their tools</p></blockquote>
<p>Henry David Thoreau</p>
<blockquote>
<p>Don&rsquo;t become dependent on your tools.</p></blockquote>
<p>Because tools are there to help, not to block from being productive. They are just tools.</p>
]]></content>
        </item>
        
        <item>
            <title>IPC 2019: Day Two</title>
            <link>https://arueckauer.github.io/posts/2019/06/ipc-2019-day-two/</link>
            <pubDate>Wed, 05 Jun 2019 21:32:35 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/ipc-2019-day-two/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D15&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I have to say that I am surprised by the overall high-quality sessions. This is one of the best conferences I attended. Thanks to all the speakers and their effort and time they put into preparation. You rock!&lt;/p&gt;
&lt;h2 id=&#34;modern-sql-evolution-of-a-dinosaur&#34;&gt;Modern SQL: Evolution of a Dinosaur&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;By &lt;a href=&#34;https://twitter.com/MarkusWinand&#34;&gt;Markus Winand&lt;/a&gt;, &amp;ldquo;SQL renaissance ambassador&amp;rdquo;, independent author, trainer, and consultant on all things SQL&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It was a bliss listening to Markus share his expertise on SQL. The session was absolutely interesting and informative.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D15</em></p>
<hr>
<p>I have to say that I am surprised by the overall high-quality sessions. This is one of the best conferences I attended. Thanks to all the speakers and their effort and time they put into preparation. You rock!</p>
<h2 id="modern-sql-evolution-of-a-dinosaur">Modern SQL: Evolution of a Dinosaur</h2>
<p><em>By <a href="https://twitter.com/MarkusWinand">Markus Winand</a>, &ldquo;SQL renaissance ambassador&rdquo;, independent author, trainer, and consultant on all things SQL</em></p>
<p>It was a bliss listening to Markus share his expertise on SQL. The session was absolutely interesting and informative.</p>
<p>He started off by asking the rhetorical question</p>
<blockquote>
<p>Still Using Windows 3.1? So why stick to SQL-92?</p></blockquote>
<p>During the next 45 minutes he spoke about the various standards, which features were introduced, and the current state of which databases are supporting said features. He made it more than clear, that if one is still using MySQL 5, it is time to update to MySQL 8.</p>
<p>I was able to take notes of only a fraction of the session. If you get a chance to attend one of his talks, make sure you don&rsquo;t miss it!</p>
<p><strong>SQL:1999</strong></p>
<p>In 1999 recursive queries were added, which allows transitive closures like in child-parent-relations.
GROUPING SETS</p>
<p><strong>SQL:2003</strong></p>
<p>An important function was added: Windows Function aka the over clause.</p>
<blockquote>
<p>If you have SQL on you CV, but don&rsquo;t know Window Function, you need to cross it out. But you can add it again in 10 min, because I will teach it now!</p></blockquote>
<p>What a great guy. 😂</p>
<p><strong>SQL:2011</strong></p>
<blockquote>
<p>If you&rsquo;re using OFFSET for pagination, you&rsquo;re doing it wrong. It gives you the wrong result and is slow.</p></blockquote>
<p>Read more about it <a href="https://use-the-index-luke.com/no-offset">here</a>.</p>
<p>SQL:2011 introduces System Versioning, basically time traveling for data storage. <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> are <code>DESTRUCTIVE</code>. Tables can be system versioned, application versioned or both.</p>
<p>System versioning</p>
<ul>
<li>Keeps track of changes as these are learned (sets timestamp for when change is known).</li>
<li>Validation columns updated by system.</li>
</ul>
<p>Application versioning</p>
<ul>
<li>Keeps track of changes when they actually happened (actual timestamp of when the change occurred).</li>
<li>Validation columns updated by application.</li>
</ul>
<p><strong>SQL:2016</strong></p>
<p><code>JSON_TABLE</code> allows consumption of JSON strings in SQL and can serve as a bridge between NoSQL and relational databases.</p>
<p><strong>Conclusion</strong></p>
<p>SQL has evolved beyond the relational idea; SQL has broken out of the relational cage.</p>
<blockquote>
<p>If you use SQL for CRUD operations only, you are doing it wrong.</p></blockquote>
<p>SQL was not designed to be a simple data store (row-by-row processing). You should collect all the data on the database, transform it into a form which is more useful and return it.</p>
<p>Further reading</p>
<ul>
<li><a href="https://modern-sql.com/">https://modern-sql.com/</a></li>
<li><a href="https://use-the-index-luke.com/">https://use-the-index-luke.com/</a></li>
</ul>
<h2 id="introduction-to-architectural-katas">Introduction to Architectural Katas</h2>
<p><em>By <a href="https://twitter.com/FrankS">Frank Sons</a>, a freelancing developer and consultant for agile software and code quality</em></p>
<p>Architectural Katas can bridge the gap between requirements and technical implementation.</p>
<blockquote>
<p>The software architecture are those decisions, that are hard to change.</p></blockquote>
<p><em>Martin Fowler</em></p>
<blockquote>
<p>The greatest teacher, failure is</p></blockquote>
<p>Since we can learn so much from failure, how could we fail more often.</p>
<blockquote>
<p>A kata is an exercise in karate where you repeat a form many, many times, making little improvements in each.</p></blockquote>
<p><em><a href="http://codekata.com/">Codekata.com</a></em></p>
<p>Code kata are very simple problems, which can be solved in 20 minutes to 1 hour. It helps training to look at solutions from other perspective on each iteration.</p>
<p>Basic idea</p>
<ul>
<li>Manageable in size and duration</li>
<li>Make mistakes, fail and gain experience</li>
<li>Get feedback in a group</li>
</ul>
<p>You put yourself in a situation, where you need to be prepared to fail. And take failing as a learning experience.</p>
<p>Two scenarios</p>
<ul>
<li>3 to 5 people in group (optimal being 3, since all are involved and challenged, allowing a lot of discussion)</li>
<li>4 to 10 groups vs max 3 groups (depending on available mentors)</li>
<li>Different Projects / Kata vs Same Project / Kata for each group (the latter allowing collaboration and discussion afterwards)</li>
</ul>
<p>How does it work?</p>
<p>Introduction &gt; Planning &gt; Presentation &gt; Feedback</p>
<p>Rules</p>
<p>The goal is not to come up with a concrete solution. The goal is to come up with a rough architectural vision of the project and defend questions about it. So, it is crucial to gain a common understanding of defined requirements. Assumptions about technologies have to be clearly defined and spelled out. You may not assume you have hiring/firing authority over the development team (sizing up the team to meet deadline) (what a bummer 😂). Any technology is fair game (but you must justify its use). Any other rules you may ask about.</p>
<p>If you ask a customer whether they want to a feature, the answer usually will be &ldquo;Yes&rdquo;. Your duty is to communicate the impact on the timeline and costs. The business decision is the customer&rsquo;s responsible.</p>
<p>How do I get from unclear requirements to an architectural structure?</p>
<p>Instead of rewriting specs in own words, use a structured language. As a communication tool, UML is fantastic.</p>
<ul>
<li>define user roles</li>
<li>define use cases</li>
<li>&hellip;</li>
</ul>
<p>The first version won&rsquo;t be good.</p>
<blockquote>
<p>Plan to throw one away</p></blockquote>
<p>Frederick P. Brooks - Mythical Man Month</p>
<p>Rapid Prototyping</p>
<p>What about iterating throwing away versions - throwing away the first three or four versions. Or iterate parts of the draft that don&rsquo;t work.</p>
<p>Work on a whiteboard. It makes easy to wipe things away. Flipcharts is the perfect example of what happens when you implement code. Once implemented it is very hard to erase or change.</p>
<p>Container diagram or <a href="https://c4model.com/">C4 Model</a>.</p>
<p>UML can be very confusing, C4 only uses the most four important. Makes usage easy and lets you focus on designing.</p>
<h2 id="why-you-shouldnt-care-about-security">Why you shouldn’t care about Security</h2>
<p><em>By <a href="https://twitter.com/bendechrai">Ben Dechrai</a>, Technologist, Presenter, <a href="https://auth0.com">Auth0</a> Developer Evangelist, Community Advocate</em></p>
<p>Ben&rsquo;s sessions are always fun to attend. He is an experienced speaker who quickly informs about all necessary details and also shows a great live demo bridging the gap between theory and practical use (at least the sessions I attended so far).</p>
<p>Traditional authentication and authorization can become complex quickly, especially when scaling.</p>
<p>As we don&rsquo;t implement our own payment service, but use a provider, we should not implement our own authentication mechanism, but use an identity provider for login process as user storage.</p>
<p>Live demo application of creating a PHP web application adding Auth0 as identity provider.</p>
<p>First impression: Very well documented, simple to implement, ready-to-go.</p>
<ul>
<li><a href="https://auth0.com/">Auth0</a></li>
<li><a href="https://github.com/auth0/auth0-PHP">auth0/auth0-PHP</a></li>
</ul>
<h2 id="php-to-hack-an-incrementally-typed-adventure-at-slack">PHP to Hack, an incrementally typed Adventure at Slack</h2>
<p><em>By Scott Sandler, a Senior Staff Engineer at <a href="https://slack.com">Slack</a></em></p>
<p>Awesome talk with Slack&rsquo;s journey on migrating from PHP to Hack. There was so much information, I could only take notes on a few thoughts. I definitely recommend viewing the slides.</p>
<ul>
<li>We came to Hack for performance but stayed for type safety.</li>
<li>hh_client Type Checker</li>
<li>Hack will drop PHP support</li>
<li>Inferred Union Types</li>
<li>Generics: Array, Hack Arrays, Shapes</li>
<li>Shapes allow type definitions of arrays with mixed values - But why not use a class instead?</li>
<li>Type refinement knows that a key is present within an if condition where you check Shapes::keyExists</li>
<li>Hack standard library improves standard functions.</li>
<li>Hack Pipeline with HSL</li>
<li>Type Checked Regex</li>
<li>XHP: Type safe HTML.</li>
<li>Greatest task in migrations: Type safety</li>
<li>You lose vendor libraries (incompatible to composer (PHP) packages)!!</li>
<li>Instead of performance measures etc. internal survey on how developers feel about the code base. Large majority confirmed it improves, because type checks help understand what the code is doing.</li>
</ul>
<p><a href="https://www.slideshare.net/ScottSandler1/php-to-hack-at-slack">Slides</a>
<a href="https://twitter.com/scott_sandler">Twitter</a></p>
<h2 id="getting-started-with-php-on-aws-lambda">Getting started with PHP on AWS Lambda</h2>
<p><em>By Thomas Bley, Senior PHP Developer at <a href="https://www.bringmeister.de/">Bringmeister</a></em></p>
<p>I&rsquo;m new to AWS, so I tried following as much as I could. Thomas made a great and thorough job explaining each step to setup lambda functions on AWS. It looks very promising and interesting for the following use cases.</p>
<ul>
<li>cronjobs (don&rsquo;t pay for idle time)</li>
<li>websites with unknown traffic spikes (tv advertising)</li>
<li>event based workers (Kinesis, SQS, S3, etc.)</li>
<li>event based backend tasks (images resizing, creating PDFs, sending e-mails, etc.)</li>
<li>integration with database event, e.g. RDS Aurora</li>
</ul>
<p><a href="https://github.com/thomasbley/php-lambda">Slides</a></p>
<h2 id="in-fünf-jahren-wird-es-keine-tester-mehr-geben">In fünf Jahren wird es keine Tester mehr geben</h2>
<p><em>By <a href="https://twitter.com/phphatesme">Nils Langner</a>, Founder and CTO of <a href="https://www.leankoala.com">Leankoala</a> // Rethink Web Testing</em></p>
<p>In five years, there will be no more testers.</p>
<p>I remember Nils from his successful blog phphatesme, which later became <a href="https://www.thewebhatesme.com">the web hates me</a>. It used to be the most successful PHP blog in Germany. I liked it for the thought-provoking articles and excellent exchange among visitors.</p>
<p>Although the title is not meant (absolutely) seriously, again Nils delivers a message that encourages to reflect on common opinions and to exchange views on testing.</p>
<p>During his presentation he touched upon 10 reasons that could make testers (almost) obsolete. The following are just my notes and not necessarily a true representation of what Nils delivered.</p>
<ul>
<li>It is a boring job. Fewer and fewer developers decide to become a tester.</li>
<li>There is a risk-based approach in which tests cover only the most important components. Not everything is equally important.</li>
<li>The team, not the individual is testing.</li>
<li>Explorative testing for large releases rather than testing each release. One way to accomplish this, could be crowd-testing (Testbirds, test.io, Applause, Testival)</li>
<li>Static code analysis and the use of software metrics. Give a piece of code a qualitive number value. Linting, check for syntactical correctness.</li>
<li>Error costs dropped. When shipping code on CD, bugs were fatal. For web applications a fix is done much quicker. Especially with the help of monitoring (New Relic, Appdynamics, Instana, Tideways).</li>
<li>Your project is nothing special. In the early days everyone was writing their own framework or CMS. It was 90 % own code and 10 % 3-rd-party code. Nowadays it turned, 10 % being own code, 90 % being 3-rd-party.</li>
<li>Your project will not succeed. 9 out of 10 start-ups fail during the first year of operation. According to experience this could be applied to features. So instead of doing things right, try doing the right thing.</li>
<li>Fully automated tests. Click-path testing tools like Selenium are time consuming and complicated. Property-based testing where it checks for the presence of business-relevant elements could provide the same quality for much less cost.</li>
</ul>
<blockquote>
<p>If all business-relevant elements of a website are present, it is statistically likely, that there are no critical errors.</p></blockquote>
]]></content>
        </item>
        
        <item>
            <title>IPC 2019: Day One</title>
            <link>https://arueckauer.github.io/posts/2019/06/ipc-2019-day-one/</link>
            <pubDate>Tue, 04 Jun 2019 22:53:29 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/ipc-2019-day-one/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D14&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;This was a great first day&lt;/p&gt;
&lt;h2 id=&#34;how-to-make-loveliness-an-html-treasure-hunt&#34;&gt;How to make Loveliness: an HTML Treasure Hunt&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Keynote by &lt;a href=&#34;https://twitter.com/brucel&#34;&gt;Bruce Lawson&lt;/a&gt;, one of the editors of the W3C’s HTML5.3 specification&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;To me, this was the best keynote I have ever attended. He presented a topic that could easily be boring and dry in a way that captured the audience&amp;rsquo;s (well at least my) full attention. Bruce managed to make this very informative and funny at the same time.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D14</em></p>
<hr>
<p>This was a great first day</p>
<h2 id="how-to-make-loveliness-an-html-treasure-hunt">How to make Loveliness: an HTML Treasure Hunt</h2>
<p><em>Keynote by <a href="https://twitter.com/brucel">Bruce Lawson</a>, one of the editors of the W3C’s HTML5.3 specification</em></p>
<p>To me, this was the best keynote I have ever attended. He presented a topic that could easily be boring and dry in a way that captured the audience&rsquo;s (well at least my) full attention. Bruce managed to make this very informative and funny at the same time.</p>
<p>I left with a desire to get to know the 120-ish HTML elements better and use them for what they were designed. I learned that the <code>div</code> and <code>span</code> elements basically serve no special purpose. They are however misused, if there is a native HTML element covering that purpose but is not used. This will also break a11y.</p>
<p>Using proper HTML tags means</p>
<ul>
<li>more performant</li>
<li>more accessible</li>
<li>more robust</li>
<li>less code to write</li>
<li>less code to test</li>
<li>more time in the pub / playing CoD /seeing your kids</li>
</ul>
<p><a href="https://speakerdeck.com/brucel/webinale-berlin-4-june-2019">Slides</a></p>
<h2 id="a-happy-end-for-the-docker-for-development-drama">A Happy End for the Docker for Development Drama</h2>
<p><em>Talk by <a href="https://twitter.com/robertlemke">Robert Lemke</a>, founder of the Neos open source project</em></p>
<p>Maybe I did come with different expectations than what the speaker intended. It was difficult following along the presentation. Robert mentioned lots of problems his faced during the setup of a Docker development environment, but it was not always clear what the solution was and how he came to it.</p>
<p>His initial motivation to move from a &ldquo;traditional&rdquo; setup (all requirements are installed directly on the developer machine) and virtualization was</p>
<ul>
<li>to have a fast operating development environment,</li>
<li>which is easily to set up and</li>
<li>makes switching between project easy.</li>
</ul>
<p>He spent a lot of time addressing the performance issue of mounted drives under macOS and comparing possible solutions. In the end his setup is a mixture of mounted directories and rsync. An attendee also mentioned the usage of docker-sync.</p>
<p>I am leaving this session with a desire to look more into Docker containers.</p>
<h2 id="a-case-for-generics-in-php">A Case for Generics in PHP</h2>
<p><em>Talk by <a href="https://twitter.com/chrisholland">Chris Holland</a>, Team Lead at TriNet</em></p>
<p>Chris managed to prepare and present a well-structured talk on Generics in PHP, coming up with custom solutions where PHP does not (yet) provide native implementations and comparing implementations of Generics in other languages like Java and C#.</p>
<p>He also talked about the difficulties of implementing Generic Types in PHP. An <a href="https://wiki.php.net/rfc/generics">RFC</a> for this has been around since the beginning of 2016. Compiled languages will check types during compilation. Thus, fatal errors are thrown early. Whereas PHP will run type checks much later, after deployment during the actual run and compilation. The implementation would be a significant challenge and added workload during runtime.</p>
<p>In a conversation with <a href="https://twitter.com/SaraMG">Sara Goleman</a>, she mentioned to him a possible approach by</p>
<ul>
<li>Not checking Generic Types at runtime</li>
<li>Enhance syntax support, but &ldquo;throw it away&rdquo; at compile time</li>
<li>Rely upon static analyzers and IDEs</li>
</ul>
<p><a href="http://bit.ly/generics-slids">Slides</a></p>
<h2 id="knock-knock-whos-there-authenticating-your-single-page-apps-using-json-web-tokens">Knock knock, who’s there? Authenticating your Single Page Apps using JSON Web Tokens</h2>
<p><em>Talk by <a href="https://twitter.com/sambego">Sam Bellen</a>, Developer Evangelist at Auth0</em></p>
<p>This was a fully loaded talk with tons of information about JWT to process. Excellent!</p>
<p>The issue with Cookies is, that they don&rsquo;t like CORS, require state and are issued for a certain domain. A solution to that issue could be tokens. Sam explained the registration and login processes using backend authentication with session cookies and token-based authentication using JWT. He also talked about a possible solution of password-fee authentications with the W3C standard WebAuthn. He demoed it using an authenticator device.</p>
<p><a href="https://jwt.sambego.tech/">Slides</a></p>
<h2 id="an-introduction-to-symfony-messenger">An Introduction to Symfony Messenger</h2>
<p><em>By <a href="https://twitter.com/dbrumann">Denis Brumann</a>, Software Developer at Sensiolabs</em></p>
<p>This talk gave an excellent introduction to the Symfony messenger component in the brand new 4.3 release from last Friday. It&rsquo;s straight forward and easy to get started with. It comes with transporters for AMQP, Redis and Doctrine. Custom implementations are also possible. Denis also showed the most important CLI commands to manage the messenger.</p>
<p>On first impression it looks like there is less configuration (and also options available) than <a href="https://github.com/php-enqueue">Enqueue</a>.</p>
<h2 id="the-future-of-authentication--webauthn-with-php">The Future of Authentication – WebAuthn with PHP</h2>
<p><em>By <a href="https://twitter.com/arneblankerts">Arne Blankerts</a>, Principal Consultant at thePHP.cc</em></p>
<p>Again, Arne did not fall short of expectations by delivering an interesting presentation on WebAuthn. After making a well-prepared introduction to the challenges of password-based authentications, he went into detail on the WebAuthn specifications and finished with demoing registration and login with the PHP implementation <a href="https://github.com/lbuchs/WebAuthn">lbuchs/WebAuthn</a>. There is also a demo client available on [https://webauthn.lubu.ch/_test/client.html].</p>
<p>Arne made good experiences with the products of <a href="https://www.yubico.com/">Yubico</a>.</p>
<p>Further resources can be found at</p>
<ul>
<li><a href="https://webauthn.io/">https://webauthn.io/</a></li>
<li><a href="https://webauthn.me/">https://webauthn.me/</a></li>
<li><a href="https://webauthn.guide/">https://webauthn.guide/</a></li>
<li><a href="https://demo.yubico.com/webauthn">https://demo.yubico.com/webauthn</a></li>
</ul>
]]></content>
        </item>
        
        <item>
            <title>Difference of Squares -Part II</title>
            <link>https://arueckauer.github.io/posts/2019/06/difference-of-squares-part-ii/</link>
            <pubDate>Mon, 03 Jun 2019 19:25:05 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/difference-of-squares-part-ii/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D13&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;In the meanwhile, &lt;a href=&#34;https://twitter.com/dstockto&#34;&gt;dstockto&lt;/a&gt; reviewed and approved my solution. 🤘🏼 Funny story: He found my blog and saw my submission here before seeing it on Exercism.&lt;/p&gt;
&lt;p&gt;He gave me an interesting additional challenge, to use &amp;ldquo;closed&amp;rdquo; form math-based solutions. This would also allow performance improvement, since the current implementation will take longer the larger &lt;code&gt;$number&lt;/code&gt; is.&lt;/p&gt;
&lt;h2 id=&#34;square-of-sum&#34;&gt;Square Of Sum&lt;/h2&gt;
&lt;p&gt;For this function dstockto mentioned the &lt;a href=&#34;https://de.wikipedia.org/wiki/Gau%C3%9Fsche_Summenformel&#34;&gt;Gauss formula&lt;/a&gt;. This is a form to sum the first n positive integers.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D13</em></p>
<hr>
<p>In the meanwhile, <a href="https://twitter.com/dstockto">dstockto</a> reviewed and approved my solution. 🤘🏼 Funny story: He found my blog and saw my submission here before seeing it on Exercism.</p>
<p>He gave me an interesting additional challenge, to use &ldquo;closed&rdquo; form math-based solutions. This would also allow performance improvement, since the current implementation will take longer the larger <code>$number</code> is.</p>
<h2 id="square-of-sum">Square Of Sum</h2>
<p>For this function dstockto mentioned the <a href="https://de.wikipedia.org/wiki/Gau%C3%9Fsche_Summenformel">Gauss formula</a>. This is a form to sum the first n positive integers.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">squareOfSum</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $sum <span style="color:#f92672">=</span> ($number <span style="color:#f92672">*</span> $number <span style="color:#f92672">+</span> $number) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $sum <span style="color:#a6e22e">\</span><span style="color:#f92672">*</span> <span style="color:#a6e22e">\</span>$sum;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="sum-of-squares">Sum Of Squares</h3>
<p>Now researching for a form to sum squares, I come across a wiki page on <a href="https://brilliant.org/wiki/sum-of-n-n2-or-n3/">Brillant</a>. Under the paragraph <em>Sum of the Squares of the First n Positive Integers</em> I find what I am looking for. Read the linked article, if you&rsquo;re interested in more.</p>
<p>This is the refactored function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sumOfSquares</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ($number <span style="color:#f92672">*</span> ($number <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> (<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> $number <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">/</span> <span style="color:#ae81ff">6</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="completed">Completed</h3>
<p>The tests are all green and I am very happy to have taken the additional challenge. In my first solution, I made usage of PHP standard functions only. Now with a mathematical approach, the code became much more readable.</p>
]]></content>
        </item>
        
        <item>
            <title>Php Version Manager: First Idea</title>
            <link>https://arueckauer.github.io/posts/2019/06/php-version-manager-first-idea/</link>
            <pubDate>Sat, 01 Jun 2019 21:27:11 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/06/php-version-manager-first-idea/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D12&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;With a working CLI PHP version switcher, it would be very neat to also have a CLI PHP version manager, which allows the automated installation of available PHP versions. As an inspiration I am looking with one eye toward the &lt;a href=&#34;https://github.com/nvm-sh/nvm&#34;&gt;nvm&lt;/a&gt;. I am aware of the &lt;a href=&#34;https://github.com/ircmaxell/phpvm&#34;&gt;phpvm&lt;/a&gt; package. This package provided by &lt;a href=&#34;https://twitter.com/ircmaxell&#34;&gt;Anthony Ferrara&lt;/a&gt; is far from stable and currently supports only Ubuntu. My focus will be the Windows platform.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D12</em></p>
<hr>
<p>With a working CLI PHP version switcher, it would be very neat to also have a CLI PHP version manager, which allows the automated installation of available PHP versions. As an inspiration I am looking with one eye toward the <a href="https://github.com/nvm-sh/nvm">nvm</a>. I am aware of the <a href="https://github.com/ircmaxell/phpvm">phpvm</a> package. This package provided by <a href="https://twitter.com/ircmaxell">Anthony Ferrara</a> is far from stable and currently supports only Ubuntu. My focus will be the Windows platform.</p>
<h2 id="functionality">Functionality</h2>
<p>Some commands that come in handy.</p>
<ul>
<li><code>list</code> to list (by <code>pvm</code>) locally installed PHP versions</li>
<li><code>list-remote</code> to list all available PHP versions</li>
<li><code>install &lt;version&gt;</code> to install given PHP version</li>
<li><code>use &lt;version&gt;</code> to switch to given PHP version</li>
<li><code>uninstall &lt;version&gt;</code> to uninstall given PHP version</li>
</ul>
<h2 id="retrieve-available-php-versions">Retrieve available PHP versions</h2>
<p>In order for this project to even work, I need to be able to fetch a list of available PHP versions. On <a href="https://windows.php.net/download">windows.php.net/download</a> the current releases are listed. Parsing that HTML is not too sexy. So, I am looking for anything else like a RSS feed or so. At first glance I cannot find anything. As I have a closer look on the download links, I notice there is a directory listing available for <a href="https://windows.php.net/downloads/releases/">releases</a>, <a href="https://windows.php.net/downloads/releases/archives/">archives</a> and <a href="https://windows.php.net/downloads/releases/latest/">&ldquo;latest&rdquo;</a>. The HTML does not look very strict. The capital tags remind me on how HTML used to be written ages ago. But that would work.</p>
<p>Just to make sure I don&rsquo;t miss any other options, I&rsquo;m <a href="https://twitter.com/arueckauer/status/1134907160092168193">pinging</a> Pierre Joye - Development Team Leader.</p>
<h2 id="next">Next</h2>
<p>Each PHP version is currently offered for x86 and x64 system versions with each a thread safe and non-thread safe version. For now, I would only offer the x64 thread safe option, to go with Apache and PHP running as module. x86 versions should work similar and probably could be added pretty easily. However, I am not sure why one would want to use them anymore.</p>
]]></content>
        </item>
        
        <item>
            <title>Php Version Switcher: The Function</title>
            <link>https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-function/</link>
            <pubDate>Fri, 31 May 2019 22:56:25 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-function/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D11&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This is part four of a series of articles about the &lt;a href=&#34;https://github.com/arueckauer/pvs&#34;&gt;PHP Version Switcher&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Part One: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-module/&#34;&gt;Php Version Switcher: PowerShell Module&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Two: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-naming-convention/&#34;&gt;Php Version Switcher: PowerShell Naming Convention&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Three: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-structure/&#34;&gt;Php Version Switcher: The Structure&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;Today I finally breathe life into the module function. 🕺🏼&lt;/p&gt;
&lt;h2 id=&#34;administrator-privileges&#34;&gt;Administrator privileges&lt;/h2&gt;
&lt;p&gt;Since the Apache services will be restarted, the module requires administrator privileges. I define the requirement in the module by adding the following line.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D11</em></p>
<p>This is part four of a series of articles about the <a href="https://github.com/arueckauer/pvs">PHP Version Switcher</a>.</p>
<ul>
<li>Part One: <a href="/posts/2019/05/php-version-switcher-powershell-module/">Php Version Switcher: PowerShell Module</a></li>
<li>Part Two: <a href="/posts/2019/05/php-version-switcher-powershell-naming-convention/">Php Version Switcher: PowerShell Naming Convention</a></li>
<li>Part Three: <a href="/posts/2019/05/php-version-switcher-the-structure/">Php Version Switcher: The Structure</a></li>
</ul>
<hr>
<p>Today I finally breathe life into the module function. 🕺🏼</p>
<h2 id="administrator-privileges">Administrator privileges</h2>
<p>Since the Apache services will be restarted, the module requires administrator privileges. I define the requirement in the module by adding the following line.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#75715e">#</span><span style="color:#66d9ef">Requires</span> <span style="color:#66d9ef">-RunAsAdministrator</span>
</span></span></code></pre></div><p>When opening a new PowerShell, an error is raised.</p>
<p><img src="/img/php-version-switcher-function/requires-run-as-administrator.png" alt="Module requires administrator-privileges"></p>
<p>Now, I either</p>
<ul>
<li>a) add a condition/parameter that the module is only imported when running an elevated shell or</li>
<li>b) move the import to a profile that gets only loaded when running an elevated shell.</li>
</ul>
<p><a href="https://stackoverflow.com/users/2150063/hal9256">HAL9256</a> was so kind to help me out here by providing an <a href="https://stackoverflow.com/questions/56367327/how-to-import-a-powershell-module-for-administrators-only/56367460#56367460">answer</a>.</p>
<p>It works when I add the following condition to my <code>profile.ps1</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>$currentPrincipal = New-Object Security.Principal.WindowsPrincipal([<span style="color:#66d9ef">Security.Principal.WindowsIdentity</span>]::GetCurrent())
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ($currentPrincipal.IsInRole([<span style="color:#66d9ef">Security.Principal.WindowsBuiltInRole</span>]::Administrator)) {
</span></span><span style="display:flex;"><span>    Import-Module pvs
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="configuration">Configuration</h2>
<p>For right now, I will hard-code the available PHP versions in a switch statement. In the future I would like to extract the configuration or even automate it if possible. I add the following switch statement to my pvs function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> ($version) {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;7.0&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.0.33-Win32-VC14-x64&#34;</span> }
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;7.1&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.1.29-Win32-VC14-x64&#34;</span> }
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;7.2&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.2.18-Win32-VC15-x64&#34;</span> }
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;7.3&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.3.5-Win32-VC15-x64&#34;</span> }
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;7.4&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.4-ts-windows-vc15-x64-r3322ae2&#34;</span> }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">Default</span> { <span style="color:#66d9ef">throw</span> <span style="color:#e6db74">&#34;Provided PHP version </span>$version<span style="color:#e6db74"> is not supported&#34;</span> }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="remove-existing-symlink">Remove existing symlink</h2>
<p>The following lines remove the existing symlink.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Write-Host <span style="color:#e6db74">&#34;Removing SymbolicLink...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>(Get-Item C:\webserv\php\).Delete()
</span></span></code></pre></div><h2 id="create-new-symlink">Create new symlink</h2>
<p>The following lines create the new symlink.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Write-Host <span style="color:#e6db74">&#34;Creating SymbolicLink...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>New-Item -ItemType SymbolicLink -Path C:\webserv\ -Name php -Value $phpPath
</span></span></code></pre></div><h2 id="restart-apache-service">Restart Apache service</h2>
<p>The following lines restart the Apache service.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Write-Host <span style="color:#e6db74">&#34;Restarting Apache...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>C:\webserv\httpd-<span style="color:#ae81ff">2.4</span>.<span style="color:#ae81ff">39</span>-win64-VC15\Apache24\bin\httpd.exe -k restart
</span></span></code></pre></div><h2 id="summary">Summary</h2>
<p>My <code>pvs.psm1</code> file looks like the following.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#75715e">&lt;#
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  .</span><span style="color:#e6db74">Synopsis</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  PHP version switcher for Windows
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  .</span><span style="color:#e6db74">Description</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  This function switches to a specified PHP version in an environment where
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  multiple PHP versions are installed as Apache Modules.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  .Parameter version
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  The PHP version to switch to.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  .</span><span style="color:#e6db74">Example</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  pvs 7.3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span><span style="color:#66d9ef">Requires</span> <span style="color:#66d9ef">-RunAsAdministrator</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># @todo Add configuration file with</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># - PHP versions</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># - Apache path</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># - Smylink path &amp; name</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># - Directory(/ies) containing log files</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># @todo Parameter to just restart Apache</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># @todo Parameter to delete log files</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> pvs {
</span></span><span style="display:flex;"><span>    [CmdletBinding()]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Fetch version to switch to</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">Param</span> (
</span></span><span style="display:flex;"><span>        [Parameter(<span style="color:#a6e22e">Mandatory</span> = $true, <span style="color:#a6e22e">ValueFromPipeline</span> = $true)] [Alias(<span style="color:#e6db74">&#34;v&#34;</span>)] [<span style="color:#66d9ef">String</span>]$version
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span> ($version) {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;7.0&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.0.33-Win32-VC14-x64&#34;</span> }
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;7.1&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.1.29-Win32-VC14-x64&#34;</span> }
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;7.2&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.2.18-Win32-VC15-x64&#34;</span> }
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;7.3&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.3.5-Win32-VC15-x64&#34;</span> }
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;7.4&#34;</span> { $phpPath = <span style="color:#e6db74">&#34;C:\webserv\php-7.4-ts-windows-vc15-x64-r3322ae2&#34;</span> }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">Default</span> { <span style="color:#66d9ef">throw</span> <span style="color:#e6db74">&#34;Provided PHP version </span>$version<span style="color:#e6db74"> is not supported&#34;</span> }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;PHP Version Switcher 1.0.0 by Andi Rückauer&#34;</span> -ForegroundColor Blue
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;Switching to version: </span>$version<span style="color:#e6db74">...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Remove SymbolicLink</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># @todo Only delete, if it does exist. Get-Item throws an error otherwise.</span>
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;Removing SymbolicLink...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    (Get-Item C:\webserv\php\).Delete()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Create new symlink</span>
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;Creating SymbolicLink...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    New-Item -ItemType SymbolicLink -Path C:\webserv\ -Name php -Value $phpPath
</span></span><span style="display:flex;"><span>re
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Restart Apache</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># @todo If log files are to be deleted: Stop Apache service, delete log files, start Apache service</span>
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;Restarting Apache...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    C:\webserv\httpd-<span style="color:#ae81ff">2.4</span>.<span style="color:#ae81ff">39</span>-win64-VC15\Apache24\bin\httpd.exe -k restart
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Export-ModuleMember -Function pvs
</span></span></code></pre></div><p>As you may have noticed, I added already some <code>@todo</code> tags for improvement and further ideas.</p>
<h2 id="test">Test</h2>
<p>I will now test the <code>pvs</code> module by switching from PHP 7.2 to PHP 7.3.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>php -v;pvs <span style="color:#ae81ff">7.3</span>;php -v
</span></span></code></pre></div><p><img src="/img/php-version-switcher-function/pvs-in-action.png" alt="PHP Version Switcher in action"></p>
<p>Bingo! 🙌🏼</p>
<h2 id="next-steps">Next steps</h2>
<p>There is already a to-do list with improvements. Configuration is probably one of the most important due to reusability reasons. I would prefer a less verbose output.</p>
<p>What would you add or change? Let me know on <a href="https://twitter.com/arueckauer">Twitter</a>.</p>
]]></content>
        </item>
        
        <item>
            <title>Php Version Switcher: The Structure</title>
            <link>https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-structure/</link>
            <pubDate>Thu, 30 May 2019 22:47:03 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-structure/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D10&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This is part three of a series of articles about the &lt;a href=&#34;https://github.com/arueckauer/pvs&#34;&gt;PHP Version Switcher&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Part One: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-module/&#34;&gt;Php Version Switcher: PowerShell Module&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Two: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-naming-convention/&#34;&gt;Php Version Switcher: PowerShell Naming Convention&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Four: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-function/&#34;&gt;Php Version Switcher: The Function&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;Today I will talk about the structural concept of the PHP Version Switcher.&lt;/p&gt;
&lt;p&gt;On Windows you need to add the path of your PHP location to the system environment variable &lt;code&gt;PATH&lt;/code&gt;. Switching in-between different PHP versions would mean to also to update the &lt;code&gt;PATH&lt;/code&gt; each time. Furthermore, if Apache is supposed to be running the same PHP version, the &lt;code&gt;LoadModule&lt;/code&gt; must be updated to the &amp;ldquo;new&amp;rdquo; PHP location. That&amp;rsquo;s just laborious and not fun at all. But PHP Version Switcher to the rescue! 🤹🏼‍♂️&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D10</em></p>
<p>This is part three of a series of articles about the <a href="https://github.com/arueckauer/pvs">PHP Version Switcher</a>.</p>
<ul>
<li>Part One: <a href="/posts/2019/05/php-version-switcher-powershell-module/">Php Version Switcher: PowerShell Module</a></li>
<li>Part Two: <a href="/posts/2019/05/php-version-switcher-powershell-naming-convention/">Php Version Switcher: PowerShell Naming Convention</a></li>
<li>Part Four: <a href="/posts/2019/05/php-version-switcher-the-function/">Php Version Switcher: The Function</a></li>
</ul>
<hr>
<p>Today I will talk about the structural concept of the PHP Version Switcher.</p>
<p>On Windows you need to add the path of your PHP location to the system environment variable <code>PATH</code>. Switching in-between different PHP versions would mean to also to update the <code>PATH</code> each time. Furthermore, if Apache is supposed to be running the same PHP version, the <code>LoadModule</code> must be updated to the &ldquo;new&rdquo; PHP location. That&rsquo;s just laborious and not fun at all. But PHP Version Switcher to the rescue! 🤹🏼‍♂️</p>
<h2 id="directory-structure">Directory structure</h2>
<p>Everything related to my webserver goes into the directory <code>C:\webserv</code>. There&rsquo;s Apache, CouchDB, Elasticsearch, Ruby, sendmail etc. and the latest versions of PHP 5.6 through 7.4 (the latter being a non-stable snapshot).</p>
<p><img src="/img/php-version-switcher-structure/directory-listing-of-c-webserv.png" alt="Directory listing of C:\webserv"></p>
<h2 id="symlink">Symlink</h2>
<p>As you might have noticed, among the many PHP directories, there is on just plain called <code>php</code>. This is a symbolic link to the currently set PHP version. This directory is also what I put into my <code>PATH</code> and <code>httpd.conf</code>.</p>
<p>The <code>php_shared</code> folder contains files common among PHP installations. Currently it only houses the <code>cacert.pem</code>.</p>
<h2 id="tasks-of-the-php-version-switcher">Tasks of the PHP Version Switcher</h2>
<p>The <code>pvs</code> now does three things:</p>
<ol>
<li>Remove the current symlink <code>C:\webserv\php</code>.</li>
<li>Create a new symlink referring to the provided PHP version.</li>
<li>Restart the Apache service.</li>
</ol>
<p>Et voilà, the machine is running a different PHP version.</p>
<p>How this script looks in detail, I will discuss in one of the following posts.</p>
]]></content>
        </item>
        
        <item>
            <title>Php Version Switcher: PowerShell Naming Convention</title>
            <link>https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-naming-convention/</link>
            <pubDate>Wed, 29 May 2019 20:03:47 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-naming-convention/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D9&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This is part two of a series of articles about the &lt;a href=&#34;https://github.com/arueckauer/pvs&#34;&gt;PHP Version Switcher&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Part One: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-module/&#34;&gt;Php Version Switcher: PowerShell Module&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Three: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-structure/&#34;&gt;Php Version Switcher: The Structure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Four: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-function/&#34;&gt;Php Version Switcher: The Function&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-module/&#34;&gt;Yesterday&lt;/a&gt; I started off, moving for my PHP version switcher to a new home by creating a PowerShell module.&lt;/p&gt;
&lt;p&gt;Whilst the import of the module and invocation of the function worked, the &lt;code&gt;Import-Module&lt;/code&gt; throw a warning:&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D9</em></p>
<p>This is part two of a series of articles about the <a href="https://github.com/arueckauer/pvs">PHP Version Switcher</a>.</p>
<ul>
<li>Part One: <a href="/posts/2019/05/php-version-switcher-powershell-module/">Php Version Switcher: PowerShell Module</a></li>
<li>Part Three: <a href="/posts/2019/05/php-version-switcher-the-structure/">Php Version Switcher: The Structure</a></li>
<li>Part Four: <a href="/posts/2019/05/php-version-switcher-the-function/">Php Version Switcher: The Function</a></li>
</ul>
<hr>
<p><a href="/posts/2019/05/php-version-switcher-powershell-module/">Yesterday</a> I started off, moving for my PHP version switcher to a new home by creating a PowerShell module.</p>
<p>Whilst the import of the module and invocation of the function worked, the <code>Import-Module</code> throw a warning:</p>
<blockquote>
<p>WARNING: The names of some imported commands from the module &lsquo;Php-VersionSwitcher&rsquo; include unapproved verbs that might make them less discoverable. To find the commands with unapproved verbs, run the Import-Module command again with the Verbose parameter. For a list of approved verbs, type Get-Verb.</p></blockquote>
<p>Obviously, the module and/or function name breaks some PowerShell naming convention. As suggested, I ran <code>Get-Verb</code> which provided following output.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>C:\Users\Rueckauer\source&gt; Get-Verb
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Verb        Group
</span></span><span style="display:flex;"><span>----        -----
</span></span><span style="display:flex;"><span>Add         Common
</span></span><span style="display:flex;"><span>Clear       Common
</span></span><span style="display:flex;"><span>Close       Common
</span></span><span style="display:flex;"><span>Copy        Common
</span></span><span style="display:flex;"><span>Enter       Common
</span></span><span style="display:flex;"><span>Exit        Common
</span></span><span style="display:flex;"><span>Find        Common
</span></span><span style="display:flex;"><span>Format      Common
</span></span><span style="display:flex;"><span>Get         Common
</span></span><span style="display:flex;"><span>Hide        Common
</span></span><span style="display:flex;"><span>Join        Common
</span></span><span style="display:flex;"><span>Lock        Common
</span></span><span style="display:flex;"><span>Move        Common
</span></span><span style="display:flex;"><span>New         Common
</span></span><span style="display:flex;"><span>Open        Common
</span></span><span style="display:flex;"><span>Optimize    Common
</span></span><span style="display:flex;"><span>Pop         Common
</span></span><span style="display:flex;"><span>Push        Common
</span></span><span style="display:flex;"><span>Redo        Common
</span></span><span style="display:flex;"><span>Remove      Common
</span></span><span style="display:flex;"><span>Rename      Common
</span></span><span style="display:flex;"><span>Reset       Common
</span></span><span style="display:flex;"><span>Resize      Common
</span></span><span style="display:flex;"><span>Search      Common
</span></span><span style="display:flex;"><span>Select      Common
</span></span><span style="display:flex;"><span>Set         Common
</span></span><span style="display:flex;"><span>Show        Common
</span></span><span style="display:flex;"><span>Skip        Common
</span></span><span style="display:flex;"><span>Split       Common
</span></span><span style="display:flex;"><span>Step        Common
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">Switch</span>      Common
</span></span><span style="display:flex;"><span>Undo        Common
</span></span><span style="display:flex;"><span>Unlock      Common
</span></span><span style="display:flex;"><span>Watch       Common
</span></span><span style="display:flex;"><span>Backup      Data
</span></span><span style="display:flex;"><span>Checkpoint  Data
</span></span><span style="display:flex;"><span>Compare     Data
</span></span><span style="display:flex;"><span>Compress    Data
</span></span><span style="display:flex;"><span>Convert     Data
</span></span><span style="display:flex;"><span>ConvertFrom Data
</span></span><span style="display:flex;"><span>ConvertTo   Data
</span></span><span style="display:flex;"><span>Dismount    Data
</span></span><span style="display:flex;"><span>Edit        Data
</span></span><span style="display:flex;"><span>Wait        Lifecycle
</span></span><span style="display:flex;"><span>Debug       Diagnostic
</span></span><span style="display:flex;"><span>Measure     Diagnostic
</span></span><span style="display:flex;"><span>Ping        Diagnostic
</span></span><span style="display:flex;"><span>Repair      Diagnostic
</span></span><span style="display:flex;"><span>Resolve     Diagnostic
</span></span><span style="display:flex;"><span>Test        Diagnostic
</span></span><span style="display:flex;"><span>Trace       Diagnostic
</span></span><span style="display:flex;"><span>Connect     Communications
</span></span><span style="display:flex;"><span>Disconnect  Communications
</span></span><span style="display:flex;"><span>Read        Communications
</span></span><span style="display:flex;"><span>Receive     Communications
</span></span><span style="display:flex;"><span>Send        Communications
</span></span><span style="display:flex;"><span>Write       Communications
</span></span><span style="display:flex;"><span>Block       Security
</span></span><span style="display:flex;"><span>Grant       Security
</span></span><span style="display:flex;"><span>Protect     Security
</span></span><span style="display:flex;"><span>Revoke      Security
</span></span><span style="display:flex;"><span>Unblock     Security
</span></span><span style="display:flex;"><span>Unprotect   Security
</span></span><span style="display:flex;"><span>Use         Other
</span></span></code></pre></div><p>Doing some more research I learned that it&rsquo;s a convention by starting off with one of the verbs above and appending whatever noun. Also, that <code>PS</code> is a (not so strictly) reserved prefix.</p>
<p>Okay, so I could rename my module to <code>Switch-PhpVersion</code>. As a matter of fact, I changed it and the warning went away. However, these long names bother me a bit. I want to quickly type and execute a command. Now there are currently only 4 <code>Switch-*</code> commands on my machine. But still, I would prefer something shorter.</p>
<p><img src="/img/php-version-switcher-ps-naming-convention/switch-commands.png" alt="Commands starting with Switch-"></p>
<p>So, I decided to rename module and function etc. to <code>pvs</code>. Which btw is also the current name of the PHP version switcher batch file.</p>
<h2 id="repository">Repository</h2>
<p>I&rsquo;ve created a new repository for this project. To follow along and view the current state, head over to <a href="https://github.com/arueckauer/pvs">https://github.com/arueckauer/pvs</a>.</p>
]]></content>
        </item>
        
        <item>
            <title>Php Version Switcher: PowerShell Module</title>
            <link>https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-module/</link>
            <pubDate>Tue, 28 May 2019 20:36:42 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-module/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D8&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This is part one of a series of articles about the &lt;a href=&#34;https://github.com/arueckauer/pvs&#34;&gt;PHP Version Switcher&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Part Two: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-powershell-naming-convention/&#34;&gt;Php Version Switcher: PowerShell Naming Convention&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Three: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-structure/&#34;&gt;Php Version Switcher: The Structure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Part Four: &lt;a href=&#34;https://arueckauer.github.io/posts/2019/05/php-version-switcher-the-function/&#34;&gt;Php Version Switcher: The Function&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;Most of our costumers provide Windows Servers for the PHP applications we implement and maintain for them. Although it has become much easier to get a PHP running under Windows than ten years ago, it&amp;rsquo;s still not the choice environment for a typical PHP web application.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D8</em></p>
<p>This is part one of a series of articles about the <a href="https://github.com/arueckauer/pvs">PHP Version Switcher</a>.</p>
<ul>
<li>Part Two: <a href="/posts/2019/05/php-version-switcher-powershell-naming-convention/">Php Version Switcher: PowerShell Naming Convention</a></li>
<li>Part Three: <a href="/posts/2019/05/php-version-switcher-the-structure/">Php Version Switcher: The Structure</a></li>
<li>Part Four: <a href="/posts/2019/05/php-version-switcher-the-function/">Php Version Switcher: The Function</a></li>
</ul>
<hr>
<p>Most of our costumers provide Windows Servers for the PHP applications we implement and maintain for them. Although it has become much easier to get a PHP running under Windows than ten years ago, it&rsquo;s still not the choice environment for a typical PHP web application.</p>
<p>Last year a co-worker and I discussed the possibility of providing each project with a <a href="https://www.vagrantup.com/">Vagrant</a> box for development purposes that runs a comparable setup as the production environment. Until then each developer had his own WAMP setup and most likely non looked like any other development or production environment. I had a Linux machine in mind. Making the transition from Windows to Linux and providing the necessary infrastructure is not done in just one day.</p>
<p>In the discussion I addressed the laborious manual process of switching in-between PHP versions. Then it dawned on me that by using symlinks, it might be possible to easily switch to another PHP version. Later on, I started working on the setup and wrote a batch file - and surely it worked! 🙌😊</p>
<p>Lately I have become fond of PowerShell. Today I want to start rewriting that batch file of the PHP version switcher into a PowerShell module. For now, I am starting with a PowerShell Module. Tomorrow I continue with the rewrite. An additional feature is a PHP version manager, which would allow the installing and removing PHP versions. I&rsquo;ll see how far that can be automated on another day.</p>
<h2 id="creating-a-powershell-module">Creating a PowerShell Module</h2>
<p>The functionality of the PHP version switcher will be placed in a Cmdlet. The plan is to make the Cmdlet available through a Module and possibly publish it on <a href="https://www.powershellgallery.com/packages/">PowerShell Gallery</a> and/or <a href="https://chocolatey.org/packages">chocolatey</a>.</p>
<p>To create my first PowerShell module, I follow the article <a href="https://docs.microsoft.com/en-us/powershell/developer/module/how-to-write-a-powershell-script-module">How to Write a PowerShell Script Module</a>. Right now I only need steps 1 and 2. If you want to know more about the steps or further steps not mentioned here, head over to the referenced article.</p>
<h3 id="1-save-powershell-script-with-a-psm1-extension">1. Save PowerShell script with a .psm1 extension</h3>
<p>Since I don&rsquo;t have an existing PowerShell script and can&rsquo;t just dump in the batch file, I am starting with a fresh function. For now, I just want to declare my function and parameters. Then give the user some output. The real functionality will be added later.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> Php-VersionSwitcher
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">Param</span> (
</span></span><span style="display:flex;"><span>        [Parameter(<span style="color:#a6e22e">Mandatory</span>=$true, <span style="color:#a6e22e">ValueFromPipeline</span>=$true)] [Alias(<span style="color:#e6db74">&#34;v&#34;</span>)] [<span style="color:#66d9ef">String</span>]$version
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;PHP Version Switcher 1.0.0 by Andi Rückauer&#34;</span> -ForegroundColor Blue
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;Switching to version: </span>$version<span style="color:#e6db74">...&#34;</span> -ForegroundColor DarkCyan
</span></span><span style="display:flex;"><span>    Write-Host <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>I save this to the file <code>Php-VersionSwitcher.psm1</code>.</p>
<h3 id="2-export-modulemember">2. Export-ModuleMember</h3>
<p>The function would be exposed by default. It is recommended however, to explicitly declare functions one wants to expose. Here it goes.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Export-ModuleMember -Function Php-VersionSwitcher
</span></span></code></pre></div><h3 id="create-powershell-module-manifest">Create PowerShell Module Manifest</h3>
<p>Next, I follow the instructions found in <a href="https://docs.microsoft.com/en-us/powershell/developer/module/how-to-write-a-powershell-module-manifest">How to Write a PowerShell Module Manifest</a>. I&rsquo;ll go with option 1.b. and create the Manifest with the <a href="https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Core/New-ModuleManifest">New-ModuleManifest</a> cmdlet.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>New-ModuleManifest .\Php-VersionSwitcher.psd1 -ModuleVersion <span style="color:#ae81ff">1.0</span> -Author <span style="color:#e6db74">&#34;Andi Rückauer&#34;</span>
</span></span></code></pre></div><p>I open the <code>Php-VersionSwitcher.psd1</code> and update necessary and removing unnecessary information. This is what it looks like now.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>@{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Die diesem Manifest zugeordnete Skript- oder Binärmoduldatei.</span>
</span></span><span style="display:flex;"><span>    RootModule          = <span style="color:#e6db74">&#39;Php-VersionSwitcher.psm1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Die Versionsnummer dieses Moduls</span>
</span></span><span style="display:flex;"><span>    ModuleVersion       = <span style="color:#e6db74">&#39;1.0.0&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ID zur eindeutigen Kennzeichnung dieses Moduls</span>
</span></span><span style="display:flex;"><span>    GUID                = <span style="color:#e6db74">&#39;69305790-69cd-4ffe-af1c-f7ec6e486d13&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Autor dieses Moduls</span>
</span></span><span style="display:flex;"><span>    Author              = <span style="color:#e6db74">&#39;Andi Rückauer&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Unternehmen oder Hersteller dieses Moduls</span>
</span></span><span style="display:flex;"><span>    CompanyName         = <span style="color:#e6db74">&#39;Unbekannt&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Urheberrechtserklärung für dieses Modul</span>
</span></span><span style="display:flex;"><span>    Copyright           = <span style="color:#e6db74">&#39;(c) 2019 Andi Rückauer. Alle Rechte vorbehalten.&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Beschreibung der von diesem Modul bereitgestellten Funktionen</span>
</span></span><span style="display:flex;"><span>    Description         = <span style="color:#e6db74">&#39;Switching PHP versions on Windows made easy&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Die für dieses Modul mindestens erforderliche Version des Windows PowerShell-Moduls</span>
</span></span><span style="display:flex;"><span>    PowerShellVersion   = <span style="color:#e6db74">&#39;5.0&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Aus diesem Modul zu exportierende Funktionen. Um optimale Leistung zu erzielen, verwenden Sie keine Platzhalter und löschen den Eintrag nicht. Verwenden Sie ein leeres Array, wenn keine zu exportierenden Funktionen vorhanden sind.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">Function</span>sToExport   = @(<span style="color:#e6db74">&#39;Php-VersionSwitcher&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Aus diesem Modul zu exportierende Cmdlets. Um optimale Leistung zu erzielen, verwenden Sie keine Platzhalter und löschen den Eintrag nicht. Verwenden Sie ein leeres Array, wenn keine zu exportierenden Cmdlets vorhanden sind.</span>
</span></span><span style="display:flex;"><span>    CmdletsToExport     = @()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Die aus diesem Modul zu exportierenden Variablen</span>
</span></span><span style="display:flex;"><span>    VariablesToExport   = <span style="color:#e6db74">&#39;*&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Aus diesem Modul zu exportierende Aliase. Um optimale Leistung zu erzielen, verwenden Sie keine Platzhalter und löschen den Eintrag nicht. Verwenden Sie ein leeres Array, wenn keine zu exportierenden Aliase vorhanden sind.</span>
</span></span><span style="display:flex;"><span>    AliasesToExport     = @()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Die privaten Daten, die an das in &#34;RootModule/ModuleToProcess&#34; angegebene Modul übergeben werden sollen. Diese können auch eine PSData-Hashtabelle mit zusätzlichen von PowerShell verwendeten Modulmetadaten enthalten.</span>
</span></span><span style="display:flex;"><span>    PrivateData = @{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        PSData = @{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># &#39;Tags&#39; wurde auf das Modul angewendet und unterstützt die Modulermittlung in Onlinekatalogen.</span>
</span></span><span style="display:flex;"><span>            Tags         = @(<span style="color:#e6db74">&#39;php&#39;</span>, <span style="color:#e6db74">&#39;version&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Eine URL zur Lizenz für dieses Modul.</span>
</span></span><span style="display:flex;"><span>            LicenseUri   = <span style="color:#e6db74">&#39;https://github.com/arueckauer/Php-VersionSwitcher/blob/master/LICENSE.txt&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Eine URL zur Hauptwebsite für dieses Projekt.</span>
</span></span><span style="display:flex;"><span>            ProjectUri   = <span style="color:#e6db74">&#39;https://github.com/arueckauer/Php-VersionSwitcher&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Eine URL zu einem Symbol, das das Modul darstellt.</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># IconUri = &#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># &#39;ReleaseNotes&#39; des Moduls</span>
</span></span><span style="display:flex;"><span>            ReleaseNotes = <span style="color:#e6db74">&#39;https://github.com/arueckauer/Php-VersionSwitcher/blob/master/CHANGELOG.md&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="giving-the-module-a-new-home">Giving the module a new home</h2>
<p>Since I am using a custom PowerShell profile and <a href="https://github.com/dahlbyk/posh-git">posh-git</a>, I do already have a <code>WindowsPowerShell</code> folder in my user&rsquo;s documents path (<code>C:\Users\&lt;Username&gt;\Documents\WindowsPowerShell</code>). If you&rsquo;re using a machine, where you don&rsquo;t have that folder, have a look at the <a href="https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Core/Import-Module?view=powershell-6">Import-Module</a> might help you getting there.</p>
<p>I am moving the two created files <code>Php-VersionSwitcher.psm1</code> and <code>Php-VersionSwitcher.psd1</code> to a new home for my custom module: <code>C:\Users\Rueckauer\Documents\WindowsPowerShell\Modules\Php-VersionSwitcher\1.0.0</code>.</p>
<h2 id="import-module">Import-Module</h2>
<p>In my PowerShell profile (<code>C:\Users\Rueckauer\Documents\WindowsPowerShell\profile.ps1</code>) I add a line to import my new module.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Import-Module Php-VersionSwitcher
</span></span></code></pre></div><h2 id="test-it">Test it</h2>
<p>Now I power up a new PowerShell and try to access the <code>Php-VersionSwitcher</code> function.</p>
<p>Hm, I do get a warning. 🤔</p>
<blockquote>
<p>WARNUNG: Die Namen einiger importierter Befehle auf Modul &ldquo;Php-VersionSwitcher&rdquo; enthalten nicht genehmigte Verben, sodass deren Auffindbarkeit erschwert werden kann. Wenn Sie die Befehle mit nicht genehmigten Verben finden möchten, führen Sie den Import-Module-Befehl erneut mit dem Verbose-Parameter aus. Sie können durch Eingeben von &ldquo;Get-Verb&rdquo; eine Liste der genehmigten Verben anzeigen.</p></blockquote>
<p>Something is not right with the module name. I need to figure that out later. Let&rsquo;s see, if it works despite the warning.</p>
<p><img src="/img/php-version-switcher-powershell-module/php-versionswitcher.png" alt="Execution of Php-VersionSwitcher"></p>
<p>Yes, neat! 💪🏻</p>
<p>Okay, that&rsquo;s it for today. Next time I will breath some life into that function.</p>
]]></content>
        </item>
        
        <item>
            <title>Difference of Squares</title>
            <link>https://arueckauer.github.io/posts/2019/05/difference-of-squares/</link>
            <pubDate>Mon, 27 May 2019 20:28:26 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/difference-of-squares/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D7&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Today I am solving the &lt;em&gt;Difference of Squares&lt;/em&gt; of the PHP track on &lt;a href=&#34;https://exercism.io/&#34;&gt;Exercism&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Exercism offers its users learning new programming languages through exercises with the valuable feedback of mentors. It currently has 50 different language tracks like C#, Go, Kotlin, TypeScript and many others. Head over to Exercism to &lt;a href=&#34;https://exercism.io/users/sign_up&#34;&gt;join&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;The source of this exercise is &lt;a href=&#34;https://projecteuler.net/problem=6&#34;&gt;Problem 6&lt;/a&gt; of the Euler project.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D7</em></p>
<hr>
<p>Today I am solving the <em>Difference of Squares</em> of the PHP track on <a href="https://exercism.io/">Exercism</a>.</p>
<p>Exercism offers its users learning new programming languages through exercises with the valuable feedback of mentors. It currently has 50 different language tracks like C#, Go, Kotlin, TypeScript and many others. Head over to Exercism to <a href="https://exercism.io/users/sign_up">join</a>.</p>
<h2 id="introduction">Introduction</h2>
<p>The source of this exercise is <a href="https://projecteuler.net/problem=6">Problem 6</a> of the Euler project.</p>
<blockquote>
<p>The sum of the squares of the first ten natural numbers is,</p>
<p><code>12 + 22 + ... + 102 = 385</code></p>
<p>The square of the sum of the first ten natural numbers is,</p>
<p><code>(1 + 2 + ... + 10)2 = 552 = 3025</code></p>
<p>Hence the difference between the sum of the squares of the first ten natural numbers and the square of the sum is <code>3025 − 385 = 2640</code>.</p>
<p>Find the difference between the sum of the squares of the first one hundred natural numbers and the square of the sum.</p></blockquote>
<h2 id="first-step">First step</h2>
<p>Usually I start by downloading the tests, creating the required file (in this case <code>difference-of-squares.php</code>) and if possible, provide the required function(s) with a correct signature. Since I already know from the introduction section, the <code>difference()</code> function returns the difference of <code>squareOfSum()</code> and <code>sumOfSquares()</code>. So, I go ahead and write that down. I&rsquo;m starting off with the following lines.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">squareOfSum</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sumOfSquares</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">difference</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">squareOfSum</span>($number) <span style="color:#f92672">-</span> <span style="color:#a6e22e">sumOfSquares</span>($number);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>I run the tests. As expected, they are all failing. But it confirms to me, that there are no syntax error or errors of undefined functions. So far, so good.</p>
<p>Next, I like to break down the exercise. I can see, that three functions are required. I start with the first one <code>squareOfSum()</code>. I focus on one test at a time. I comment out all tests except the first and implement its described feature.</p>
<h2 id="square-of-sum">Square of Sum</h2>
<p>The description of <code>squareOfSum()</code> is straight forward. I&rsquo;m thinking of first creating an array of numbers starting from 1 to n. <a href="https://php.net/range">range()</a> seems to be perfect for that. Next, I need to calculate the sum. Since I already have an array, I use <a href="https://php.net/array_sum">array_sum()</a>. And finally, I square the sum and return it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">squareOfSum</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $sum <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_sum</span>(<span style="color:#a6e22e">range</span>(<span style="color:#ae81ff">1</span>, $number));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $sum <span style="color:#f92672">*</span> $sum;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>To validate my implementation, I uncomment all tests asserting the result of <code>squareOfSum()</code> and run the tests. Success! 👍</p>
<h2 id="sum-of-squares">Sum of squares</h2>
<p>The second function is doing the same in a different order. My first thought is, if I could abstract any functionality from the first function which I could use in the second. They only have the <code>range()</code> call in common. It would be overkill to abstract that into a separate function. So, I leave it as it is and return to the implementation.</p>
<p>Again, I need a range. This time however I need to square the element values. A simple callback should do with the help of <code>array_map()</code> and followed by <code>array_sum()</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sumOfSquares</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $array <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_map</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">int</span> $number) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> $number <span style="color:#f92672">*</span> $number;
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">range</span>(<span style="color:#ae81ff">1</span>, $number)
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">array_sum</span>($array);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>I uncomment all the remaining tests and run them. Again, successfully. 🙌</p>
<h2 id="clean-up">Clean-up</h2>
<p>Before submitting my solution, I run code analysis tools in PhpStorm and check for error or warnings. Usually this is very helpful. It helps me to (1) learn more about PHP and how I could improve and (2) show potential errors which I did not see.</p>
<p>In this case <a href="https://github.com/vimeo/psalm">Psalm</a> is throwing 4 errors:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Scanning files...
</span></span><span style="display:flex;"><span>Analyzing files...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ERROR<span style="color:#960050;background-color:#1e0010">:</span> InvalidReturnType - difference-of-squares\difference-of-squares.php<span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">5</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">37</span> - The declared <span style="color:#66d9ef">return</span> type <span style="color:#e6db74">&#39;int&#39;</span> <span style="color:#66d9ef">for</span> squareOfSum is incorrect, got <span style="color:#e6db74">&#39;float|int&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> squareOfSum(int $number) <span style="color:#960050;background-color:#1e0010">:</span> int
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ERROR<span style="color:#960050;background-color:#1e0010">:</span> InvalidReturnStatement - difference-of-squares\difference-of-squares.php<span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">12</span> - The type <span style="color:#e6db74">&#39;float|int&#39;</span> does not match the declared <span style="color:#66d9ef">return</span> type <span style="color:#e6db74">&#39;int&#39;</span> <span style="color:#66d9ef">for</span> squareOfSum
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $sum * $sum;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ERROR<span style="color:#960050;background-color:#1e0010">:</span> InvalidReturnType - difference-of-squares\difference-of-squares.php<span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">11</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">38</span> - The declared <span style="color:#66d9ef">return</span> type <span style="color:#e6db74">&#39;int&#39;</span> <span style="color:#66d9ef">for</span> sumOfSquares is incorrect, got <span style="color:#e6db74">&#39;int|float&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> sumOfSquares(int $number) <span style="color:#960050;background-color:#1e0010">:</span> int
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ERROR<span style="color:#960050;background-color:#1e0010">:</span> InvalidReturnStatement - difference-of-squares\difference-of-squares.php<span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">20</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">12</span> - The type <span style="color:#e6db74">&#39;int|float&#39;</span> does not match the declared <span style="color:#66d9ef">return</span> type <span style="color:#e6db74">&#39;int&#39;</span> <span style="color:#66d9ef">for</span> sumOfSquares
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> array_sum($array);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>------------------------------
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span> errors found
</span></span><span style="display:flex;"><span>------------------------------
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Checks took <span style="color:#ae81ff">0.37</span> seconds and used <span style="color:#ae81ff">29.759</span>MB of memory
</span></span><span style="display:flex;"><span>Psalm was able to infer types <span style="color:#66d9ef">for</span> <span style="color:#ae81ff">100</span>% of the codebase
</span></span></code></pre></div><p>But I am not sure how Psalm can get a <code>float</code> value from adding and square an <code>integer</code> value? So, I leave it as it is and submit my solution.</p>
<h2 id="my-submitted-solution">My submitted solution</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">squareOfSum</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $sum <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_sum</span>(<span style="color:#a6e22e">range</span>(<span style="color:#ae81ff">1</span>, $number));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> $sum <span style="color:#f92672">*</span> $sum;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sumOfSquares</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    $array <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_map</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">int</span> $number) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> $number <span style="color:#f92672">*</span> $number;
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">range</span>(<span style="color:#ae81ff">1</span>, $number)
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">array_sum</span>($array);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">difference</span>(<span style="color:#a6e22e">int</span> $number) <span style="color:#f92672">:</span> <span style="color:#a6e22e">int</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">squareOfSum</span>($number) <span style="color:#f92672">-</span> <span style="color:#a6e22e">sumOfSquares</span>($number);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="mentoring">Mentoring</h2>
<p>Within the next few days a mentor will review my code and provide feedback. So far, I have been very blessed with good reviewers who took their time to give suggestions and refer to other resources. This is very helpful.</p>
<p>Sometimes the feedback is not as pleasant as I was hoping. 😄 I then take a step back and take my time before reading it again. This time with an open mind to see, what the mentor is trying to show me. It has always been a great learning experience for me.</p>
<p>As soon as a solution gets accepted, you can share your solution with the community and inspect what others have submitted. This is alxvery helpful and oftentimes an eye opener.</p>
]]></content>
        </item>
        
        <item>
            <title>Use dotenv to configure a Zend Expressive application</title>
            <link>https://arueckauer.github.io/posts/2019/05/use-dotenv-to-configure-a-zend-expressive-application/</link>
            <pubDate>Sat, 25 May 2019 20:43:15 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/use-dotenv-to-configure-a-zend-expressive-application/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D6&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;[The Twelve-Factor App] requires strict separation of config from code.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Taken from &lt;a href=&#34;https://12factor.net/config&#34;&gt;factor three&lt;/a&gt; of The Twelve-Factor App.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Today I am studying about how to achieve this requirement making usage of &lt;a href=&#34;https://github.com/vlucas/phpdotenv&#34;&gt;phpdotenv&lt;/a&gt; in a Zend Expressive context.&lt;/p&gt;
&lt;p&gt;I will not go into details on and advantages of this concept. A leave that up to other resources.&lt;/p&gt;
&lt;h2 id=&#34;phpdotenv&#34;&gt;phpdotenv&lt;/h2&gt;
&lt;p&gt;This package&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Loads environment variables from &lt;code&gt;.env&lt;/code&gt; to &lt;code&gt;getenv()&lt;/code&gt;, &lt;code&gt;$_ENV&lt;/code&gt; and &lt;code&gt;$_SERVER&lt;/code&gt; automagically.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D6</em></p>
<hr>
<blockquote>
<p>[The Twelve-Factor App] requires strict separation of config from code.</p></blockquote>
<p><em>Taken from <a href="https://12factor.net/config">factor three</a> of The Twelve-Factor App.</em></p>
<p>Today I am studying about how to achieve this requirement making usage of <a href="https://github.com/vlucas/phpdotenv">phpdotenv</a> in a Zend Expressive context.</p>
<p>I will not go into details on and advantages of this concept. A leave that up to other resources.</p>
<h2 id="phpdotenv">phpdotenv</h2>
<p>This package</p>
<blockquote>
<p>Loads environment variables from <code>.env</code> to <code>getenv()</code>, <code>$_ENV</code> and <code>$_SERVER</code> automagically.</p></blockquote>
<p>It has a clean setup and interface. To load an <code>.env</code> file use</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$dotenv <span style="color:#f92672">=</span> <span style="color:#a6e22e">Dotenv\Dotenv</span><span style="color:#f92672">::</span><span style="color:#a6e22e">create</span>(<span style="color:#66d9ef">__DIR__</span>);
</span></span><span style="display:flex;"><span>$dotenv<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">load</span>();
</span></span></code></pre></div><p>Then you can access it via</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$s3Bucket <span style="color:#f92672">=</span> <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;S3_BUCKET&#39;</span>);
</span></span><span style="display:flex;"><span>$s3Bucket <span style="color:#f92672">=</span> $_ENV[<span style="color:#e6db74">&#39;S3_BUCKET&#39;</span>];
</span></span><span style="display:flex;"><span>$s3Bucket <span style="color:#f92672">=</span> $_SERVER[<span style="color:#e6db74">&#39;S3_BUCKET&#39;</span>];
</span></span></code></pre></div><p>The documentation mentions also the possibility to access variable through the request class. This is out-of-scope of this blog entry, since I want to access env vars only in configuration files.</p>
<h2 id="install-phpdotenv">Install phpdotenv</h2>
<p>I install the package via <a href="https://getcomposer.org">Composer</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>composer require vlucas/phpdotenv
</span></span></code></pre></div><h2 id="create-a-dotenv-file">Create a dotenv file</h2>
<p>Next, I create a <code>.env</code> file.</p>
<pre tabindex="0"><code>DOCTRINE_CONNECTION_HOST=&#34;localhost&#34;
DOCTRINE_CONNECTION_PORT=&#34;3306&#34;
DOCTRINE_CONNECTION_USER=&#34;db_user&#34;
DOCTRINE_CONNECTION_PASSWORD=&#34;my-53cr37&#34;
DOCTRINE_CONNECTION_DBNAME=&#34;database&#34;
DOCTRINE_CONNECTION_charset=&#34;utf8mb4&#34;
</code></pre><h2 id="load-dotenv">Load dotenv</h2>
<p>Now <code>phpdotenv</code> needs to be put to work and do its magic. In my <code>index.php</code> I add the following two lines right after requiring the composer autoload file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$dotenv <span style="color:#f92672">=</span> <span style="color:#a6e22e">Dotenv\Dotenv</span><span style="color:#f92672">::</span><span style="color:#a6e22e">create</span>(<span style="color:#66d9ef">__DIR__</span>);
</span></span><span style="display:flex;"><span>$dotenv<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">load</span>();
</span></span></code></pre></div><h2 id="load-configuration-from-dotenv">Load configuration from dotenv</h2>
<p>My configuration file with the database is updated, to use the env vars now available through <code>getenv()</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;doctrine&#39;</span> <span style="color:#f92672">=&gt;</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;connection&#39;</span> <span style="color:#f92672">=&gt;</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;orm_default&#39;</span> <span style="color:#f92672">=&gt;</span> [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;params&#39;</span> <span style="color:#f92672">=&gt;</span> [
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;host&#39;</span>     <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DOCTRINE_CONNECTION_HOST&#39;</span>),
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;port&#39;</span>     <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DOCTRINE_CONNECTION_PORT&#39;</span>),
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;user&#39;</span>     <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DOCTRINE_CONNECTION_USER&#39;</span>),
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;password&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DOCTRINE_CONNECTION_PASSWORD&#39;</span>),
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;dbname&#39;</span>   <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DOCTRINE_CONNECTION_DBNAME&#39;</span>),
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;charset&#39;</span>  <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">getenv</span>(<span style="color:#e6db74">&#39;DOCTRINE_CONNECTION_CHARSET&#39;</span>),
</span></span><span style="display:flex;"><span>                ],
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>];
</span></span></code></pre></div><h2 id="goal-accomplished">Goal accomplished</h2>
<p>A quick check on my API confirms that the env vars are utilized correctly. 👍</p>
]]></content>
        </item>
        
        <item>
            <title>Day 5: A change for the better</title>
            <link>https://arueckauer.github.io/posts/2019/05/day-5-a-change-for-the-better/</link>
            <pubDate>Fri, 24 May 2019 23:37:51 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/day-5-a-change-for-the-better/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D5&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Yesterday I ran into an issue where the build process of an application depended on a proper configured application. There is a distributed configuration file. But for the build process to run successfully, the distributed file has to be copied (and if necessary adjusted) manually.&lt;/p&gt;
&lt;p&gt;I see some issues with that.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Build has a dependency on configuration.&lt;/strong&gt; The build process for an application should stay the same. It must not produce a different outcome depending on the local setup.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Build process will not run on CI/CD.&lt;/strong&gt; In this setup the application will never be run in CI/CD.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Repetitive tasks&lt;/strong&gt;. Why should every developer manage configuration, if it can be automated? Automation will lower risk of human error and speed up the process. On the topic of automating things, I can recommend following &lt;a href=&#34;https://github.com/rdbartram&#34;&gt;Ryan Bartram&lt;/a&gt;, the author of &lt;a href=&#34;https://www.dftai.ch/&#34;&gt;Don&amp;rsquo;t forget to automate it&lt;/a&gt;. I got the chance to get to know him on the &lt;a href=&#34;https://www.zurich.azurebootcamp.net/&#34;&gt;Global Azure Bootcamp&lt;/a&gt;, great and funny guy!&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;proper-way&#34;&gt;Proper way&lt;/h2&gt;
&lt;p&gt;The proper way to fix this, is to address the author of the &lt;del&gt;abomination&lt;/del&gt; feature and improve the build process. This is what I will do.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D5</em></p>
<hr>
<p>Yesterday I ran into an issue where the build process of an application depended on a proper configured application. There is a distributed configuration file. But for the build process to run successfully, the distributed file has to be copied (and if necessary adjusted) manually.</p>
<p>I see some issues with that.</p>
<ol>
<li><strong>Build has a dependency on configuration.</strong> The build process for an application should stay the same. It must not produce a different outcome depending on the local setup.</li>
<li><strong>Build process will not run on CI/CD.</strong> In this setup the application will never be run in CI/CD.</li>
<li><strong>Repetitive tasks</strong>. Why should every developer manage configuration, if it can be automated? Automation will lower risk of human error and speed up the process. On the topic of automating things, I can recommend following <a href="https://github.com/rdbartram">Ryan Bartram</a>, the author of <a href="https://www.dftai.ch/">Don&rsquo;t forget to automate it</a>. I got the chance to get to know him on the <a href="https://www.zurich.azurebootcamp.net/">Global Azure Bootcamp</a>, great and funny guy!</li>
</ol>
<h2 id="proper-way">Proper way</h2>
<p>The proper way to fix this, is to address the author of the <del>abomination</del> feature and improve the build process. This is what I will do.</p>
<h2 id="a-connected-issue">A connected issue</h2>
<p>While solving the issue of getting the build to work, I was thinking about the application setup. Most of our projects require local configuration before they are able to run. If you&rsquo;re not familiar with an application, it can be a tedious task to find out all requirements and dependencies. Oftentimes we end up sharing our local configuration files. ¯\_(ツ)\_/¯</p>
<p>But what if you could checkout a project which would run out-of-the-box? For development you typically would use virtualization with a configured machine/container laying in the repository, boot up the machine and voilà.</p>
<h2 id="small-steps">Small steps</h2>
<p>Before configuring virtualizations, I wanted to make a smaller step which I and others could use instantly. The idea was to automate the process of copying required configuration files. Some manual steps like database credentials would still be required, but at least the configuration files/templates exist.</p>
<h2 id="configuration-types">Configuration types</h2>
<p>There are different types of configurations.</p>
<ol>
<li><strong>Global</strong> - The application is dependent on it. This could be a default locale, template paths and so on. These settings are committed to the VCS.</li>
<li><strong>Local</strong> - Database credentials etc. The application depends on them. However, they are not committed to VCS, because they differ from environment to environment and/or they could be sensitive data.</li>
<li><strong>Development</strong> - Settings that are only required in a development environment. That is displaying debugging information, a turned off cache etc.</li>
</ol>
<p>The first type is already in the VCS and does not require local adjustments. The local configuration is what really is interesting. The application depends on it, but the configuration may only exist as a distributed configuration file. The development configuration could potentially be automated as well, but this will not be in today&rsquo;s scope.</p>
<h2 id="composer-scripts-ftw">Composer scripts FTW</h2>
<p>Very quickly I found a solution by putting <a href="https://getcomposer.org/doc/articles/scripts.md">Composer scripts</a> to work. At first I put a PHP command directly in the <code>scripts</code> section of the <code>composer.json</code>. However, that just didn&rsquo;t feel right. It was very hard to read and maintain. So, I defined a callback.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// [..]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;post-install-cmd&#34;</span>: [<span style="color:#e6db74">&#34;App\\ComposerScripts::postInstall&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// [..]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Next, I implemented the referenced <code>ComposerScripts</code> to copy the distributed configuration files, if no local copy exists.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">declare</span>(<span style="color:#a6e22e">strict_types</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> <span style="color:#a6e22e">App</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ComposerScripts</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> $configurationFiles <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;config/autoload/services.local.php.dist&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;config/autoload/services.local.php&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;config/autoload/doctrine.local.php.dist&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;config/autoload/doctrine.local.php&#39;</span>,
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">postInstall</span>() <span style="color:#f92672">:</span> <span style="color:#a6e22e">void</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">foreach</span> (<span style="color:#66d9ef">static</span><span style="color:#f92672">::</span>$configurationFiles <span style="color:#66d9ef">as</span> $distributed <span style="color:#f92672">=&gt;</span> $destination) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span> <span style="color:#a6e22e">file_exists</span>($destination)) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">copy</span>($distributed, $destination);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Beautiful. It works like a charm.</p>
<p>This for sure is a poor man&rsquo;s solution, quick and dirty. In the sense of Kaizen, it is a change for the better and will continue to improve.</p>
]]></content>
        </item>
        
        <item>
            <title>Day 4: Autoloading Optimization in Composer</title>
            <link>https://arueckauer.github.io/posts/2019/05/day-4-autoloading-optimization-in-composer/</link>
            <pubDate>Thu, 23 May 2019 23:00:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/day-4-autoloading-optimization-in-composer/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D4&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Today I&amp;rsquo;m studying the &lt;a href=&#34;https://getcomposer.org/doc/articles/autoloader-optimization.md&#34;&gt;Autoloader Optimization&lt;/a&gt; article of the Composer documentation.&lt;/p&gt;
&lt;h2 id=&#34;purpose&#34;&gt;Purpose&lt;/h2&gt;
&lt;p&gt;The optimization is designed to reduce the performance impact of the autoloader. It is not intended for use in development as it will have undesired side-effects.&lt;/p&gt;
&lt;h2 id=&#34;optimization-levels&#34;&gt;Optimization levels&lt;/h2&gt;
&lt;p&gt;There are two levels of optimization and the second level comes with two options. These two options cannot be combined.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Optimization Level 1: Class map generation&lt;/li&gt;
&lt;li&gt;Optimization Level 2/A: Authoritative class maps&lt;/li&gt;
&lt;li&gt;Optimization Level 2/B: APCu cache&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I will not get into detail, which level and options is doing what. The article is very brief and clear already.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D4</em></p>
<hr>
<p>Today I&rsquo;m studying the <a href="https://getcomposer.org/doc/articles/autoloader-optimization.md">Autoloader Optimization</a> article of the Composer documentation.</p>
<h2 id="purpose">Purpose</h2>
<p>The optimization is designed to reduce the performance impact of the autoloader. It is not intended for use in development as it will have undesired side-effects.</p>
<h2 id="optimization-levels">Optimization levels</h2>
<p>There are two levels of optimization and the second level comes with two options. These two options cannot be combined.</p>
<ul>
<li>Optimization Level 1: Class map generation</li>
<li>Optimization Level 2/A: Authoritative class maps</li>
<li>Optimization Level 2/B: APCu cache</li>
</ul>
<p>I will not get into detail, which level and options is doing what. The article is very brief and clear already.</p>
<h2 id="meat-on-the-bone">Meat on the bone</h2>
<p>Now, what does this actually look like in practice? To compare the differences, I will test it on an actual application. I will compare</p>
<ul>
<li>Level 0: No optimization - <code>composer install</code>,</li>
<li>Level 1: Class map generation - <code>composer dump-autoload -a</code> and</li>
<li>Level 2/A: Authoritative class maps - <code>composer dump-autoload -o</code>.</li>
</ul>
<h3 id="create-new-project">Create new project</h3>
<p>To compare the different optimization levels any application utilizing the PSR-4 standard will do. I choose an empty <a href="https://symfony.com/">Symfony</a> application.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>composer create-project symfony/website-skeleton my-project
</span></span></code></pre></div><h3 id="create-autoloading-with-optimization-levels-0-1-and-2a">Create autoloading with optimization levels 0, 1 and 2/A</h3>
<p>The <code>create-project</code> command will already execute an <code>install</code>. The application has now no autoloading optimization and is ready for development. I copy the <code>.\vendor\composer</code> folder to a different location. I then execute <code>composer dump-autoload -o</code> and <code>composer dump-autoload -a</code> and copy the <code>.\vendor\composer</code> after each command execution.</p>
<h3 id="whats-the-difference">What&rsquo;s the difference?</h3>
<p>I then compare the three copies:</p>
<h4 id="level-0">Level 0</h4>
<p>If no optimization is done, the autoloading is missing the class map which is generated for the other two options in <code>autoload_classmap.php</code> and <code>autoload_static.php</code>.</p>
<h4 id="level-1">Level 1</h4>
<p>Level 1 registers PSR-0 and PSR-4 directories to the <code>Composer\Autoload\ClassLoader</code>. If a given class cannot be found, it falls back to look in the filesystem according to the registered rules.</p>
<p><code>.\vendor\composer\autoload_real.php</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// [..]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            $map <span style="color:#f92672">=</span> <span style="color:#66d9ef">require</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/autoload_namespaces.php&#39;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">foreach</span> ($map <span style="color:#66d9ef">as</span> $namespace <span style="color:#f92672">=&gt;</span> $path) {
</span></span><span style="display:flex;"><span>                $loader<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">set</span>($namespace, $path);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            $map <span style="color:#f92672">=</span> <span style="color:#66d9ef">require</span> <span style="color:#66d9ef">__DIR__</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#39;/autoload_psr4.php&#39;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">foreach</span> ($map <span style="color:#66d9ef">as</span> $namespace <span style="color:#f92672">=&gt;</span> $path) {
</span></span><span style="display:flex;"><span>                $loader<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setPsr4</span>($namespace, $path);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span><span style="color:#75715e">// [..]
</span></span></span></code></pre></div><h4 id="level-2a">Level 2/A</h4>
<p>Whereas Level 2/A does not register PSR-0 and PSR-4 directories and instead sets <code>$classMapAuthoritative</code>in <code>Composer\Autoload\ClassLoader</code> to <code>true</code>.</p>
<blockquote>
<p>Turns off searching the prefix and fallback directories for classes that have not been registered with the class map.</p></blockquote>
<p><code>.\vendor\composer\autoload_real.php</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// [..]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        $loader<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setClassMapAuthoritative</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// [..]
</span></span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>This study has helped me gain a better understanding of what is happening behind the scene in composer&rsquo;s autoloading. Although everything is already very well documented in the article, I learn much better, if I take things apart.</p>
<p>So definitely in production.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>composer install --no-ansi --no-dev --no-interaction --no-progress --no-scripts --classmap-authoritative
</span></span></code></pre></div>]]></content>
        </item>
        
        <item>
            <title>Day 3: Keep a Changelog</title>
            <link>https://arueckauer.github.io/posts/2019/05/day-3-keep-a-changelog/</link>
            <pubDate>Wed, 22 May 2019 20:39:27 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/day-3-keep-a-changelog/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D3&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Today I was working with &lt;a href=&#34;https://keepachangelog.com/&#34;&gt;keep a changelog&lt;/a&gt;, especially with &lt;a href=&#34;https://mwop.net/&#34;&gt;Matthew Weier O&amp;rsquo;Phinney&lt;/a&gt;&amp;rsquo;s &lt;a href=&#34;https://github.com/phly/keep-a-changelog&#34;&gt;implementation&lt;/a&gt; of it. I am fascinated by the idea of managing the CHANGELOG from the command line.&lt;/p&gt;
&lt;h2 id=&#34;installation&#34;&gt;Installation&lt;/h2&gt;
&lt;p&gt;Setup is thanks to composer straight-forward. You can either install it locally or globally. I went with the latter.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;composer global require phly/keep-a-changelog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you haven&amp;rsquo;t already, remember to add the global composer bin path to your PATH environment variable.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D3</em></p>
<hr>
<p>Today I was working with <a href="https://keepachangelog.com/">keep a changelog</a>, especially with <a href="https://mwop.net/">Matthew Weier O&rsquo;Phinney</a>&rsquo;s <a href="https://github.com/phly/keep-a-changelog">implementation</a> of it. I am fascinated by the idea of managing the CHANGELOG from the command line.</p>
<h2 id="installation">Installation</h2>
<p>Setup is thanks to composer straight-forward. You can either install it locally or globally. I went with the latter.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>composer global require phly/keep-a-changelog
</span></span></code></pre></div><p>If you haven&rsquo;t already, remember to add the global composer bin path to your PATH environment variable.</p>
<h2 id="commands">Commands</h2>
<p>Now let&rsquo;s have a look at it.</p>
<p><img src="/img/day-3-keep-a-changelog/keep-a-changelog-commands.png" alt="keep-a-changelog commands"></p>
<h2 id="setup">Setup</h2>
<p>Getting started is as simple as</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>keep-a-changelog new
</span></span></code></pre></div><p>By default <code>keep-a-changelog</code> starts with version <code>0.1.0</code>. The option <code>-i, --initial-version=INITIAL-VERSION</code> allows you to overwrite it. If you want a filename other then <code>CHANGELOG.md</code>, use option <code>-f, --file=FILE</code>.</p>
<h2 id="configuration">Configuration</h2>
<p>In the configuration a (provider api) token, provider and custom domain may be stored. It can be initialized with</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>keep-a-changelog config
</span></span></code></pre></div><p>You then will be asked to provide the required information. By using the option <code>-g, --global</code>, it is possible to store the configuration globally. This helps reusing the configuration in other projects and prevent accidentally committing it to the VCS.</p>
<h2 id="available-providers">Available Providers</h2>
<p>The package is shipped with two Providers:</p>
<ol>
<li>GitHub (default) and</li>
<li>GitLab.</li>
</ol>
<p>Since my employer is using <a href="https://beanstalkapp.com/">Beanstalk</a>, I got curious, if it was possible to implement a provider it.</p>
<h2 id="curiosity">Curiosity</h2>
<p>I cloned the repository and digged into the code. Quickly I came across a piece of code which could be a party-pooper. The <code>EntryCommand::preparePatchLink()</code> method <a href="https://github.com/phly/keep-a-changelog/blob/2610134afb6104bda7b4c198903f382cec4b8d50/src/EntryCommand.php#L146">throws an exception</a> if no valid PR link is generated by the provider. Now <a href="https://blog.beanstalkapp.com/post/101864285674/introducing-code-review">Beanstalk don&rsquo;t do no PRs</a>. A <a href="https://twitter.com/arueckauer/status/1131251308114186240">quick check</a> with mwop restored hope, saying <code>--pr</code> is never a required option.</p>
<h2 id="to-infinity-and-beyond">To infinity and beyond</h2>
<p>Awesome. I rolled up my sleeves and started implementing a Beanstalk provider. Thanks to the neat code the internal features were done in couple of minutes. Now only adding a Beanstalk API client and that would be it. At least that is what I thought.</p>
<h2 id="disillusionment">Disillusionment</h2>
<p>Looking for candidates on <a href="https://github.com/search?l=PHP&amp;q=beanstalk&#43;api&amp;type=Repositories">GitHub</a> and <a href="https://packagist.org/?query=beanstalk%20api">Packagist</a> did not look good at all. There might be a package or two that might work, but neither received any updates in years and the code has great improvement potential.</p>
<p>Implementing a PHP client library for the <a href="http://api.beanstalkapp.com/">Beanstalk API</a> goes beyond the scope of today&rsquo;s challenge.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Although there is currently no working provider for Beanstalk, I still want to see the keep-a-changelog in action in a project. On another day I will evaluate the tool in a GitHub or GitLab project and see how it fits into our workflow. So long.</p>
]]></content>
        </item>
        
        <item>
            <title>Day 2: Clean Expressive Skeleton</title>
            <link>https://arueckauer.github.io/posts/2019/05/day-2-clean-expressive-skeleton/</link>
            <pubDate>Tue, 21 May 2019 20:45:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/day-2-clean-expressive-skeleton/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D2&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Whenever starting a new &lt;a href=&#34;https://getexpressive.org&#34;&gt;Zend Expressive&lt;/a&gt; project, I use the handy &lt;code&gt;zendframework/zend-expressive-skeleton&lt;/code&gt;. It creates an almost empty Expressive application structure with your choice of&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;code structure,&lt;/li&gt;
&lt;li&gt;DI container,&lt;/li&gt;
&lt;li&gt;router,&lt;/li&gt;
&lt;li&gt;template engine and&lt;/li&gt;
&lt;li&gt;error handler.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It comes also with two exemplary handlers and conditions for various routers and template engines. I wondered, what a cleaned-up skeleton would look like and how many bits and pieces were actually there which could be removed.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D2</em></p>
<hr>
<p>Whenever starting a new <a href="https://getexpressive.org">Zend Expressive</a> project, I use the handy <code>zendframework/zend-expressive-skeleton</code>. It creates an almost empty Expressive application structure with your choice of</p>
<ul>
<li>code structure,</li>
<li>DI container,</li>
<li>router,</li>
<li>template engine and</li>
<li>error handler.</li>
</ul>
<p>It comes also with two exemplary handlers and conditions for various routers and template engines. I wondered, what a cleaned-up skeleton would look like and how many bits and pieces were actually there which could be removed.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<p>To create a new skeleton application, I used <code>composer create-project</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>composer create-project zendframework/zend-expressive-skeleton clean-skeleton
</span></span></code></pre></div><h2 id="composerjson">composer.json</h2>
<p>First stop is the <code>composer.json</code>. I update the following section to my needs.</p>
<ul>
<li><code>name</code></li>
<li><code>description</code></li>
<li><code>homepage</code></li>
<li><code>license</code></li>
</ul>
<p>Then I removed the following sections - you may want to update these to your needs, especially if you plan to publish your project/library on <a href="https://packagist.org">Packagist</a>.</p>
<ul>
<li><code>keywords</code></li>
<li><code>extra</code></li>
<li><code>support</code></li>
</ul>
<p>Then I removed the <code>post-create-project-cmd</code> from the <code>scripts</code> section.</p>
<h3 id="further-changes">Further changes</h3>
<p>If you&rsquo;re using some other code style tool like <a href="https://cs.symfony.com/">PHP-CS-Fixer</a>, you may want to update the <code>require-dev</code> and in the <code>scripts</code> section the <code>cs-check</code> and <code>cs-fix</code> commands accordingly. Since I sticked to the defaults, I left them as they were.</p>
<p>In the end, my <code>composer.json</code> looked like the following.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;arueckauer/clean-skeleton&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;A zend expressive skeleton purged of all unnecessary items&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;project&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;homepage&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/arueckauer/clean-skeleton&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;license&#34;</span>: <span style="color:#e6db74">&#34;MIT&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;config&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;sort-packages&#34;</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;require&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;php&#34;</span>: <span style="color:#e6db74">&#34;^7.1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-component-installer&#34;</span>: <span style="color:#e6db74">&#34;^2.1.1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-config-aggregator&#34;</span>: <span style="color:#e6db74">&#34;^1.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-diactoros&#34;</span>: <span style="color:#e6db74">&#34;^1.7.1 || ^2.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-expressive&#34;</span>: <span style="color:#e6db74">&#34;^3.0.1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-expressive-helpers&#34;</span>: <span style="color:#e6db74">&#34;^5.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-stdlib&#34;</span>: <span style="color:#e6db74">&#34;^3.1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-servicemanager&#34;</span>: <span style="color:#e6db74">&#34;^3.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-expressive-fastroute&#34;</span>: <span style="color:#e6db74">&#34;^3.0&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;require-dev&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;phpunit/phpunit&#34;</span>: <span style="color:#e6db74">&#34;^7.0.1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;roave/security-advisories&#34;</span>: <span style="color:#e6db74">&#34;dev-master&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;squizlabs/php_codesniffer&#34;</span>: <span style="color:#e6db74">&#34;^2.9.1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zendframework/zend-expressive-tooling&#34;</span>: <span style="color:#e6db74">&#34;^1.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;zfcampus/zf-development-mode&#34;</span>: <span style="color:#e6db74">&#34;^3.1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;filp/whoops&#34;</span>: <span style="color:#e6db74">&#34;^2.1.12&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;autoload&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;psr-4&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;App\\&#34;</span>: <span style="color:#e6db74">&#34;src/App/src/&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;autoload-dev&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;psr-4&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;AppTest\\&#34;</span>: <span style="color:#e6db74">&#34;test/AppTest/&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;development-disable&#34;</span>: <span style="color:#e6db74">&#34;zf-development-mode disable&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;development-enable&#34;</span>: <span style="color:#e6db74">&#34;zf-development-mode enable&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;development-status&#34;</span>: <span style="color:#e6db74">&#34;zf-development-mode status&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;expressive&#34;</span>: <span style="color:#e6db74">&#34;expressive --ansi&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;check&#34;</span>: [<span style="color:#e6db74">&#34;@cs-check&#34;</span>, <span style="color:#e6db74">&#34;@test&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;clear-config-cache&#34;</span>: <span style="color:#e6db74">&#34;php bin/clear-config-cache.php&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cs-check&#34;</span>: <span style="color:#e6db74">&#34;phpcs&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cs-fix&#34;</span>: <span style="color:#e6db74">&#34;phpcbf&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;serve&#34;</span>: <span style="color:#e6db74">&#34;php -S 0.0.0.0:8080 -t public/&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;test&#34;</span>: <span style="color:#e6db74">&#34;phpunit --colors=always&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;test-coverage&#34;</span>: <span style="color:#e6db74">&#34;phpunit --colors=always --coverage-clover clover.xml&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>A <code>composer update</code> confirmed that no updates were required after making the adjustments.</p>
<h2 id="license">License</h2>
<p>I replaced the LICENSE file with the <a href="https://choosealicense.com">license of my choice</a>.</p>
<h2 id="coding-standard">Coding Standard</h2>
<p>If desired, you can update name and rules in <code>phpcs.xml.dist</code>. For the purpose of this test, they remained unchanged in my case.</p>
<h2 id="readme">Readme</h2>
<p>I emptied the readme file, leaving only an h1 with the project name. Usually I fill the readme up with information about the package, setup etc. as the project grows.</p>
<h2 id="shipped-handlers">Shipped Handlers</h2>
<p>Next, I removed the Handler classes with its containing folder, tests and configuration references.</p>
<p>Deleted directories:</p>
<ul>
<li><code>src/App/src/Handler</code></li>
<li><code>test/AppTest/Handler</code></li>
</ul>
<p>Also, I removed the defined routes in <code>config/routes.php</code> and the dependency definitions in <code>src/App/src/ConfigProvider.php</code>.</p>
<h2 id="configuration">Configuration</h2>
<p>In <code>config/config.php</code> I removed Swoole config. If you&rsquo;re using Swoole, you can replace it by an explicit inclusion of the ConfigProvider.</p>
<h2 id="done">Done</h2>
<p>To be honest, my first impression of what can be purged of the skeleton was much more. But there is no clutter whatsoever, just some examples. This challenge has helped me better understand the setup of the skeleton package and showed me just how neat it is organized. I love it.</p>
<h2 id="other-skeleton-resources">Other Skeleton resources</h2>
<p>There are two other skeletons for PHP applications which I want to mention at this point. They both are a closer look worth it, if you&rsquo;re starting new PHP projects on a fairly regular basis or want some reference from time to time.</p>
<ol>
<li><a href="https://github.com/thephpleague/skeleton">thephpleague/skeleton</a> and</li>
<li><a href="https://github.com/php-pds/skeleton">php-pds/skeleton</a></li>
</ol>
<p>The thephpleague/skeleton comes with templates for GitHub issues and pull-requests. And also, a <a href="https://github.com/thephpleague/skeleton/blob/master/prefill.php">prefill</a> command which replaces variables like vendor and package names and urls throughout the cloned repo.</p>
]]></content>
        </item>
        
        <item>
            <title>Day 1: Getting started with Terraform</title>
            <link>https://arueckauer.github.io/posts/2019/05/day-1-getting-started-with-terraform/</link>
            <pubDate>Mon, 20 May 2019 22:00:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/day-1-getting-started-with-terraform/</guid>
            <description>&lt;p&gt;&lt;em&gt;This article is part of my &lt;a href=&#34;https://arueckauer.github.io/tags/100-days-of-code/&#34;&gt;#100DaysOfCode&lt;/a&gt; and #100DaysOfBlogging challenge. R1D1&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;This year I attended the &lt;a href=&#34;https://www.zurich.azurebootcamp.net/&#34;&gt;Global Azure Bootcamp in Zürich&lt;/a&gt;. It was a very well organized conference with lots of interesting sessions. I definitely will go again next year!&lt;/p&gt;
&lt;p&gt;One of my favorites was &lt;em&gt;&lt;a href=&#34;https://speakerdeck.com/azurezurich/gabc2019-terraform-and-azure-how-to-gitops-by-sandro-kochli-and-jorn-stenkamp&#34;&gt;Terraform and Azure - How to GitOps&lt;/a&gt;&lt;/em&gt; by &lt;a href=&#34;https://www.linkedin.com/in/sandro-koechli/&#34;&gt;Sandro Koechli&lt;/a&gt; and &lt;a href=&#34;https://www.linkedin.com/in/joern-stenkamp-732b58100/&#34;&gt;Jörn Stenkamp&lt;/a&gt;. They introduced the idea of managing infrastructure as code with Git. This concept was new to me and very exciting. Unfortunately time did not allow for some demo.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>This article is part of my <a href="/tags/100-days-of-code/">#100DaysOfCode</a> and #100DaysOfBlogging challenge. R1D1</em></p>
<hr>
<p>This year I attended the <a href="https://www.zurich.azurebootcamp.net/">Global Azure Bootcamp in Zürich</a>. It was a very well organized conference with lots of interesting sessions. I definitely will go again next year!</p>
<p>One of my favorites was <em><a href="https://speakerdeck.com/azurezurich/gabc2019-terraform-and-azure-how-to-gitops-by-sandro-kochli-and-jorn-stenkamp">Terraform and Azure - How to GitOps</a></em> by <a href="https://www.linkedin.com/in/sandro-koechli/">Sandro Koechli</a> and <a href="https://www.linkedin.com/in/joern-stenkamp-732b58100/">Jörn Stenkamp</a>. They introduced the idea of managing infrastructure as code with Git. This concept was new to me and very exciting. Unfortunately time did not allow for some demo.</p>
<p>Today I worked through the <a href="https://learn.hashicorp.com/terraform/getting-started/build">Getting Started</a> chapter for <a href="https://www.terraform.io/">Terraform</a>. I set up an AWS account and wrote my first Terraform configuration. Via the CLI an infrastructure can be initialized, applied, changed and destroyed (among other commands like plan and show).</p>
<p>I gained a basic understanding of how Terraform works. The configuration of <a href="https://www.terraform.io/docs/providers/index.html">Providers</a> and Resources is still very overwhelming.</p>
]]></content>
        </item>
        
        <item>
            <title>100 Days of Code</title>
            <link>https://arueckauer.github.io/posts/2019/05/100-days-of-code/</link>
            <pubDate>Mon, 20 May 2019 06:00:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/100-days-of-code/</guid>
            <description>&lt;p&gt;Lately quite a few posts on the &lt;a href=&#34;https://twitter.com/search?q=%23100DaysOfCode&#34;&gt;#100DaysOfCode&lt;/a&gt; challenge have come up on my Twitter timeline. I was curious what it is all about. So, I started to do some research and I really liked what I was reading.&lt;/p&gt;
&lt;p&gt;In this post I am writing about my own commitment to the challenge. If you want to know more about it yourself, start reading the initial article on &lt;a href=&#34;https://medium.freecodecamp.org/join-the-100daysofcode-556ddb4579e4&#34;&gt;medium&lt;/a&gt; or go straight to the &lt;a href=&#34;https://www.100daysofcode.com/&#34;&gt;official website&lt;/a&gt;.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>Lately quite a few posts on the <a href="https://twitter.com/search?q=%23100DaysOfCode">#100DaysOfCode</a> challenge have come up on my Twitter timeline. I was curious what it is all about. So, I started to do some research and I really liked what I was reading.</p>
<p>In this post I am writing about my own commitment to the challenge. If you want to know more about it yourself, start reading the initial article on <a href="https://medium.freecodecamp.org/join-the-100daysofcode-556ddb4579e4">medium</a> or go straight to the <a href="https://www.100daysofcode.com/">official website</a>.</p>
<h2 id="official-rules">Official rules</h2>
<p>The <a href="https://www.100daysofcode.com/">#100DaysOfCode</a> challenge outlines two main rules:</p>
<blockquote>
<ol>
<li>Code minimum an hour every day for the next 100 days.</li>
<li>Tweet your progress every day with the #100DaysOfCode hashtag.</li>
</ol></blockquote>
<p>It also talks about other <a href="https://www.100daysofcode.com/rules/">considerations</a> like reaching out to others who are also doing the challenge or keeping a <a href="https://github.com/Kallaway/100-days-of-code">100 days journal</a>.</p>
<h2 id="my-rules">My rules</h2>
<p>My personal motivation is to keep learning and dive into subjects other than what is required at my current job. I have a broad interest and would like to use this challenge to study, experience and learn. To accomplish these goals, I will adapt the rules a little.</p>
<h3 id="1-code-almost-every-day-for-the-next-100-days">1. Code (almost) every day for the next 100 days</h3>
<p>With <em>almost</em> I am not intending to create a loophole or justify slacking off. Sunday is a day of rest where I do not work and try to spend time with my family and spiritual matters. So, I am committing to 6 days of coding a week.</p>
<p>On a coding day I do not require myself to spend at least one hour on the challenge. Rather I am committing myself to making meaningful use of the time. It should be first a learning experience (even challenging) and second fun as well.</p>
<h3 id="2-blog-about-it">2. Blog about it</h3>
<p>This might be a second challenge I am trying to accomplish at the same time. Instead of just tweet about it, I want to record my learnings in a blog post. The latter is more of a habit-forming challenge than the initial.</p>
<h2 id="topic">Topic</h2>
<p>One of the most productive factors for me is focus. Being able to focus on just one task helps me work very effectively. In more of a natural way I am living a clean desk, zero inbox and other policies or principles.</p>
<p>Just recently I switched from the old beloved <a href="https://www.wunderlist.com/">Wunderlist</a> to a new and shiny <a href="https://todo.microsoft.com/">Microsoft To-Do</a> to keep track of ideas and work that needs to be done. In a list called <em>Play.Fail.Succeed.</em> I keep a collection of topics, technologies, methods and so on which I want to study and learn more about it.</p>
<p>Secondly, I use <a href="https://getpocket.com/">Pocket</a> to keep track of resources of interest, articles I want to read later and so forth.</p>
<p>Both tools provide excellent resources for my #100DaysOfCode challenge.</p>
<p>In this challenge I will focus on DevOps. I am very interested in automating things and decrease the amount of time spent in repetitive tasks. By doing this challenge I hope to advance my knowledge and skills greatly. I want to gain a better understanding of</p>
<ul>
<li>Provisioning,</li>
<li>Orchestration,</li>
<li>Configuration Management,</li>
<li>Deployment and</li>
<li>Automation in general.</li>
</ul>
<h2 id="commitment">Commitment</h2>
<p>Starting today I&rsquo;m publicly committing to the 100DaysOfCode Challenge with the here outlined rules! Learn more and join me!</p>
<p>Gude Laune</p>
]]></content>
        </item>
        
        <item>
            <title>From Flat to Modular</title>
            <link>https://arueckauer.github.io/posts/2019/05/from-flat-to-modular/</link>
            <pubDate>Fri, 17 May 2019 06:30:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/from-flat-to-modular/</guid>
            <description>&lt;p&gt;&lt;em&gt;Transforming of a flat application structure to a modular one in a Zend Expressive project&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In an &lt;a href=&#34;https://docs.zendframework.com/zend-expressive/&#34;&gt;Expressive&lt;/a&gt; project I ran into the issue, where the application grew much larger than initially expected. How about that? The project got initialized with a flat code structure, which is the default selection of the &lt;a href=&#34;https://github.com/zendframework/zend-expressive-skeleton&#34;&gt;Expressive Skeleton&lt;/a&gt;. Flat basically means the application is organized in a single module in contrast to endless modules in the modular structure. It also means not only having separate modules but also separate namespaces. This makes handling class names much easier.&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p><em>Transforming of a flat application structure to a modular one in a Zend Expressive project</em></p>
<p>In an <a href="https://docs.zendframework.com/zend-expressive/">Expressive</a> project I ran into the issue, where the application grew much larger than initially expected. How about that? The project got initialized with a flat code structure, which is the default selection of the <a href="https://github.com/zendframework/zend-expressive-skeleton">Expressive Skeleton</a>. Flat basically means the application is organized in a single module in contrast to endless modules in the modular structure. It also means not only having separate modules but also separate namespaces. This makes handling class names much easier.</p>
<p>Looking back on it now I tend to always choose a modular structure. The only use case for a flat structure would be a micro application with very little backend code. Even then it is questionable as to why not using a modular structure, since the difference between the two are not that big and converting the structure later on is much more effort. But I am getting ahead of myself.</p>
<p>So the single module horded a ton of classes with their factories. This got quite heavy and sometimes confusing. To clear up all the confusion I decided to convert the code structure from flat to modular.</p>
<h2 id="flat-vs-modular-the-comparison">Flat vs. modular: the comparison</h2>
<p>I could not find any documentation or user contributions on how to convert the structure. To find out what the differences are, I decided to create two new projects: one with a flat and one with a modular structure and then compare the two.</p>
<p>I create a new project with flat code structure. All default selections were chosen.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ composer create-project zendframework/zend-expressive-skeleton expressive-flat
</span></span></code></pre></div><p>For modular structure first question <em>What type of installation would you like?</em> was answered with 3 - Modular. For all other options the default selections where chosen.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ composer create-project zendframework/zend-expressive-skeleton expressive-modular
</span></span></code></pre></div><p><img src="/img/from-flat-to-modular/create-project-with-modular-code-structure.png" alt="Create project with modular code structure"></p>
<p>The structural differences of the two projects are (1) the location of the source file within the <code>App</code> module, (2) a template folder and (3) the autoloading configuration.</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>Flat</th>
          <th>Modular</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Source App Module</td>
          <td><code>src/App</code></td>
          <td><code>src/App/src</code></td>
      </tr>
      <tr>
          <td>Template Ordner</td>
          <td><em>n/a</em></td>
          <td><code>src/App/templates</code></td>
      </tr>
      <tr>
          <td>Autoload configuration</td>
          <td><code>&quot;App\\&quot;: &quot;src/App/&quot;</code></td>
          <td><code>&quot;App\\&quot;: &quot;src/App/src/&quot;</code></td>
      </tr>
  </tbody>
</table>
<h2 id="making-the-transition">Making the transition</h2>
<p>Consequently, I needed to make the following changes to convert the project structure:</p>
<ol>
<li>Move contents of <code>src/App</code> to <code>src/App/src</code></li>
<li><em>Optional:</em> Move the templates from within the <code>App</code> folder to <code>src /App/templates</code> and adjust the configured templates path (in my case in <code>config/autoload/application.global.php</code>)</li>
<li>Update the autoload configuration in <code>composer.json</code> to <code>&quot;App\\&quot;: &quot;src/App/src/&quot;</code></li>
<li>Execute <code>composer dump-autoload</code> to update the autoloading classes</li>
</ol>
<p>That&rsquo;s it, the transition is made.</p>
<p>But my initial issue was not solved. I went ahead and re-organized the <code>App</code> module, moving various folders into their own module. For each folder I repeated the following steps.</p>
<ol>
<li>Create a new module <code>$ composer expressive module:create {ModuleName}</code></li>
<li>Moved classes from <code>src/App/src/{ModuleName}/</code> to <code>src/{ModuleName}/src/</code></li>
<li>Updated namespace of classes and imports from <code>App\{ModuleName}</code> to <code>{ModuleName}</code></li>
<li>Moved dependencies definitions from <code>backend/App/src/ConfigProvider.php</code> to <code>backend/{ModuleName}/src/ConfigProvider.php</code></li>
</ol>
<p>Tadaa! Now the setup is much cleaner and simpler. Mission accomplished.</p>
<p>Gude Laune!</p>
]]></content>
        </item>
        
        <item>
            <title>Just do it</title>
            <link>https://arueckauer.github.io/posts/2019/05/just-do-it/</link>
            <pubDate>Thu, 16 May 2019 13:00:00 +0200</pubDate>
            
            <guid>https://arueckauer.github.io/posts/2019/05/just-do-it/</guid>
            <description>&lt;p&gt;The idea of starting my own blog has accompanied me for years. Since I was afraid, it would not see regular updates and quickly become a lonesome tumbleweed, I&amp;rsquo;ve never put it to action.&lt;/p&gt;
&lt;p&gt;However I could never set aside having a tool to record and contain my thought. So here goes nothing.&lt;/p&gt;
&lt;h2 id=&#34;reasons-to-start-and-not-to-end&#34;&gt;Reasons to start and (not) to end&lt;/h2&gt;
&lt;p&gt;My main motivation of starting this blog is to have a&lt;/p&gt;</description>
            <content type="html"><![CDATA[<p>The idea of starting my own blog has accompanied me for years. Since I was afraid, it would not see regular updates and quickly become a lonesome tumbleweed, I&rsquo;ve never put it to action.</p>
<p>However I could never set aside having a tool to record and contain my thought. So here goes nothing.</p>
<h2 id="reasons-to-start-and-not-to-end">Reasons to start and (not) to end</h2>
<p>My main motivation of starting this blog is to have a</p>
<ul>
<li>journal to record my personal progress in software-development and possibly other topics of interest,</li>
<li>notepad for my learnings to go back to and</li>
<li>container for thoughts in gerneral.</li>
</ul>
<p>These are purely personal reasons and writing for an audience other than myself is not a priority at the moment. Also I am not getting payed for it, so this should be fun!</p>
<blockquote>
<p>Can we just have some fun?</p></blockquote>
<p><em>David Picciuto</em> from <a href="https://makesomething.com/">Make Something</a></p>
<p>I definitely do not want to pressure myself to create content on a defined regularity or to set any expectations on quality (which will be difficult).</p>
<h2 id="do-it">Do it</h2>
<p><a href="https://en.wikipedia.org/wiki/Spencer_W._Kimball">Spencer W. Kimball</a>, an American business, civic, and religious leader, is said to have had a sign on his desk saying:</p>
<blockquote>
<p>Do it. Do it right. Do it right now.</p></blockquote>
<p>What I believe he meant with it is: The opportunity to get something accomplished will never be better or easier than right now. Putting something off will make it more difficult as time passes.</p>
<p>I&rsquo;m really looking forward to this adventure, Gude Laune!</p>
]]></content>
        </item>
        
    </channel>
</rss>
